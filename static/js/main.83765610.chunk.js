(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1046:function(e,t,a){},1325:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"code",function(){return Da}),a.d(r,"date",function(){return Na}),a.d(r,"email",function(){return Pa}),a.d(r,"integer",function(){return Fa}),a.d(r,"negativeInteger",function(){return La}),a.d(r,"number",function(){return Ma}),a.d(r,"password",function(){return Ga}),a.d(r,"positiveInteger",function(){return Va}),a.d(r,"repeatPassword",function(){return Ba}),a.d(r,"required",function(){return qa}),a.d(r,"requiredArray",function(){return Ha}),a.d(r,"username",function(){return Wa}),a.d(r,"whatsApp",function(){return Ya});var n=a(0),i=a.n(n),s=a(32),o=a(25),l=a(1336),u=a(246),c=Object(u.a)(),d=a(46),p=a(566),h=(a(600),a(1335)),m={type:null,items:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"LIST_REQUESTED":return{type:r,items:null};case"LIST_RECEIVED":return e.type===r.type?{type:r.type,items:r.items}:e;case"LIST_ERRORED":return{type:null,items:r.message};default:return e}},g=a(26),b=a(14),v={query:"",inactiveMonths:null,selfRegistered:!1,invitationStatus:null,organisationUnits:[]},y={show:!1,props:{message:""}},E={show:!1,props:{},content:null},O={show:!1,id:null,type:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"FILTER_UPDATED":var n=r.updateKey,i=r.updateValue;return Object(b.a)({},e,Object(g.a)({},n,i));case"FILTER_RESET":return Object(b.a)({},v);default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"PAGER_RESET":return null;case"LIST_RECEIVED":return r.items.pager;default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"CLEAR_ITEM":case"ITEM_REQUESTED":return null;case"INIT_NEW_ITEM":case"ITEM_RECEIVED":case"ITEM_ERRORED":return r;default:return e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"CURRENT_USER_REQUESTED":return null;case"CURRENT_USER_RECEIVED":case"CURRENT_USER_ERRORED":return r;default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SHOW_SNACKBAR":return{show:!0,props:r};case"HIDE_SNACKBAR":return Object(b.a)({},y);default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SHOW_DIALOG":return Object(b.a)({show:!0},r);case"HIDE_DIALOG":return Object(b.a)({},E);default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SHOW_SHARING_DIALOG":return Object(b.a)({show:!0},r);case"HIDE_SHARING_DIALOG":return Object(b.a)({},O);default:return e}},I=Object(d.c)({snackbar:R,dialog:w,sharing:k}),C=[p.a];var U=Object(d.c)({list:f,filter:A,pager:T,currentItem:S,currentUser:_,popups:I,form:h.a}),j=Object(d.d)(U,d.a.apply(void 0,C)),x=(a(601),a(20)),D=a(23),N=a(21),P=a(24),F=a(225),L=a.n(F),M=a(1),G=a.n(M),V=a(334),B=a.n(V),q=a(333),H=a.n(q),W=a(43),Y=a(86),Q={spacing:B.a,fontFamily:"Roboto, sans-serif",palette:{primary1Color:W.blue500,primary2Color:W.blue700,primary3Color:W.blue100,accent1Color:W.orange500,accent2Color:W.grey100,accent3Color:W.orangeA200,textColor:W.darkBlack,alternateTextColor:W.white,canvasColor:W.white,borderColor:W.grey400,disabledColor:Object(Y.fade)(W.darkBlack,.3)}},z=H()(Q),K=Object.assign({},z,{forms:{minWidth:350,maxWidth:750},formInput:{fontWeight:100}}),X=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).getChildContext=function(){return{d2:a.props.d2}},a.render=function(){return i.a.createElement(L.a,{muiTheme:K},a.props.children)},a}return Object(P.a)(t,e),t}(n.Component);X.childContextTypes={d2:G.a.object};var $=X,J=a(22),Z=a(2),ee=a.n(Z),te=a(1331),ae=a(1338),re=a(1332),ne=a(16),ie=a.n(ne),se=a(34),oe=a(44),le=a(252),ue=a(70),ce=a(187),de=window._,pe=["displayName","id","access","user[displayName,id]","publicAccess","userGroupAccesses"],he=[].concat(pe,["description"]),me={fields:["organisationUnits[id,path,displayName,children::isNotEmpty]","dataViewOrganisationUnits[id,path,displayName,children::isNotEmpty]","teiSearchOrganisationUnits[id,path,displayName,children::isNotEmpty]"]},fe={paging:!1,fields:["id","path","displayName","children::isNotEmpty","ancestors"]},ge={USER_LIST:["displayName","id","access","userCredentials[username,disabled,lastLogin,twoFA]","teiSearchOrganisationUnits[id,path]"],USER_GROUP_LIST:pe,USER_ROLE_LIST:he,USER_DETAILS:[":owner","access","displayName","userGroups","organisationUnits[id,displayName,path]","dataViewOrganisationUnits[id,displayName,path]","userCredentials[id,username,lastLogin,externalAuth,userRoles[id,displayName],cogsDimensionConstraints[id,displayName,dimensionType],catDimensionConstraints[id,displayName,dimensionType],openId,ldapId]","teiSearchOrganisationUnits[id,path]","whatsApp","facebookMessenger","skype","telegram","twitter"],USER_GROUP_DETAILS:["id","code","access","displayName","name","users","managedGroups","attributeValues"],USER_ROLE_DETAILS:["id","access","displayName","name","users","description","authorities"]},be=function(e){return e?"function"===typeof e.toArray?e.toArray():e:[]},ve=function(e,t){return e.split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},t)},ye=a(95),Ee=a(118),Oe=a.n(Ee),Ae=a(335),Te=a.n(Ae),Se=a(336),_e=a.n(Se),Re=a(68),we=a.n(Re),ke=a(568),Ie=a(343),Ce=a(65),Ue={clear:"both",color:"#c33017",backgroundColor:"#ffe3de",padding:"1.5rem 1.5rem 1rem",fontSize:"1rem",width:"100%"},je=function(e){var t=e.introText,a=e.errorMessage;return i.a.createElement("div",{style:Ue},t,i.a.createElement("pre",null,a))},xe=ee.a.t("Something went wrong when processing your request."),De=function(e){var t=e.message,a=e.messages,r=e.httpStatusCode,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe,i=r&&r>=400&&r<500||!r&&a&&a.length>0;return!t&&a&&a.length>0&&(t=a.map(function(e){return e.message}).join(", ")),i?t:n},Ne={outerWrap:{paddingTop:0,paddingBottom:"2.5rem"},headerWrap:{display:"flex"},headerSpacer:{flex:"0 0 120px"},header:{flex:"1 0 120px",paddingBottom:0,fontSize:"1.2rem"},error:{color:W.red500},errorText:{fontSize:"0.8rem",marginLeft:"0.8rem"}},Pe=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).availableItemsReceivedHandler=function(e){var t=a.props,r=t.initiallyAssignedItems,n=t.returnModelsOnUpdate,i=a.state,s=i.itemStore,o=i.assignedItemStore;n&&(a.modelLookup=new Map);var l=be(r).map(function(e){return e.id}),u=be(e).map(function(e){n&&a.modelLookup.set(e.id,e);var t=e.displayName||e.name;return{value:e.id,text:t}});s.setState(u),o.setState(l)},a.onAssignItems=function(e){var t=a.state.assignedItemStore.state.concat(e);return a.update(t)},a.onRemoveItems=function(e){var t=a.state.assignedItemStore.state.filter(function(t){return-1===e.indexOf(t)});return a.update(t)},a.updateFilterText=function(e){a.setState({filterText:e.target.value})},a.state={itemStore:Ie.a.create(),assignedItemStore:Ie.a.create(),filterText:"",fetchErrorMsg:null},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=Object(se.a)(ie.a.mark(function e(){var t,a;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.availableItemsQuery();case 3:t=e.sent,this.availableItemsReceivedHandler(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=De(e.t0,ee.a.t("Could not load available items")),this.setState({fetchErrorMsg:a});case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var t=this,a=this.props,r=a.onChange,n=a.returnModelsOnUpdate,i=a.onBlur,s=this.state.assignedItemStore,o=n?e.map(function(e){return t.modelLookup.get(e)}):e;return s.setState(e),r(o),i&&i(),Promise.resolve()}},{key:"renderHeader",value:function(){var e=this.props,t=e.availableItemsHeader,a=e.assignedItemsHeader,r=e.errorText,n=r?Object(b.a)({},Ne.header,Ne.error):Ne.header;return i.a.createElement("div",{style:Ne.headerWrap},i.a.createElement(Ce.a,{level:4,style:Ne.header},t),i.a.createElement("div",{style:Ne.headerSpacer}),i.a.createElement(Ce.a,{level:4,style:n},a,r?i.a.createElement("span",{style:Ne.errorText},r):null))}},{key:"renderSearchInput",value:function(){return i.a.createElement(Oe.a,{fullWidth:!0,type:"search",onChange:this.updateFilterText,value:this.state.filterText,floatingLabelText:ee.a.t("Filter"),hintText:ee.a.t("Filter available and selected items"),style:{marginTop:"-16px"}})}},{key:"renderGroupEditor",value:function(){var e=this.state,t=e.itemStore,a=e.assignedItemStore,r=e.filterText,n=e.fetchErrorMsg;if(n){var s=ee.a.t("There was a problem displaying the GroupEditor");return i.a.createElement(je,{introText:s,errorMessage:n})}return i.a.createElement(ke.a,{itemStore:t,assignedItemStore:a,onAssignItems:this.onAssignItems,onRemoveItems:this.onRemoveItems,height:250,filterText:r})}},{key:"render",value:function(){return i.a.createElement("div",{style:Ne.outerWrap},this.renderHeader(),this.renderSearchInput(),this.renderGroupEditor())}}]),t}(n.Component),Fe=a(591),Le=a(54),Me=a.n(Le),Ge=a(88),Ve=a.n(Ge),Be=a(228),qe=a.n(Be),He=a(94),We=a.n(He),Ye={error:{info:{color:W.blue500},warning:{color:W.orange500},error:{color:W.red500}}},Qe=[{text:"loading...",value:i.a.createElement(we.a,{style:{textAlign:"center"}},i.a.createElement(Ve.a,{style:{marginTop:"12px"}}))}],ze={filteredItems:[],searchWarning:null,errorStyle:Ye.error.info},Ke={floatingLabelText:ee.a.t("Search"),hintText:ee.a.t("Enter search term"),fullWidth:!0,type:"search",filter:function(){return!0}},Xe=function(e){function t(e){var a;Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onAutoCompleteChange=function(e){a.setState({autoCompleteText:e}),a.getItems(e)},a.getItems=function(){var e=Object(se.a)(ie.a.mark(function e(t){var r,n,i,s,o,l,u;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props,n=r.minCharLength,i=r.query,s=r.queryParam,t&&!(t.length<n)){e.next=6;break}o=t?ee.a.t("Please enter at least {{ minCharCount }} characters",{minCharCount:n}):null,a.setState(Object(b.a)({},ze,{searchWarning:o})),e.next=19;break;case 6:return a.setState(Object(b.a)({},ze,{filteredItems:Qe})),a.trashableQuery=We()(i(t,s)),e.prev=8,e.next=11,a.trashableQuery;case 11:l=e.sent,(l=be(l)).length>0?(u=l.map(function(e){return{text:e.displayName,value:e}}),a.setState(Object(b.a)({},ze,{filteredItems:u}))):a.setState(Object(b.a)({},ze,{errorStyle:Ye.error.warning,searchWarning:ee.a.t("No matches found")})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),a.setState(Object(b.a)({},ze,{errorStyle:Ye.error.warning,searchWarning:De(e.t0,ee.a.t("There was a problem retreiving your search results"))}));case 19:case"end":return e.stop()}},e,null,[[8,16]])}));return function(t){return e.apply(this,arguments)}}(),a.onItemSelect=function(e){var t=a.props.selectHandler;a.setState({autoCompleteText:""}),t(e)};var r=e.queryDebounceTime||375;return a.state=Object(b.a)({},ze),a.getItems=de.debounce(a.getItems,r),a.trashableQuery=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentWillUnmount",value:function(){this.trashableQuery&&this.trashableQuery.trash()}},{key:"render",value:function(){var e=this.props.autoCompleteProps,t=Object(b.a)({},Ke,e),a=this.state,r=a.filteredItems,n=a.searchWarning,s=a.errorStyle,o=a.autoCompleteText,l=n?0:28,u=Object(b.a)({},t,{onUpdateInput:this.onAutoCompleteChange,onNewRequest:this.onItemSelect,searchText:o,dataSource:r,errorText:n,errorStyle:s,floatingLabelShrinkStyle:s,style:{marginBottom:l},menuStyle:{maxHeight:"600px"}});return i.a.createElement(qe.a,u)}}]),t}(n.Component);Xe.defaultProps={queryDebounceTime:375,minCharLength:3};var $e=Xe,Je=a(55),Ze=a.n(Je),et={wrapper:{minHeight:"300px",maxHeight:"60vh",position:"relative"},scrollBox:{position:"relative",marginTop:"-12px",maxHeight:"calc(60vh - 154px)",minHeight:"calc(300px - 154px)",overflowY:"auto",paddingTop:"8px",paddingBottom:"8px",borderRadius:"2px"},loader:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},buttonStrip:{paddingTop:"16px",height:"36px"},buttonMargin:{marginRight:"8px"},header:{paddingBottom:0,fontSize:"1.2rem",marginBottom:"-16px"}},tt=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).toggleSelectedOrgUnits=function(e,t){var r=a.state.selectedOrgUnits,n=a.getIndexOfOrgUnit(t),i=-1===n?[].concat(Object(oe.a)(r),[t]):[].concat(Object(oe.a)(r.slice(0,n)),Object(oe.a)(r.slice(n+1)));a.update(i,[])},a.selectAndShowFilteredOrgUnit=function(e){var t=e.value,r=a.state.selectedOrgUnits,n=[a.removeLastPathSegment(t)],i=[].concat(Object(oe.a)(r),[t]);a.update(i,n)},a.clearSelection=function(){a.update([]),de.defer(a.applySelection)},a.applySelection=function(){var e=a.state.selectedOrgUnits;(0,a.props.confirmSelection)(e)},a.state={roots:null,selectedOrgUnits:Object(oe.a)(e.selectedOrgUnits),orgUnitFilter:null,initiallyExpanded:a.getInitiallyExpandedItems(e.selectedOrgUnits)},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"getInitiallyExpandedItems",value:function(e){var t=this;return e.reduce(function(e,a){var r=t.removeLastPathSegment(a);return r&&e.push(r),e},[])}},{key:"getIndexOfOrgUnit",value:function(e){var t=this.state.selectedOrgUnits,a=t.find(function(t){return t.path===e.path});return t.indexOf(a)}},{key:"removeLastPathSegment",value:function(e){var t=e.path;return t.substr(0,t.lastIndexOf("/"))}},{key:"update",value:function(e,t){var a=this.props.onChange,r=t?{selectedOrgUnits:e,initiallyExpanded:t}:{selectedOrgUnits:e};a&&a(e.map(function(e){return e.id})),this.setState(r)}},{key:"render",value:function(){var e=this.state,t=e.selectedOrgUnits,a=e.initiallyExpanded,r=e.orgUnitFilter,n=this.props,s=n.roots,o=n.confirmSelection,l=n.cancel,u=n.orgUnitType,c=n.headerText,d=n.wrapperStyle,p=t.map(function(e){return e.path}),h={floatingLabelText:ee.a.t("Search"),hintText:ee.a.t("Enter search term"),fullWidth:!0};return i.a.createElement("div",{style:Object(b.a)({},et.wrapper,d)},c?i.a.createElement(Ce.a,{level:4,style:et.header},c):null,i.a.createElement($e,{autoCompleteProps:h,query:hr.queryOrgUnits,queryParam:u,minCharLength:2,queryDebounceTime:375,selectHandler:this.selectAndShowFilteredOrgUnit}),i.a.createElement(Me.a,{style:et.scrollBox},s?i.a.createElement(Fe.a,{roots:s,onSelectClick:this.toggleSelectedOrgUnits,selected:p,initiallyExpanded:a,orgUnitsPathsToInclude:r}):i.a.createElement(Ve.a,{style:et.loader})),o?i.a.createElement("div",{style:et.buttonStrip},i.a.createElement(Ze.a,{label:ee.a.t("Apply"),primary:!0,style:et.buttonMargin,onClick:this.applySelection,disabled:!s}),i.a.createElement(Ze.a,{label:ee.a.t("Clear all"),secondary:!0,style:et.buttonMargin,onClick:this.clearSelection,disabled:!s}),i.a.createElement(Ze.a,{onClick:l,label:ee.a.t("Cancel")})):null)}}]),t}(n.Component),at=Object(o.b)(function(e,t){return{roots:ea(t.orgUnitType,e.currentUser)}})(tt),rt=(a(1046),a(56)),nt=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onSelectedOnlyChange=function(e,t){a.setState({selectedOnly:t}),a.props.onFilterChange(a.state.searchStr,t)},a.onSearchStrChange=function(e){var t=e.target.value;a.setState({searchStr:t}),a.props.onFilterChange(t,a.state.selectedOnly)},a.state={searchStr:"",selectedOnly:!1},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"authority-editor__filterbar"},i.a.createElement(rt.e,{className:"authority-editor__filter-text-input search-input",floatingLabelText:ee.a.t("Search"),onChange:this.onSearchStrChange,type:"search"}),i.a.createElement(rt.a,{className:"authority-editor__filter-checkbox",label:ee.a.t("Selected authorities only"),checked:this.state.selectedOnly,onCheck:this.onSelectedOnlyChange,style:{width:"300px"}}))}}]),t}(n.Component),it=function(e,t,a,r){return a||r?Object.keys(e).reduce(function(n,i){var s=e[i],o=s.items.filter(function(e){var n=function(e,t){if(!t)return!0;var a=e.name.toLowerCase();return t.some(function(e){return!(e.length<=1&&t.length>1)&&a.indexOf(e)>-1})}(e,a),i=function(e,t,a){return!t||(e.items&&e.items.length?e.items.some(function(e){return a.get(e.id)}):Boolean(a.get(e.id)))}(e,r,t);return n&&i});return n[i]=Object(b.a)({},s,{items:o}),n},{}):e},st=a(569),ot=a.n(st),lt=function(e){var t=e.text,a=e.searchChunks;return a?i.a.createElement(ot.a,{highlightClassName:"authority-editor__search-highlight",searchWords:a,autoEscape:!0,textToHighlight:t}):t},ut=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onChecked=function(e,t){var r=a.props,n=r.authSubject.id,i=r.onCheckedCallBack;a.setState({selected:t}),i(n,t)},a.state={selected:e.selected},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.selected!==this.state.selected&&this.setState({selected:e.selected})}},{key:"render",value:function(){var e=this.props,t=e.authSubject,a=e.withLabel,r=e.disabled,n=this.context.searchChunks,s=t.name,o=t.empty,l=t.implicit,u=a?"authority-editor__auth-checkbox":"".concat("authority-editor__auth-checkbox","--without-label"),c=a?i.a.createElement(lt,{text:s,searchChunks:n}):"";return i.a.createElement("td",null,o?i.a.createElement("div",{className:"authority-editor__empty-cell"}):i.a.createElement(rt.a,{onCheck:this.onChecked,label:c,className:u,checked:this.state.selected||Boolean(l),disabled:l||r}))}}]),t}(n.Component);ut.contextTypes={searchChunks:G.a.array};var ct=ut,dt=new Map([["ALL",ee.a.t("All (Full authority)")],["F_ANALYTICSTABLEHOOK",ee.a.t("Analytics Table Hook")],["F_ATTRIBUTE",ee.a.t("Attribute")],["F_CATEGORY_COMBO",ee.a.t("Category Combo")],["F_CATEGORY",ee.a.t("Category")],["F_CATEGORY_OPTION",ee.a.t("Category Option")],["F_CATEGORY_OPTION_GROUP",ee.a.t("Category Option Group")],["F_CATEGORY_OPTION_GROUP_SET",ee.a.t("Category Option Group Set")],["F_CHART",ee.a.t("Chart")],["F_COLOR_SET",ee.a.t("Color Set")],["F_CONSTANT",ee.a.t("Constant")],["F_DASHBOARD",ee.a.t("Dashboard")],["F_DATAELEMENTGROUPSET",ee.a.t("Data Element Group Sets")],["F_DATAELEMENTGROUP",ee.a.t("Data Element Groups")],["F_DATAELEMENT",ee.a.t("Data Element")],["F_DATAELEMENT_MINMAX",ee.a.t("Min/max rule")],["F_DATASET",ee.a.t("Data Set")],["F_DATAVALUE",ee.a.t("Data Value")],["F_DOCUMENT",ee.a.t("Document")],["F_EVENTCHART",ee.a.t("Event Chart")],["F_EVENTREPORT",ee.a.t("Event Report")],["F_EXTERNAL_MAP_LAYER",ee.a.t("External Map Layer")],["F_INDICATORGROUPSET",ee.a.t("Indicator Group Sets")],["F_INDICATORGROUP",ee.a.t("Indicator Group")],["F_INDICATORTYPE",ee.a.t("Indicator Type")],["F_INDICATOR",ee.a.t("Indicator")],["F_LEGEND_SET",ee.a.t("Legend Set")],["F_MAP",ee.a.t("Map")],["F_MINMAX_DATAELEMENT",ee.a.t("Min-Max Data Element")],["F_OPTIONGROUPSET",ee.a.t("Option Group Set")],["F_OPTIONGROUP",ee.a.t("Option Group")],["F_OPTIONSET",ee.a.t("Option Set")],["F_ORGANISATIONUNIT",ee.a.t("Organisation Unit")],["F_ORGUNITGROUPSET",ee.a.t("Organisation Unit Group Set")],["F_ORGUNITGROUP",ee.a.t("Organisation Unit Group")],["F_PREDICTOR",ee.a.t("Predictor")],["F_PROGRAMSTAGE",ee.a.t("Program Stage")],["F_PROGRAM",ee.a.t("Program")],["F_PROGRAM_INDICATOR",ee.a.t("Program Indicator")],["F_PROGRAM_INDICATOR_GROUP",ee.a.t("Program Indicator Group")],["F_PROGRAM_RULE",ee.a.t("Program Rule")],["F_PROGRAM_TRACKED_ENTITY_ATTRIBUTE_GROUP",ee.a.t("Program Tracked Entity Attribute Group")],["F_PUSH_ANALYSIS",ee.a.t("Push Analysis")],["F_RELATIONSHIPTYPE",ee.a.t("Relationship Type")],["F_REPORTTABLE",ee.a.t("Report Table")],["F_REPORT",ee.a.t("Report")],["F_SECTION",ee.a.t("Section")],["F_SQLVIEW",ee.a.t("SQL View")],["F_TRACKED_ENTITY",ee.a.t("Tracked Entity")],["F_TRACKED_ENTITY_ATTRIBUTE",ee.a.t("Tracked Entity Attribute")],["F_TRACKED_ENTITY_DATAVALUE",ee.a.t("Tracked Entity Data Value")],["F_TRACKED_ENTITY_INSTANCE",ee.a.t("Tracked Entity Instance")],["F_USERGROUP",ee.a.t("User Group")],["F_USERROLE",ee.a.t("User Role")],["F_USER",ee.a.t("User")],["F_VALIDATIONRULEGROUP",ee.a.t("Validation Rule Group")],["F_VALIDATIONRULE",ee.a.t("Validation Rule")],["F_PREDICTORGROUP",ee.a.t("Data predictor group")],["F_SKIP_DATA_IMPORT_AUDIT",ee.a.t("Skip data import audit")]]),pt={metadata:{name:"Metadata",items:null,headers:["Name","Add/Update Public","Add/Update Private","Delete","External access"]},apps:{name:ee.a.t("Apps"),items:null,headers:["Name"]},tracker:{name:ee.a.t("Tracker"),items:null,headers:["Name"]},importExport:{name:ee.a.t("Import-Export"),items:null,headers:["Name"]},system:{name:ee.a.t("System"),items:null,headers:["Name"]}},ht=["_PUBLIC_ADD","_PRIVATE_ADD","_ADD","_DELETE","_EXTERNAL"],mt={id:null,empty:!0},ft={implicit:!0},gt=new Set(["F_CHART_PUBLIC_ADD","F_DASHBOARD_PUBLIC_ADD","F_EVENTCHART_PUBLIC_ADD","F_EVENTREPORT_PUBLIC_ADD","F_MAP_PUBLIC_ADD","F_REPORTTABLE_PUBLIC_ADD"]),bt={tracker:new Set(["F_PROGRAM_DASHBOARD_CONFIG_ADMIN","F_PROGRAM_ENROLLMENT","F_PROGRAM_ENROLLMENT_READ","F_PROGRAM_UNENROLLMENT","F_TEI_CASCADE_DELETE","F_TRACKED_ENTITY_DATAVALUE_READ","F_TRACKED_ENTITY_INSTANCE_SEARCH","F_TRACKED_ENTITY_INSTANCE_SEARCH_IN_ALL_ORGUNITS","F_TRACKED_ENTITY_UPDATE","F_UNCOMPLETE_EVENT","F_VIEW_EVENT_ANALYTICS","F_PROGRAM_RULE_MANAGEMENT","F_ENROLLMENT_CASCADE_DELETE"]),importExport:new Set(["F_EXPORT_DATA","F_EXPORT_EVENTS","F_IMPORT_DATA","F_IMPORT_EVENTS","F_IMPORT_GML","F_METADATA_EXPORT","F_METADATA_IMPORT","F_METADATA_MANAGE","F_SKIP_DATA_IMPORT_AUDIT"]),system:new Set(["ALL","F_APPROVE_DATA","F_APPROVE_DATA_LOWER_LEVELS","F_ACCEPT_DATA_LOWER_LEVELS","F_VIEW_UNAPPROVED_DATA","F_ORGANISATIONUNIT_MOVE","F_ORGANISATIONUNITLEVEL_UPDATE","F_RUN_VALIDATION","F_REPLICATE_USER","F_USER_VIEW","F_USERGROUP_MANAGING_RELATIONSHIPS_ADD","F_USERGROUP_MANAGING_RELATIONSHIPS_VIEW","F_PERFORM_MAINTENANCE","F_SCHEDULING_ADMIN","F_GENERATE_MIN_MAX_VALUES","F_PREDICTOR_RUN","F_INSERT_CUSTOM_JS_CSS","F_SYSTEM_SETTING","F_SEND_EMAIL","F_MOBILE_SETTINGS","F_MOBILE_SENDSMS","F_OAUTH2_CLIENT_MANAGE"])},vt=function(e){return Object.keys(e).forEach(function(t){var a=e[t];a.items=de.sortBy(a.items,"name")}),e},yt=function(e){return!ht.some(function(t){return de.endsWith(e.id,t)})},Et=function(e,t){if(!t.get(e.id))return null;var a=ht.find(function(t){return de.endsWith(e.id,t)}),r=e.id.replace(a,""),n=t.get(r+"_ADD"),i=t.get(r+"_EXTERNAL"),s=gt.has(r+"_PUBLIC_ADD"),o=n||t.get(r+"_PUBLIC_ADD"),l=n?mt:s?ft:t.get(r+"_PRIVATE_ADD"),u=s?ft:t.get(r+"_DELETE"),c=i||mt;return o&&l&&u?(ht.forEach(function(e){return t.delete(r+e)}),{name:dt.get(r)||r,items:[o,l,u,c]}):null},Ot=function(e,t,a){var r=Object.keys(bt).find(function(t){return bt[t].has(e.id)})||"system";"ALL"===e.id&&(e.name=dt.get(e.id)),t[r].items.push(e),a.delete(e.id)},At=function(e){var t=e.reduce(function(e,t){return e.set(t.id,t),e},new Map),a=Object.keys(pt).reduce(function(e,t){return e[t]=Object(b.a)({},pt[t],{items:[]}),e},{}),r=e.reduce(function(e,a){if(de.startsWith(a.id,"M_"))e.apps.items.push(a),t.delete(a.id);else if(yt(a))Ot(a,e,t);else{var r=Et(a,t);r?e.metadata.items.push(r):t.get(a.id)&&Ot(a,e,t)}return e},a);return vt(r)},Tt=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).onAuthGroupChanged=function(e,t){a.context.onAuthChange(e,t),a.isPublicAdd(e)&&a.forceUpdate()},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"isPublicAdd",value:function(e){return de.endsWith(e,"_PUBLIC_ADD")}},{key:"isPrivateAdd",value:function(e){return de.endsWith(e,"_PRIVATE_ADD")}},{key:"render",value:function(){var e,t=this,a=this.props,r=a.name,n=a.items,s=this.context,o=s.shouldSelect,l=s.searchChunks;return n.reduce(function(a,r,n){var s=t.isPublicAdd(r.id),l=t.isPrivateAdd(r.id),u=Boolean(e&&l),c=o(r.id)||u;return s&&(e=c),a.push(i.a.createElement(ct,{key:"authitem-".concat(n),authSubject:r,withLabel:!1,selected:c,disabled:u,onCheckedCallBack:t.onAuthGroupChanged})),a},[i.a.createElement("td",{key:"group-label"},i.a.createElement(lt,{text:r,searchChunks:l}))])}}]),t}(n.Component);Tt.contextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired,searchChunks:G.a.array};var St=Tt,_t=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).renderAuthRow=function(e,t){var r=a.context,n=r.shouldSelect,s=r.onAuthChange;return i.a.createElement("tr",{key:"row-".concat(t)},e.items?i.a.createElement(St,{items:e.items,name:e.name}):i.a.createElement(ct,{authSubject:e,withLabel:!0,selected:n(e.id),onCheckedCallBack:s}))},a.state={renderedItems:null},a.appendInterval=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.authSection.items.length&&(this.setState({renderedItems:null}),this.createBatchedRenderInterval(e.authSection.items))}},{key:"componentWillUnmount",value:function(){clearInterval(this.appendInterval)}},{key:"createBatchedRenderInterval",value:function(e){var t=this,a=0;this.appendInterval=setInterval(function(){var r=t.state.renderedItems||[],n=a+7>e.length?e.length:a+7,i=e.slice(a,n),s=[].concat(Object(oe.a)(r),Object(oe.a)(i));a=n,s.length===e.length&&clearInterval(t.appendInterval),t.setState({renderedItems:s})},10)}},{key:"renderLoaderRow",value:function(){return i.a.createElement("tr",null,i.a.createElement("td",{className:"authority-editor__placeholder-cell"},i.a.createElement(rt.b,{size:24})))}},{key:"renderInfoRow",value:function(e){var t="authority-editor__placeholder-cell",a=ee.a.t("No matches found");return e&&(t+="--error",a=e),i.a.createElement("tr",null,i.a.createElement("td",{className:t},a))}},{key:"renderContent",value:function(e){var t=this.state.renderedItems;return e.items&&t?"string"===typeof e.items?this.renderInfoRow(e.items):0===e.items.length?this.renderInfoRow():this.state.renderedItems.map(this.renderAuthRow):this.renderLoaderRow()}},{key:"renderTableHead",value:function(e){var t=e.headers;return i.a.createElement("thead",null,i.a.createElement("tr",null,t.map(function(e,t){return i.a.createElement("th",{key:"header-".concat(t)},e)})))}},{key:"render",value:function(){var e=this.props,t=e.sectionKey,a=e.authSection,r="authority-editor__auth-group ".concat(t);a.items&&a.items.length>11&&(r+=" scrollable");var n="authority-editor__auth-group-table";return n+=" columns-".concat(a.headers.length),i.a.createElement(rt.c,{className:r},i.a.createElement(Ce.a,{level:6,className:"authority-editor__auth-group-header"},a.name),i.a.createElement("table",{className:n},this.renderTableHead(a),i.a.createElement("tbody",null,this.renderContent(a))))}}]),t}(n.Component);_t.contextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired};var Rt=_t,wt=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).state={filteredAuthorities:e.allGroupedAuthorities,searchChunks:null},a.updateFilter=de.debounce(a.updateFilter,375),a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"getChildContext",value:function(){return{searchChunks:this.state.searchChunks}}},{key:"componentWillReceiveProps",value:function(e){this.updateFilteredAuthorities(e.allGroupedAuthorities,null,null)}},{key:"updateFilter",value:function(e,t){var a=this.props.allGroupedAuthorities;this.updateFilteredAuthorities(a,e,t)}},{key:"updateFilteredAuthorities",value:function(e,t,a){var r=this.context.selectedItemsLookup,n=t?t.toLowerCase().split(" "):null;this.setState({filteredAuthorities:it(e,r,n,a),searchChunks:n})}},{key:"render",value:function(){var e=this.state.filteredAuthorities;return i.a.createElement("div",{className:"authority-editor__auth-group-wrap"},Object.keys(e).map(function(t){return i.a.createElement(Rt,{key:t,sectionKey:t,authSection:e[t]})}))}}]),t}(n.Component);wt.contextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired,selectedItemsLookup:G.a.object.isRequired},wt.childContextTypes={searchChunks:G.a.array};var kt=wt,It=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onFilterChange=function(e,t){a.filteredAuthSections.updateFilter(e,t)},a.onAuthChange=function(e,t){var r=a.props,n=r.reduxFormOnBlur,i=r.reduxFormOnChange,s=[];a.selectedItemsLookup.set(e,t),a.selectedItemsLookup.forEach(function(e,t){e&&s.push(t)}),i&&i(s),n&&n()},a.shouldSelect=function(e){return Boolean(a.selectedItemsLookup.get(e))},a.state={allGroupedAuthorities:pt},a.selectedItemsLookup=e.initiallySelected.reduce(function(e,t){return e.set(t,!0)},new Map),a.groupedAuthoritiesPromise=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"getChildContext",value:function(){return{shouldSelect:this.shouldSelect,onAuthChange:this.onAuthChange,selectedItemsLookup:this.selectedItemsLookup}}},{key:"componentDidMount",value:function(){var e=Object(se.a)(ie.a.mark(function e(){var t;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.groupedAuthoritiesPromise=We()(hr.getGroupedAuthorities()),e.prev=1,e.next=4,this.groupedAuthoritiesPromise;case 4:t=e.sent,this.setState({allGroupedAuthorities:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.handleAuthorityFetchError(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.groupedAuthoritiesPromise.trash()}},{key:"handleAuthorityFetchError",value:function(e){var t=De(e,ee.a.t("There was a problem retreiving the available authorities.")),a=Object.keys(pt).reduce(function(e,a){return e[a]=Object(b.a)({},pt[a],{items:t}),e},{});this.setState({allGroupedAuthorities:a})}},{key:"getChangedProperties",value:function(e,t){return Object.keys(e).reduce(function(a,r){return e[r]!==t[r]&&a.push(r),a},[])}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.getChangedProperties(e,this.props),r=this.getChangedProperties(t,this.state),n=[].concat(Object(oe.a)(a),Object(oe.a)(r));return n.length>0&&n.includes("allGroupedAuthorities")}},{key:"render",value:function(){var e=this,t=this.state.allGroupedAuthorities;return i.a.createElement("div",{className:"authority-editor"},i.a.createElement(Ce.a,{level:4,className:"authority-editor__header"},ee.a.t("Authorities")),i.a.createElement(nt,{onFilterChange:this.onFilterChange}),i.a.createElement(kt,{ref:function(t){e.filteredAuthSections=t},allGroupedAuthorities:t}))}}]),t}(n.Component);It.defaultProps={initiallySelected:[]},It.childContextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired,selectedItemsLookup:G.a.object.isRequired};var Ct=It,Ut={checkbox:{marginTop:"32px",fontSize:"16px"},warning:{color:W.orange500}},jt=function(e){var t=e.input,a=e.label,r=e.meta,n=r.touched,s=r.error,o=r.asyncValidating,l=Object(ye.a)(e,["input","label","meta"]),u=o?ee.a.t("Validating..."):n&&s;return o&&(l.errorStyle=Ut.warning),i.a.createElement(Oe.a,Object.assign({floatingLabelText:a,hintText:a,fullWidth:!0,errorText:u},l,t))},xt=function(e){var t=e.input,a=e.label;return i.a.createElement(Te.a,Object.assign({checked:Boolean(t.value),onCheck:t.onChange,label:a},t,{style:Ut.checkbox}))},Dt=function(e){var t=e.input,a=e.label,r=e.meta,n=r.touched,s=r.error,o=r.asyncValidating,l=e.options,u=e.style,c=o?ee.a.t("Validating..."):n&&s,d=o?Ut.warning:void 0;return i.a.createElement(_e.a,Object.assign({floatingLabelText:a,fullWidth:!0},t,{onChange:function(e,a,r){t.onChange(r),setTimeout(function(){return t.onBlur(r)},1)},style:u,errorText:c,errorStyle:d}),l.map(function(e,t){var a=e.id,r=e.label;return i.a.createElement(we.a,{key:"option_".concat(t),value:a,primaryText:r})}))},Nt=function(e){var t=e.input,a=e.meta,r=a.touched,n=a.error,s=e.availableItemsQuery,o=e.availableItemsLabel,l=e.assignedItemsLabel,u=e.initialValues,c=Object(ye.a)(e,["input","meta","availableItemsQuery","availableItemsLabel","assignedItemsLabel","initialValues"]);return i.a.createElement(Pe,Object.assign({initiallyAssignedItems:u,onChange:t.onChange,onBlur:t.onBlur,availableItemsQuery:s,availableItemsHeader:o,assignedItemsHeader:l,errorText:r&&n},c))},Pt=function(e){var t=e.input,a=e.label,r=e.wrapperStyle,n=e.initialValues,s=e.orgUnitType;return i.a.createElement(at,{selectedOrgUnits:n,onChange:t.onChange,wrapperStyle:r,headerText:a,orgUnitType:s})},Ft=function(e){var t=e.name,a=e.label,r=e.style;return i.a.createElement("p",{key:t,style:r},a)},Lt="groupForm",Mt="name",Gt="users",Vt="code",Bt="managedGroups",qt={loaderWrap:{paddingTop:"2rem",textAlign:"center"}},Ht=[{name:Mt,label:ee.a.t("Name"),fieldRenderer:jt,isRequiredField:!0},{name:Vt,label:ee.a.t("Code"),fieldRenderer:jt},{name:Gt,fieldRenderer:Nt,isRequiredField:!0,initialItemsSelector:function(e){return be(e[Gt])},availableItemsQuery:"getManagedUsers",availableItemsLabel:ee.a.t("Available users"),assignedItemsLabel:ee.a.t("Group members")},{name:Bt,fieldRenderer:Nt,initialItemsSelector:function(e){return be(e[Bt])},availableItemsQuery:"getAvailableUserGroups",availableItemsLabel:ee.a.t("Available user groups"),assignedItemsLabel:ee.a.t("Managed user groups")}],Wt=de.memoize(function(e){if(null===e)return e;var t=e.total,a=e.pageCount,r=e.page,n=e.query.pageSize,i=t-(t-(a-(a-r))*n),s=1+i-n,o=i;return e.currentlyShown="".concat(s," - ").concat(o>t?t:o),e}),Yt=function(e,t){if(!e||"string"===typeof e)return e;var a=e.modelDefinition.name;return e.toArray().map(function(e){return Qt[a](e,t)})},Qt={user:function(e){return e.userName=e.userCredentials.username,e.disabled=e.userCredentials.disabled,e.lastLogin=e.userCredentials.lastLogin,e},userRole:function(e){return e},userGroup:function(e,t){return e.currentUserIsMember=Boolean(t.get(e.id)),e}},zt=de.memoize(function(e){return e.length<3?e.map(function(e){return e.displayName}).join(", "):ee.a.t("{{count}} selected",{count:e.length})}),Kt=function(e,t,a){a===ma?t[a]=[].concat(Object(oe.a)(e.catDimensionConstraints),Object(oe.a)(e.cogsDimensionConstraints)):e[a]&&!de.isUndefined(e[a].size)||Array.isArray(e[a])?t[a]=be(e[a]).map(function(e){return e.id}):t[a]=e[a]},Xt=de.memoize(function(e,t,a){var r=Object(g.a)({},ia,va);return e.id&&(fa.forEach(function(t){Kt(e,r,t)}),ga.forEach(function(t){Kt(e.userCredentials,r,t)}),a.forEach(function(e){return r[e.name]=e.value})),r[da]=t.ui.selected||"en",r[pa]=t.db.selected,r}),$t=de.memoize(function(e,t){var a={};return Ht.forEach(function(t){Kt(e,a,t.name)}),t.forEach(function(e){return a[e.name]=e.value}),a}),Jt=de.memoize(function(e){var t=be(ve("userCredentials.catDimensionConstraints",e)),a=be(ve("userCredentials.cogsDimensionConstraints",e));return[].concat(Object(oe.a)(t),Object(oe.a)(a))}),Zt=de.memoize(function(e,t){return t&&e?t.get(e):null}),ea=function(e,t){var a=t.systemOrganisationUnitRoots,r=t[e],n=t[ha],i=null;return t.authorities.has("ALL")?i=a:0===r.size?i=n.toArray():n.size>0&&(i=n.toArray()),i},ta=function(e){var t=e&&e.registeredFields,a=e&&e.values;return(Boolean(t&&t[ia])&&a&&a[ia])===ya},aa={loaderWrap:{paddingTop:"2rem",textAlign:"center"},toggler:{color:W.blue600},orgUnitTree:{width:"calc(50% - 60px)",float:"left",minHeight:"100px",maxHeight:"1200px"},togglerWrap:{clear:"both",paddingTop:"1.2rem",marginBottom:"1.5rem"},additionalFieldsWrap:{clear:"both",paddingTop:"1.5rem"}},ra="userForm",na="username",ia="inviteUser",sa="externalAuth",oa="password",la="repeatPassword",ua="openId",ca="ldapId",da="interfaceLanguage",pa="databaseLanguage",ha="organisationUnits",ma="catCogsDimensionConstraints",fa=["surname","firstName","email","phoneNumber","whatsApp","facebookMessenger","skype","telegram","twitter",ha,"dataViewOrganisationUnits","userGroups","teiSearchOrganisationUnits"],ga=[na,sa,oa,ua,ca,"userRoles",ma],ba="use_db_locale",va="SET_PASSWORD",ya="INVITE_USER",Ea={label:ee.a.t("Selecting an organisation unit provides access to all units in the sub-hierarchy"),fieldRenderer:Ft,style:{clear:"both",paddingTop:"0.8rem",fontStyle:"italic",fontSize:"0.9rem"}},Oa=[{name:ia,label:ee.a.t("Create account or email invitation"),fieldRenderer:Dt,options:[{id:va,label:"Create account with user details"},{id:ya,label:"Email invitation to create account"}],props:{style:{}}}],Aa=[{name:na,label:ee.a.t("Username"),fieldRenderer:jt,isRequiredField:"CREATE_REQUIRED"},{name:"email",label:ee.a.t("E-mail"),fieldRenderer:jt,isRequiredField:"INVITE_REQUIRED"},{name:sa,label:ee.a.t("External authentication only (OpenID or LDAP)"),fieldRenderer:xt},{name:oa,label:ee.a.t("Password"),fieldRenderer:jt,isRequiredField:"CREATE_REQUIRED",props:{type:"password"}},{name:la,label:ee.a.t("Retype password"),fieldRenderer:jt,isRequiredField:"CREATE_REQUIRED",props:{type:"password"}},{name:"surname",label:ee.a.t("Surname"),isRequiredField:"ALWAYS_REQUIRED",fieldRenderer:jt},{name:"firstName",label:ee.a.t("First name"),isRequiredField:"ALWAYS_REQUIRED",fieldRenderer:jt},{name:ua,label:ee.a.t("OpenID"),fieldRenderer:jt},{name:ca,label:ee.a.t("LDAP identifier"),fieldRenderer:jt},{name:"phoneNumber",label:ee.a.t("Mobile phone number"),fieldRenderer:jt},{name:"whatsApp",label:ee.a.t("WhatsApp"),fieldRenderer:jt},{name:"facebookMessenger",label:ee.a.t("Facebook Messenger"),fieldRenderer:jt},{name:"skype",label:ee.a.t("Skype"),fieldRenderer:jt},{name:"telegram",label:ee.a.t("Telegram"),fieldRenderer:jt},{name:"twitter",label:ee.a.t("Twitter"),fieldRenderer:jt},{name:da,label:ee.a.t("Interface language"),fieldRenderer:Dt,optionsSelector:"locales.ui.available"},{name:pa,label:ee.a.t("Database language"),fieldRenderer:Dt,optionsSelector:"locales.db.available"},{name:"userRoles",fieldRenderer:Nt,isRequiredField:"ALWAYS_REQUIRED",initialItemsSelector:function(e){return be(ve("userCredentials.userRoles",e)||[])},availableItemsQuery:"getAvailableUserRoles",availableItemsLabel:ee.a.t("Available roles"),assignedItemsLabel:ee.a.t("Selected roles")},{name:ha,label:ee.a.t("Data capture and maintenance organisation units"),orgUnitType:ha,fieldRenderer:Pt,wrapperStyle:Object(b.a)({},aa.orgUnitTree,{paddingRight:"60px"})},{name:"dataViewOrganisationUnits",label:ee.a.t("Data output and analytic organisation units"),orgUnitType:"dataViewOrganisationUnits",fieldRenderer:Pt,wrapperStyle:Object(b.a)({},aa.orgUnitTree,{paddingLeft:"60px"})},Object(b.a)({},Ea,{name:"org_unit_info_1"})],Ta=[{name:"teiSearchOrganisationUnits",label:ee.a.t("Search Organisation Units"),orgUnitType:"teiSearchOrganisationUnits",fieldRenderer:Pt,wrapperStyle:Object(b.a)({},aa.orgUnitTree,{paddingRight:"60px"})},Object(b.a)({},Ea,{name:"org_unit_info_2"}),{name:"userGroups",fieldRenderer:Nt,initialItemsSelector:function(e){return be(e.userGroups)||[]},availableItemsQuery:"getAvailableUserGroups",availableItemsLabel:ee.a.t("Available user groups"),assignedItemsLabel:ee.a.t("Selected user groups")},{name:ma,fieldRenderer:Nt,initialItemsSelector:function(e){return Jt(e)},availableItemsQuery:"getAvailableDataAnalyticsDimensionRestrictions",availableItemsLabel:ee.a.t("Available dimension restrictions for data analytics"),assignedItemsLabel:ee.a.t("Selected dimension restrictions for data analytics"),returnModelsOnUpdate:!0}],Sa="user",_a="userRole",Ra="userGroup",wa=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,ka=/^\+(?:[0-9].?){4,14}[0-9]$/,Ia=/[0-9]{4}-[0-9]{2}-[0-9]{2}/,Ca=/^(?=.*[a-z]).+$/,Ua=/^(?=.*[A-Z]).+$/,ja=/^(?=.*[0-9]).+$/,xa=/[^a-zA-Z0-9]/;function Da(e){if(za(e)&&e.length>50)return ee.a.t("Exceeds maximum character limit of 50")}function Na(e){if(za(e)&&!Ia.test(e))return ee.a.t("Please enter a valid date with the following format yyyy-mm-dd")}function Pa(e){if(za(e)&&!wa.test(e))return ee.a.t("Please provide a valid email address")}function Fa(e){if(za(e)&&!Qa(e))return ee.a.t("Value should be an integer")}function La(e){if(za(e)&&(!Qa(e)||parseInt(e,10)>=0))return ee.a.t("Value should be a nagative integer")}function Ma(e){if(za(e)&&isNaN(e))return ee.a.t("Value should be a number")}function Ga(e,t,a){if(function(e,t){if(t.inviteUser)return!1;return!(Boolean(t.user.id)&&!e[oa]&&!e[la])}(t,a)){var r=function(e){if(!za(e))return ee.a.t("This field is required");if(e.length<8)return ee.a.t("Password should be at least 8 characters long");if(e.length>35)return ee.a.t("Password should be no longer than 34 characters");if(!Ca.test(e))return ee.a.t("Password should contain at least one lowercase letter");if(!Ua.test(e))return ee.a.t("Password should contain at least one UPPERCASE letter");if(!ja.test(e))return ee.a.t("Password should contain at least one number");if(!xa.test(e))return ee.a.t("Password should have at least one special character");return null}(t[oa]);return r||void 0}}function Va(e){if(za(e)&&(!Qa(e)||parseInt(e,10)<=0))return ee.a.t("Value should be a positive integer")}function Ba(e,t){if(t[la]!==t[oa])return ee.a.t("Passwords do not match")}function qa(e){return za(e)?void 0:ee.a.t("This field is required")}function Ha(e){if(!(Array.isArray(e)&&e.length>0))return ee.a.t("This field is required. Please select at least one")}function Wa(e){return za(e)&&e.length<2?ee.a.t("A username should be at least 2 characters long"):za(e)&&e.length>140?ee.a.t("Username may not exceed 140 characters"):void 0}function Ya(e){if(za(e)&&!ka.test(e))return ee.a.t("Please provide a valid international phone number (+0123456789)")}function Qa(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t}function za(e){return"undefined"!==typeof e&&null!==e&&""!==e}var Ka,Xa="not-a-date";var $a="userAttibute_",Ja="no_value";function Za(e,t){return e.map(function(e){return function(e,t){var a=e.id,r=e.valueType,n=e.displayName,i=e.mandatory,s=e.unique,o=e.optionSet,l=t&&t.find(function(e){return e.attribute.id===a}),u=function(e,t,a){var r=t?Object(b.a)({},ar.OPTION_SET,{props:{options:t.options.map(function(e){return{id:e.id,label:e.displayName}})}}):ar[e]||ar.TEXT;r.fieldRenderer!==Dt||a||r.props.options[0].id===Ja||(r.props.options=[{id:Ja,label:ee.a.t("<No value>")}].concat(Object(oe.a)(r.props.options)));return r}(r,o,i);return Object(b.a)({name:$a+a,isAttributeField:!0,label:n,isRequiredField:i,shouldBeUnique:s,attributeId:a,value:l&&l.value||null,valueType:r},u)}(e,t)})}function er(e,t){e.forEach(function(e){var a=e.shouldBeUnique,r=e.name;a&&t.push(r)})}function tr(e,t){var a=t.reduce(function(e,t){var a=t.attributeId,r=t.valueType;return e[a]=r,e},{});return Object.keys(e).reduce(function(t,r){if(-1!==r.indexOf($a)){var n=r.replace($a,""),i=e[r];"TRUE_ONLY"===a[n]&&!i||i===Ja||t.push({value:i,attribute:{id:n}})}return t},[])}var ar={OPTION_SET:{fieldRenderer:Dt},TEXT:{fieldRenderer:jt},LONG_TEXT:{fieldRenderer:jt,props:{multiLine:!0,rows:3,rowsMax:6}},DATE:{fieldRenderer:jt,props:{type:"date",floatingLabelFixed:function(){if("undefined"!==typeof Ka)return Ka;var e=document.createElement("input");return e.setAttribute("type","date"),e.setAttribute("value",Xa),Ka=e.value!==Xa,e=null,Ka}(),hintText:null},fieldValidators:[Na]},BOOLEAN:{fieldRenderer:Dt,props:{options:[{id:"true",label:ee.a.t("Yes")},{id:"false",label:ee.a.t("No")}]}},TRUE_ONLY:{fieldRenderer:xt},NUMBER:{fieldRenderer:jt,fieldValidators:[Ma]},INTEGER:{fieldRenderer:jt,fieldValidators:[Fa]},INTEGER_POSITIVE:{fieldRenderer:jt,fieldValidators:[Va]},INTEGER_NEGATIVE:{fieldRenderer:jt,fieldValidators:[La]}};var rr=function(e,t){var a=de.snakeCase(e).toUpperCase(),r="".concat(a,t?"_DETAILS":"_LIST");return ge[r]},nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,i=t.query,s=t.inactiveMonths,o=t.selfRegistered,l=t.invitationStatus,u=t.organisationUnits,c={pageSize:50,fields:a,page:e,order:r===Sa?["firstName:asc","surname:asc"]:"name:asc"};if(r!==Sa||ir(n)||(c.userOrgUnits=!0,c.includeChildren=!0),i&&(c.query=i),s&&(c.inactiveMonths=s),o&&(c.selfRegistered=o),l&&(c.invitationStatus=l),u.length){var d=u.map(function(e){return e.id}).join();c.filter="organisationUnits.id:in:[".concat(d,"]")}return c},ir=function(e){return e.authorities.has("ALL")},sr=function(e,t,a){de.isUndefined(t)||(e[a]=Array.isArray(t)?t.map(function(e){return{id:e}}):t)},or=function(e,t,a,r){var n=!t.id,i=t.id||Object(ce.generateUid)(),s=t.userCredentials&&t.userCredentials.id||Object(ce.generateUid)(),o=t.modelDefinition.getOwnedPropertyNames(),l={id:i,userCredentials:{id:s,userInfo:{id:i},cogsDimensionConstraints:[],catDimensionConstraints:[]}},u=l.userCredentials;if(Array.isArray(e.catCogsDimensionConstraints)&&e.catCogsDimensionConstraints.forEach(function(e){"CATEGORY_OPTION_GROUP_SET"===e.dimensionType?u.cogsDimensionConstraints.push({id:e.id}):u.catDimensionConstraints.push({id:e.id})}),fa.forEach(function(t){return sr(l,e[t],t)}),ga.forEach(function(t){return sr(u,e[t],t)}),l.attributeValues=tr(e,r),delete u[ma],(a||e[sa])&&(delete u[oa],delete u[la]),!n){var c=!0,d=!1,p=void 0;try{for(var h,m=o[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var f=h.value;t[f]&&!l[f]&&(l[f]=t[f])}}catch(g){d=!0,p=g}finally{try{c||null==m.return||m.return()}finally{if(d)throw p}}}return l},lr=function(e,t,a){return"/userSettings/key".concat(e,"Locale?user=").concat(t,"&value=").concat(a)},ur=function(e){return{id:e.locale,label:e.name}},cr=function(e,t){var a=j.getState().currentUser;if(a.authorities.has("ALL"))return e.toArray();var r=a[t].size>0?a[t]:a[ha];return e.toArray().filter(function(e){var t=Boolean(r.get(e.id)),a=!t&&e.ancestors.toArray().some(function(e){return Boolean(r.get(e.id))});return t||a})},dr=function(e){return e.forEach(function(e){e.displayName+=" (".concat(e.userCredentials.username,")")}),e},pr=function(e){var t=[],a=!0,r=!1,n=void 0;try{for(var i,s=e.typeReports[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var o=i.value,l=!0,u=!1,c=void 0;try{for(var d,p=o.objectReports[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value,m=!0,f=!1,g=void 0;try{for(var b,v=h.errorReports[Symbol.iterator]();!(m=(b=v.next()).done);m=!0){var y=b.value;t.push({message:y.message})}}catch(E){f=!0,g=E}finally{try{m||null==v.return||v.return()}finally{if(f)throw g}}}}catch(E){u=!0,c=E}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}catch(E){r=!0,n=E}finally{try{a||null==s.return||s.return()}finally{if(r)throw n}}return{messages:t}},hr=new(function(){function e(){var t=this;Object(x.a)(this,e),this.getD2=function(){return t.d2},this.getContextPath=function(){return t.d2.system.systemInfo.contextPath},this.getList=function(e,a,r){var n=rr(e),i=nr(a,r,n,e,t.getCurrentUser());return t.d2.models[e].list(i)},this.getItem=function(e,a){var r={fields:rr(e,!0)};return t.d2.models[e].get(a,r)},this.genericFind=function(e,a,r){return t.d2.models[e].filter().on(a).equals(r).list({fields:["id"]})},this.replicateUser=function(e,a,r){var n="/users/".concat(e,"/replica"),i={username:a,password:r};return t.d2Api.post(n,i)},this.queryOrgUnits=function(e,a){var r=Object(b.a)({},fe,{query:e});return t.d2.models.organisationUnits.list(r).then(function(e){return cr(e,a)})},this.getAvailableUserRoles=function(){return t.d2.models.userRoles.list({canIssue:!0,fields:["id","displayName"],paging:!1})},this.getAvailableDataAnalyticsDimensionRestrictions=function(){return t.d2Api.get("/dimensions/constraints",{fields:["id","name","dimensionType"],paging:!1}).then(function(e){return e.dimensions})},this.updateDisabledState=function(e,a){var r="/users/".concat(e),n={userCredentials:{disabled:a}};return t.d2Api.patch(r,n)},this.disable2FA=function(e){var a="/users/".concat(e);return t.d2Api.patch(a,{userCredentials:{twoFA:!1}})},this.getSelectedAndAvailableLocales=function(e){e=e?encodeURIComponent(e):null;var a={id:ba,label:ee.a.t("Use database locale / no translation")},r=t.d2Api.get("/locales/db"),n=t.d2Api.get("/locales/ui"),i=e?t.d2Api.get("/userSettings/keyUiLocale?user=".concat(e)):t.d2.system.settings.get("keyUiLocale"),s=e?t.d2Api.get("/userSettings/keyDbLocale?user=".concat(e)):Promise.resolve(ba);return Promise.all([r,n,s,i]).then(function(e){var t=Object(le.a)(e,4),r=t[0],n=t[1],i=t[2],s=t[3];return{db:{available:[a].concat(Object(oe.a)(r.map(ur))),selected:i||ba},ui:{available:n.map(ur),selected:s}}})},this.saveOrInviteUser=function(e,a,r,n,i,s){var o=or(e,a,r,s),l=r?"/users/invite":"/users";return(a.id?t.d2Api.update("/users/".concat(a.id),o):t.d2Api.post(l,o)).then(function(a){if("ERROR"===a.status)return Promise.reject(pr(a));var r=[],s=encodeURIComponent(e.username),o=e[da];o!==n&&r.push(t.d2Api.post(lr("Ui",s,o)));var l=e[pa];if(l!==i){var u=l===ba?t.d2Api.delete("/userSettings/keyDbLocale?user=".concat(s)):t.d2Api.post(lr("Db",s,l));r.push(u)}return 0===r.length&&r.push(Promise.resolve("No locale changes detected")),Promise.all(r)})},this.getManagedUsers=function(){return t.d2.models.user.list({fields:["id","displayName","userCredentials[username]"],paging:!1}).then(dr)},this.getAvailableUserGroups=function(){return t.d2.models.userGroups.list({fields:["id","displayName"],paging:!1})},this.getGroupedAuthorities=function(){if(t.groupedAuths)return Promise.resolve(t.groupedAuths);var e="".concat(t.getContextPath(),"/dhis-web-commons/security/getSystemAuthorities.action");return t.d2Api.request("GET",e).then(function(e){var a=e.systemAuthorities;return t.groupedAuths=At(a)})},this.getCurrentUser=function(){return t.d2.currentUser},this.initCurrentUser=function(){return Promise.all([t.d2.currentUser.getUserGroups(),t.d2.currentUser.getUserRoles(),t.getCurrentUserOrgUnits(),t.getSystemOrgUnitRoots()]).then(function(e){var a=Object(le.a)(e,4),r=a[0],n=a[1],i=a[2],s=i.organisationUnits,o=i.dataViewOrganisationUnits,l=i.teiSearchOrganisationUnits,u=a[3];return Object.assign(t.d2.currentUser,{userGroups:r,userRoles:n,organisationUnits:s,dataViewOrganisationUnits:o,teiSearchOrganisationUnits:l,systemOrganisationUnitRoots:u})})},this.refreshCurrentUser=function(){var e=Object.getPrototypeOf(t.d2.currentUser).constructor,a=t.d2.models;return Promise.all([t.d2Api.get("me",{fields:[":all","organisationUnits[id]","userGroups[id]","userCredentials[:all,!user,userRoles[id]"]}),t.d2Api.get("me/authorization"),t.d2Api.get("userSettings")]).then(function(r){var n=Object(le.a)(r,3),i=n[0],s=n[1],o=n[2];return t.d2.currentUser=e.create(i,s,a,o),t.initCurrentUser()})},this.getCurrentUserOrgUnits=function(){return t.d2.models.users.get(t.d2.currentUser.id,me)},this.getSystemOrgUnitRoots=function(){return t.d2.models.organisationUnits.list({paging:!1,level:1,fields:"id,path,displayName,children::isNotEmpty"}).then(function(e){return e.toArray()})},this.updateCurrentUserGroupMembership=function(e,a){var r=a?"delete":"post",n="/users/".concat(t.d2.currentUser.id,"/userGroups/").concat(e);return t.d2Api[r](n)},Object(ue.getInstance)().then(function(e){t.d2=e,t.d2Api=e.Api.getApi()})}return Object(J.a)(e,[{key:"getAttributes",value:function(e){return this.d2Api.get("attributes",{fields:["id","displayName","mandatory","unique","valueType","optionSet[options[id,displayName]]"],filter:"".concat(e,"Attribute:eq:true"),paging:!1}).then(function(e){return e.attributes})}},{key:"isAttributeUnique",value:function(e,t,a,r){return this.d2.models[e].filter().on("id").notEqual(t).filter().on("attributeValues.attribute.id").equals(a).filter().on("attributeValues.value").equals(r).list({paging:!1,fields:["id","attributeValues[value, attribute[id]]"]}).then(function(e){return 0===e.size||0===function(e,t,a){return e.toArray().reduce(function(e,r){return e.concat(r.attributeValues.filter(function(e){return t===e.value&&a===e.attribute.id}))},[])}(e,r,a).length})}},{key:"saveRole",value:function(e){return e.id?this.d2Api.update("/userRoles/".concat(e.id),e):this.d2Api.post("/userRoles/",e)}}]),e}()),mr=function(e,t){return{type:e,payload:t}},fr=function(){var e=Object(se.a)(ie.a.mark(function e(t,a,r,n){var i;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||t(mr("LIST_REQUESTED",r)),e.prev=1,e.next=4,a;case 4:i=e.sent,t(mr("LIST_RECEIVED",{type:r,items:i})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(mr("LIST_ERRORED",{type:r,error:e.t0}));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a,r,n){return e.apply(this,arguments)}}(),gr=function(e,t){return function(a,r){var n=r(),i=n.filter,s=n.pager,o=s?s.page:1,l=hr.getList(e,o,i);fr(a,l,e,t)}},br=function(){var e=Object(se.a)(ie.a.mark(function e(t,a,r){var n;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(mr(t.requested)),e.prev=1,e.next=4,a;case 4:n=e.sent,r(mr(t.received,n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(mr(t.errored,e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a,r){return e.apply(this,arguments)}}(),vr=function(e,t){return function(a){br({requested:"ITEM_REQUESTED",received:"ITEM_RECEIVED",errored:"ITEM_ERRORED"},hr.getItem(e,t),a)}},yr={requested:"CURRENT_USER_REQUESTED",received:"CURRENT_USER_RECEIVED",errored:"CURRENT_USER_ERRORED"},Er=function(){return function(e){br(yr,hr.refreshCurrentUser(),e)}},Or=function(){return mr("CLEAR_ITEM")},Ar=function(e,t){return mr("FILTER_UPDATED",{updateKey:e,updateValue:t})},Tr=function(e){return mr("SHOW_SNACKBAR",e)},Sr=function(){return mr("HIDE_SNACKBAR")},_r=function(e,t){return mr("SHOW_DIALOG",{content:e,props:t})},Rr=function(){return mr("HIDE_DIALOG")},wr=a(143),kr=a(229),Ir=a.n(kr),Cr=a(570),Ur=a.n(Cr),jr=a(590),xr=a(575),Dr=(a(1110),a(1111),function(e){c.push(e)}),Nr=a(337),Pr=a.n(Nr),Fr=a(242);Object(Fr.a)(function(e){return"boolean"===typeof e.value},function(e){return e.value?i.a.createElement("div",{style:{width:"40px"}},i.a.createElement(Pr.a,null)):null});var Lr={dataTableWrap:{flex:1},clearBoth:{clear:"both"},filterBar:{display:"table",marginBottom:"1rem",width:"100%"},headerBarPagination:{float:"right",marginTop:"14px"},headerBarFilterWrap:{display:"table",marginRight:"230px"},pagination:{userSelect:"none"}},Mr=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).executeEditIfAllowed=function(e){var t=a.props,r=t.isContextActionAllowed,n=t.primaryAction,i=t.showSnackbar,s=t.hideSnackbar;r(e,"edit")?n(e):i({message:"".concat(ee.a.t("You are not allowed to edit")," ").concat(e.displayName),action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:s})},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.items,a=e.getList,r=e.resetFilter,n=e.resetPager,i=e.entityType,s=e.listType;null!==t&&s===i||(s!==i&&(r(),n()),a(i))}},{key:"getPagerConfig",value:function(e){return e||{page:null,pageCount:null,total:null,currentlyShown:null}}},{key:"renderPagination",value:function(){var e=this.props,t=e.pager,a=e.items,r=e.incrementPage,n=e.decrementPage,s=this.getPagerConfig(t),o=s.page,l=s.pageCount,u=s.total,c=s.currentlyShown,d=!a||0===a.length||"string"===typeof a?Object(b.a)({},Lr.pagination,{visibility:"hidden"}):Lr.pagination,p={hasNextPage:function(){return o&&a&&a.length&&o<l},hasPreviousPage:function(){return o&&a&&a.length&&o>1},onNextPageClick:function(){r(t)},onPreviousPageClick:function(){n(t)},total:u,currentlyShown:c,style:d};return i.a.createElement("div",{style:d},i.a.createElement(xr.a,p))}},{key:"renderHeaderBar",value:function(){var e=this.props,t=e.FilterComponent,a=e.entityType;return i.a.createElement("div",{className:"data-table__filter-bar",style:Lr.filterBar},i.a.createElement("div",{style:Lr.headerBarPagination},this.renderPagination()),i.a.createElement("div",{style:Lr.headerBarFilterWrap},i.a.createElement(t,{entityType:a})))}},{key:"renderDataTable",value:function(){var e=this.props,t=e.items,a=e.columns,r=e.contextMenuActions,n=e.contextMenuIcons,s=e.isContextActionAllowed;if("string"===typeof t){var o=ee.a.t("There was an error fetching the list");return i.a.createElement(je,{introText:o,errorMessage:t})}return null===t?i.a.createElement(wr.a,null):0===t.length?i.a.createElement("div",{style:Lr.clearBoth},"No results found."):i.a.createElement(jr.a,{rows:t,columns:a,primaryAction:this.executeEditIfAllowed,contextMenuActions:r,contextMenuIcons:n,isContextActionAllowed:s})}},{key:"render",value:function(){var e=this.props,t=e.sectionName,a=e.newItemPath,r=e.className;return i.a.createElement("div",{style:Lr.dataTableWrap,className:r},i.a.createElement(Ce.a,null,t),this.renderHeaderBar(),this.renderDataTable(),this.renderPagination(),i.a.createElement(Ir.a,{className:"entity-list__add-new-entity",onClick:function(){return Dr(a)}},i.a.createElement(Ur.a,null)))}}]),t}(n.Component);Mr.defaultProps={className:"paged-filterable-data-table"};var Gr=Object(o.b)(function(e){return{listType:e.list.type,items:Yt(e.list.items,e.currentUser.userGroups),pager:Wt(e.pager)}},{getList:gr,resetFilter:function(){return mr("FILTER_RESET")},resetPager:function(){return mr("PAGER_RESET")},incrementPage:function(e){return function(t,a){var r=a().list.type;fr(t,e.getNextPage(),r)}},decrementPage:function(e){return function(t,a){var r=a().list.type;fr(t,e.getPreviousPage(),r)}},showSnackbar:Tr,hideSnackbar:Sr})(Mr),Vr=a(144),Br=function(){j.dispatch(Er())},qr=function(){var e=hr.getContextPath()+"/dhis-web-commons-security/logout.action";window.location.assign(e)},Hr=function(e,t){var a=j.getState().currentUser,r=e.modelDefinition.name;r===Sa&&e.id===a.id&&(t?qr():Br()),r===_a&&a.userRoles.get(e.id)&&Br(),r===Ra&&a.userGroups.get(e.id)&&Br()},Wr=function(e){var t=e.model,a=e.entityType,r={type:t.modelDefinition.displayName,displayName:t.displayName},n=ee.a.t('Are you sure you want to remove the {{type}} "{{displayName}}"?',r),i=ee.a.t('{{type}} "{{displayName}}" removed successfully',r),s=ee.a.t('There was a problem removing {{type}} "{{displayName}}"?',r),o={message:n,action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:function(){return Yr(t,i,s,a)}};j.dispatch(Tr(o))},Yr=function(){var e=Object(se.a)(ie.a.mark(function e(t,a,r,n){var i;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j.dispatch(Sr()),e.prev=1,e.next=4,t.delete();case 4:j.dispatch(Tr({message:a})),j.dispatch(gr(n)),Hr(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),i=De(e.t0,r),j.dispatch(Tr({message:i}));case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a,r,n){return e.apply(this,arguments)}}(),Qr=function(e){var t,a,r=e.data;j.dispatch((t=r.id,a=r.modelDefinition.name,mr("SHOW_SHARING_DIALOG",{id:t,type:a})))},zr=a(1334),Kr=a(1333);function Xr(e,t,a,r){return $r.apply(this,arguments)}function $r(){return($r=Object(se.a)(ie.a.mark(function e(t,a,r,n){var i,s,o;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.asyncErrors,n||i){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if(r.form!==ra||n!==na){e.next=9;break}return e.next=6,an(t,r);case 6:s=e.sent,e.next=18;break;case 9:if(r.form!==Lt||n!==Vt&&n!==Mt){e.next=15;break}return e.next=12,nn(t,r,n);case 12:s=e.sent,e.next=18;break;case 15:return e.next=17,on(t,r,n);case 17:s=e.sent;case 18:if(!(o=i||s?Object(b.a)({},i,s):void 0)){e.next=23;break}throw o;case 23:return e.abrupt("return",Promise.resolve());case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jr(){return(Jr=Object(se.a)(ie.a.mark(function e(t,a,r,n){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",en(t,r,n,an));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zr(){return(Zr=Object(se.a)(ie.a.mark(function e(t,a,r,n){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",en(t,r,n,nn));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(e,t,a,r){return tn.apply(this,arguments)}function tn(){return(tn=Object(se.a)(ie.a.mark(function e(t,a,r,n){var i;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.next=4,n(t,a,r);case 4:if(!(i=e.sent)){e.next=9;break}throw i;case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function an(e,t){return rn.apply(this,arguments)}function rn(){return(rn=Object(se.a)(ie.a.mark(function e(t,a){var r,n;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[na],n=a.form!==cn&&a.user&&a.user.id,r&&!n){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.prev=4,e.next=7,hr.genericFind("users","userCredentials.username",r);case 7:if(!(e.sent.size>0)){e.next=10;break}return e.abrupt("return",Object(g.a)({},na,ee.a.t("Username already taken")));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",Object(g.a)({},na,ee.a.t("There was a problem whilst checking the availability of this username")));case 15:case"end":return e.stop()}},e,null,[[4,12]])}))).apply(this,arguments)}function nn(e,t,a){return sn.apply(this,arguments)}function sn(){return(sn=Object(se.a)(ie.a.mark(function e(t,a,r){var n,i,s,o,l,u,c,d;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.group,i=a.role,o=(s=i||n).modelDefinition.name,l=t[r],u=de.capitalize(r),l){e.next=7;break}return e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.next=10,hr.genericFind(o,r,l);case 10:if(!((c=e.sent).size>0)){e.next=15;break}if(c.values().next().value.id===s.id){e.next=15;break}return e.abrupt("return",Object(g.a)({},r,ee.a.t("{{fieldDisplayName}} is already taken",{fieldDisplayName:u})));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(7),d=ee.a.t("Could not verify if this {{fieldDisplayName}} is unique",{fieldDisplayName:u}),e.abrupt("return",Object(g.a)({},r,De(e.t0,d)));case 21:case"end":return e.stop()}},e,null,[[7,17]])}))).apply(this,arguments)}function on(e,t,a){return ln.apply(this,arguments)}function ln(){return(ln=Object(se.a)(ie.a.mark(function e(t,a,r){var n,i,s,o;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r]){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return i=a.form===ra?Sa:Ra,s=i===Sa?a.user.id||"_":a.group.id||"_",o=r.replace($a,""),e.prev=6,e.next=9,hr.isAttributeUnique(i,s,o,n);case 9:if(e.sent){e.next=12;break}return e.abrupt("return",Object(g.a)({},r,ee.a.t("Attribute value needs to be unique, value already taken.")));case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",Object(g.a)({},r,ee.a.t("There was a problem checking if this attribute value is unique")));case 17:case"end":return e.stop()}},e,null,[[6,14]])}))).apply(this,arguments)}var un,cn="replicateUserForm",dn=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).replicateUser=function(){var e=Object(se.a)(ie.a.mark(function e(t){var r,n,i,s,o;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,n=r.user,i=r.hideDialog,s=t.username,o=t.password,e.prev=2,e.next=5,hr.replicateUser(n.id,s,o);case 5:a.replicateSuccesHandler(n.displayName),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.replicateErrorHandler(e.t0);case 11:i();case 12:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.replicateSuccesHandler=function(e){var t=a.props,r=t.getList;(0,t.showSnackbar)({message:ee.a.t('User "{{displayName}}" replicated successfuly',{displayName:e})}),r(Sa,!0)},a.replicateErrorHandler=function(e){(0,a.props.showSnackbar)({message:De(e,ee.a.t("There was a problem replicating the user"))})},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.submitting,a=e.pristine,r=e.valid,n=e.handleSubmit,s=e.hideDialog,o=e.asyncValidating,l=Boolean(t||o||a||!r);return i.a.createElement("form",{onSubmit:n(this.replicateUser)},i.a.createElement(zr.a,{name:na,component:jt,label:ee.a.t("Username"),hintText:ee.a.t("Username for new user"),validate:[Wa]}),i.a.createElement(zr.a,{name:oa,component:jt,label:ee.a.t("Password"),hintText:ee.a.t("Password for new user"),validate:[Ga],type:"password"}),i.a.createElement("div",{style:{marginTop:16}},i.a.createElement(rt.d,{label:ee.a.t("Replicate"),type:"submit",disabled:l,primary:!0}),i.a.createElement(rt.d,{label:ee.a.t("Cancel"),onClick:s,style:{marginLeft:8}})))}}]),t}(n.Component),pn=Object(Kr.a)({form:cn,asyncValidate:function(e,t,a,r){return Jr.apply(this,arguments)},asyncBlurFields:[na]})(dn),hn=Object(o.b)(function(e){return{formState:e.form[cn]}},{getList:gr,hideDialog:Rr,showSnackbar:Tr,hideSnackbar:Sr})(pn),mn=function(e,t){var a=j.getState().currentUser;if(!e)return!1;var r=e.access,n=e.userCredentials,i=n.disabled,s=n.twoFA;switch(t){case"profile":return r.read;case"edit":return r.update;case"remove":return a.id!==e.id&&r.delete;case"replicate":return r.update&&a.authorities.has("F_REPLICATE_USER");case"disable":return r.update&&!i;case"enable":return r.update&&i;case"disable_2fa":return r.update&&s;default:return!0}},fn=(un={},Object(g.a)(un,"profile","account_circle"),Object(g.a)(un,"edit","edit"),Object(g.a)(un,"remove","delete"),Object(g.a)(un,"replicate","content_copy"),Object(g.a)(un,"disable","block"),Object(g.a)(un,"enable","playlist_add_check"),Object(g.a)(un,"disable_2fa","phonelink_erase"),un),gn=Vr.a.createActionsFromNames(["profile","edit","remove","replicate","disable","enable","disable_2fa"]);gn.profile.subscribe(function(e){var t=e.data.id;Dr("/users/view/".concat(t))}),gn.edit.subscribe(function(e){var t=e.data.id;Dr("/users/edit/".concat(t))}),gn.remove.subscribe(function(e){var t=e.data;Wr({model:t,entityType:Sa})}),gn.replicate.subscribe(function(e){var t=e.data,a=i.a.createElement(hn,{user:t}),r={onRequestClose:function(){return j.dispatch(Rr())},title:ee.a.t("Replicate user")};j.dispatch(_r(a,r))}),gn.disable.subscribe(function(e){var t=e.data;yn(t,!0)}),gn.enable.subscribe(function(e){var t=e.data;yn(t,!1)}),gn.disable_2fa.subscribe(function(e){var t=e.data;bn(t)});var bn=function(e){var t=ee.a.t("Are you sure you want to disable two factor authentication for"),a={message:"".concat(t," ").concat(e.displayName),action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:function(){return vn(e)}};j.dispatch(Tr(a))},vn=function(){var e=Object(se.a)(ie.a.mark(function e(t){var a,r,n;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j.dispatch(Sr()),a=t.displayName,r=t.id,e.prev=2,e.next=5,hr.disable2FA(r);case 5:n=ee.a.t("Succesfully disabled two factor authentication for"),j.dispatch(Tr({message:"".concat(n," ").concat(a)})),j.dispatch(gr(Sa)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),j.dispatch(Tr({message:De(e.t0,ee.a.t("There was a problem updating two factor authentication"))}));case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),yn=function(e,t){var a=t?ee.a.t("Are you sure you want to disable"):ee.a.t("Are you sure you want to enable"),r={message:"".concat(a," ").concat(e.displayName),action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:function(){return En(e,t)}};j.dispatch(Tr(r))},En=function(){var e=Object(se.a)(ie.a.mark(function e(t,a){var r,n,i;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j.dispatch(Sr()),r=t.displayName,n=t.id,e.prev=2,e.next=5,hr.updateDisabledState(n,a);case 5:i=a?ee.a.t("sucessfully disabled"):ee.a.t("successfully enabled"),j.dispatch(Tr({message:"".concat(r," ").concat(i)})),j.dispatch(gr(Sa)),a&&Hr(t,!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j.dispatch(Tr({message:De(e.t0,ee.a.t("There was a problem updating the enabled state"))}));case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t,a){return e.apply(this,arguments)}}(),On=a(577),An=a(87),Tn=a.n(An),Sn=a(578),_n=a.n(Sn),Rn=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).applyFilter=function(e){var t=a.props,r=t.updateFilter,n=t.hideDialog,i=t.getList,s=t.selectedOrgUnits;de.isEqual(e,s)||(r("organisationUnits",e),i(Sa)),n()},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedOrgUnits,a=e.hideDialog;return i.a.createElement(at,{orgUnitType:"teiSearchOrganisationUnits",selectedOrgUnits:t,confirmSelection:this.applyFilter,cancel:a})}}]),t}(n.Component),wn=Object(o.b)(function(e){return{selectedOrgUnits:e.filter.organisationUnits,fallbackOrgUnits:e.currentUser[ha]}},{updateFilter:Ar,hideDialog:Rr,getList:gr})(Rn),kn={wrap:{position:"relative",lineHeight:"24px",height:"72px",cursor:"pointer",float:"left",marginRight:"1rem"},icon:{position:"absolute",right:0,top:38,width:20,height:20,color:"rgba(0, 0, 0, 0.3)",cursor:"pointer"},textField:{cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"152px"},input:{width:"calc(100% - 20px)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},In=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).focusOrgUnitInput=function(){a.refs.orgUnitInput.focus()},a.showOrgTreeInDialog=function(){var e=a.props,t=e.showDialog,r=e.hideDialog;t(i.a.createElement(wn,null),{onRequestClose:r,title:ee.a.t("Select an organisation unit"),contentStyle:{minHeight:"100vh"}})},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props.organisationUnits;return i.a.createElement("div",{style:kn.wrap,onClick:this.focusOrgUnitInput},i.a.createElement(_n.a,{style:kn.icon}),i.a.createElement(Tn.a,{ref:"orgUnitInput",style:kn.textField,floatingLabelText:ee.a.t("Organisation unit"),onFocus:this.showOrgTreeInDialog,value:e,inputStyle:kn.input}))}}]),t}(n.Component),Cn=Object(o.b)(function(e){return{organisationUnits:zt(e.filter.organisationUnits)}},{showDialog:_r,hideDialog:Rr})(In),Un="query",jn={float:"left",marginRight:"1rem",width:"236px"},xn=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).updateSearchFilter=function(e){var t=a.props,r=t.getList,n=t.entityType;(0,t.updateFilter)(Un,e),r(n)},a.onQueryStrChange=function(e){var t=e.target.value;a.setState({localQueryStr:t}),a.updateSearchFilter(t)},a.state={localQueryStr:e.filter.query},a.updateSearchFilter=de.debounce(a.updateSearchFilter,375),a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.state.localQueryStr;return i.a.createElement(Oe.a,{className:"search-input",floatingLabelText:ee.a.t("Search by name"),style:jn,hintText:"",value:e,type:"search",onChange:this.onQueryStrChange})}}]),t}(n.Component),Dn=Object(o.b)(function(e){return{filter:e.filter}},{getList:gr,updateFilter:Ar})(xn),Nn={float:"left",marginRight:"1rem"},Pn=Object(b.a)({},Nn,{display:"inline-block",float:"left",width:"182px",paddingTop:"37px",height:"35px"}),Fn=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).onFilterChange=function(e,t){var r=a.props,n=r.getList,i=r.entityType,s=r.updateFilter;r.filter[e]!==t&&(s(e,t),n(i))},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"createInactiveMonthsOptions",value:function(){var e=ee.a.t("month"),t=ee.a.t("months");return Array(12).fill().map(function(a,r){var n=r+1;return{id:n,displayName:1===n?"".concat(n," ").concat(e):"".concat(n," ").concat(t)}})}},{key:"renderDropDown",value:function(e){var t=Object(b.a)({},e,{includeEmpty:!0,emptyLabel:ee.a.t("<No value>")});return i.a.createElement(On.a,t)}},{key:"renderInactiveMonthsFilter",value:function(){var e=this,t={menuItems:this.createInactiveMonthsOptions(),floatingLabelText:ee.a.t("Inactivity"),value:this.props.filter.inactiveMonths,onChange:function(t){return e.onFilterChange("inactiveMonths",t.target.value)},style:Object(b.a)({},Nn,{width:"132px"})};return this.renderDropDown(t)}},{key:"renderInvitationStatusFilter",value:function(){var e=this,t={menuItems:[{id:"all",displayName:ee.a.t("All invitations")},{id:"expired",displayName:ee.a.t("Expired invitations")}],floatingLabelText:ee.a.t("Invitations"),value:this.props.filter.invitationStatus,onChange:function(t){return e.onFilterChange("invitationStatus",t.target.value)},style:Object(b.a)({},Nn,{width:"172px"})};return this.renderDropDown(t)}},{key:"renderSelfRegisteredFilter",value:function(){var e=this,t=this.props.filter.selfRegistered,a="".concat("data-table__filter-bar__checkbox","--checked");return i.a.createElement(rt.a,{value:t,onCheck:function(t,a){return e.onFilterChange("selfRegistered",a)},label:ee.a.t("Self registrations"),className:t?a:"data-table__filter-bar__checkbox",style:Pn})}},{key:"render",value:function(){var e=this.props.entityType;return i.a.createElement("div",null,i.a.createElement(Dn,{entityType:e}),i.a.createElement(Cn,null),this.renderInactiveMonthsFilter(),this.renderInvitationStatusFilter(),this.renderSelfRegisteredFilter())}}]),t}(n.Component),Ln=Object(o.b)(function(e){return{filter:e.filter}},{updateFilter:Ar,getList:gr})(Fn),Mn=function(){return i.a.createElement(Gr,{entityType:Sa,columns:["displayName","userName","lastLogin","disabled"],FilterComponent:Ln,primaryAction:gn.edit,contextMenuActions:gn,contextMenuIcons:fn,isContextActionAllowed:mn,sectionName:ee.a.t("User Management"),newItemPath:"/users/new",className:"user-list"})},Gn=a(1330),Vn=a(74),Bn=a.n(Vn),qn=function(e){var t=e.to,a=e.tooltip,r=e.icon,n=i.a.createElement(Bn.a,{iconClassName:"material-icons",tooltip:a},r);return t?i.a.createElement(Gn.a,{to:t},n):n},Hn="name",Wn="description",Yn="authorities",Qn=[{name:Hn,label:ee.a.t("Name"),fieldRenderer:jt,isRequiredField:!0},{name:Wn,label:ee.a.t("Description"),fieldRenderer:jt},{name:Yn,label:ee.a.t("Authorities"),fieldRenderer:function(e){var t=e.input,a=""===t.value?[]:t.value;return i.a.createElement(Ct,{initiallySelected:a,reduxFormOnChange:t.onChange,reduxFormOnBlur:t.onBlur})}}],zn=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).saveRole=function(){var e=Object(se.a)(ie.a.mark(function e(t,r,n){var i,s,o,l,u,c,d;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.role,o=n.showSnackbar,l=n.clearItem,u=n.getList,c=Object(b.a)({},s.toJSON(),(i={},Object(g.a)(i,Hn,t[Hn]),Object(g.a)(i,Wn,t[Wn]),Object(g.a)(i,Yn,t[Yn]),i)),e.prev=2,e.next=5,hr.saveRole(c);case 5:d=ee.a.t('User role "{{displayName}}" saved successfully',{displayName:c[Hn]}),o({message:d}),l(),u(_a),a.backToList(),Hr(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o({message:De(e.t0,ee.a.t("There was a problem saving the user role."))});case 16:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.backToList=function(){Dr("/user-roles")},a.render=function(){var e=a.props,t=e.handleSubmit,r=e.submitting,n=e.asyncValidating,s=e.pristine,o=e.valid,l=Boolean(r||n||s||!o);return i.a.createElement("main",null,i.a.createElement("form",{onSubmit:t(a.saveRole)},a.renderFields(),i.a.createElement("div",{style:{marginTop:"2rem"}},i.a.createElement(Ze.a,{label:ee.a.t("Save"),type:"submit",primary:!0,disabled:l,style:{marginRight:"8px"}}),i.a.createElement(Ze.a,{label:ee.a.t("Cancel"),onClick:a.backToList}))))},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"renderFields",value:function(){return Qn.map(function(e){var t=e.name,a=e.fieldRenderer,r=e.label,n=e.isRequiredField,s=Object(ye.a)(e,["name","fieldRenderer","label","isRequiredField"]),o=r+(n?" *":""),l=t===Hn?[qa]:[];return i.a.createElement(zr.a,Object.assign({name:t,key:t,component:a,label:o,validate:l},s))})}}]),t}(n.Component),Kn=Object(Kr.a)({form:"roleForm",asyncValidate:function(e,t,a,r){return Zr.apply(this,arguments)},asyncBlurFields:[Hn]})(zn),Xn=Object(o.b)(function(e){var t;return{role:e.currentItem,initialValues:(t={},Object(g.a)(t,Hn,e.currentItem[Hn]),Object(g.a)(t,Wn,e.currentItem[Wn]),Object(g.a)(t,Yn,e.currentItem[Yn]||[]),t)}},{clearItem:Or,showSnackbar:Tr,getList:gr})(Kn);var $n=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).saveGroup=function(){var e=Object(se.a)(ie.a.mark(function e(t,r,n){var i,s,o,l,u;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.group,s=n.showSnackbar,o=n.clearItem,l=n.getList,i[Mt]=t[Mt],i[Vt]=t[Vt],i[Gt]=t[Gt].map(a.createIdValueObject),i[Bt]=t[Bt].map(a.createIdValueObject),i.attributeValues=tr(t,a.state.attributeFields),e.prev=6,e.next=9,i.save();case 9:u=ee.a.t('User group "{{displayName}}" saved successfully',{displayName:i.name}),s({message:u}),o(),l(Ra),a.backToList(),Hr(i),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),s({message:De(e.t0,ee.a.t("There was a problem saving the user group."))});case 20:case"end":return e.stop()}},e,null,[[6,17]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.backToList=function(){Dr("/user-groups")},a.state={attributeFields:null},a.trashableAttributesPromise=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=Object(se.a)(ie.a.mark(function e(){var t,a,r,n,i,s;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.group,r=t.showSnackbar,n=t.initialize,this.trashableAttributesPromise=We()(hr.getAttributes(Ra)),e.prev=2,e.next=5,this.trashableAttributesPromise;case 5:i=e.sent,er(s=Za(i,a.attributeValues),this.props.asyncBlurFields),this.setState({attributeFields:s}),n($t(a,s)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),r({message:De(e.t0,ee.a.t("Could not load the user group data. Please refresh the page."))});case 16:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"createIdValueObject",value:function(e){return{id:"string"===typeof e?e:e.id}}},{key:"renderFields",value:function(e){var t=this,a=this.props.group;return e.map(function(e){var r=e.name,n=e.fieldRenderer,s=e.label,o=e.isRequiredField,l=e.isAttributeField,u=(e.shouldBeUnique,e.attributeId,e.fieldValidators),c=(e.valueType,Object(ye.a)(e,["name","fieldRenderer","label","isRequiredField","isAttributeField","shouldBeUnique","attributeId","fieldValidators","valueType"])),d=s+(o?" *":"");return n===Nt&&(c.availableItemsQuery=hr[c.availableItemsQuery],o&&(c.assignedItemsLabel+=" *"),c.initialValues=e.initialItemsSelector(a)),c.validate=function(e,t,a,r,n){var i=[],s=r&&a;return t===Mt&&i.push(qa),t===Gt&&i.push(Ha),t===Vt&&i.push(Da),s&&i.push(qa),r&&n&&i.push.apply(i,Object(oe.a)(n)),i}(t.props,r,o,l,u),i.a.createElement(zr.a,Object.assign({name:r,key:r,component:n,label:d,validate:[]},c))})}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.submitting,r=e.asyncValidating,n=e.pristine,s=e.valid,o=this.state.attributeFields,l=Boolean(a||r||n||!s);return o?i.a.createElement("main",null,i.a.createElement("form",{onSubmit:t(this.saveGroup)},this.renderFields(Ht),this.renderFields(o),i.a.createElement("div",{style:{marginTop:"2rem"}},i.a.createElement(Ze.a,{label:ee.a.t("Save"),type:"submit",primary:!0,disabled:l,style:{marginRight:"8px"}}),i.a.createElement(Ze.a,{label:ee.a.t("Cancel"),onClick:this.backToList})))):i.a.createElement("div",{style:qt.loaderWrap},i.a.createElement(Ve.a,null))}}]),t}(n.Component),Jn=Object(Kr.a)({form:Lt,asyncValidate:Xr,asyncBlurFields:[Mt,Vt]})($n),Zn=Object(o.b)(function(e){return{group:e.currentItem}},{clearItem:Or,showSnackbar:Tr,getList:gr})(Jn),ei=a(1337),ti=a(117),ai=a.n(ti),ri=a(340),ni=a.n(ri),ii=a(341),si=a.n(ii),oi=Object(b.a)({},r,{userRoles:Ha}),li=new Set([na,oa,la,"surname","firstName"]),ui=new Set(["email","surname","firstName"]),ci=new Set(["surname","firstName"]);var di=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).toggleShowMore=function(){a.setState({showMore:!a.state.showMore})},a.handleSubmit=function(){var e=Object(se.a)(ie.a.mark(function e(t,r,n){var i,s,o,l,u,c,d,p;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.user,s=n.inviteUser,o=n.showSnackbar,l=n.clearItem,u=n.getList,c=a.state.locales.ui.selected,d=a.state.locales.db.selected,e.prev=3,e.next=6,hr.saveOrInviteUser(t,i,s,c,d,a.state.attributeFields);case 6:p=ee.a.t('User "{{displayName}}" saved successfully',{displayName:"".concat(t.firstName," ").concat(t.surname)}),o({message:p}),l(),u(Sa),a.backToList(),Hr(i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0),o({message:De(e.t0,ee.a.t("There was a problem saving the user."))});case 18:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.backToList=function(){Dr("/users")},a.state={showMore:!1,locales:null,attributeFields:null},a.trashableAttributesPromise=null,a.trashableLocalePromise=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=Object(se.a)(ie.a.mark(function e(){var t,a,r,n,i,s,o,l;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.user,r=t.showSnackbar,n=t.initialize,i=a.id?a.userCredentials.username:null,this.trashableLocalePromise=We()(hr.getSelectedAndAvailableLocales(i)),this.trashableAttributesPromise=We()(hr.getAttributes(Sa)),e.prev=4,e.next=7,this.trashableLocalePromise;case 7:return s=e.sent,e.next=10,this.trashableAttributesPromise;case 10:o=e.sent,er(l=Za(o,a.attributeValues),this.props.asyncBlurFields),this.setState({locales:s,attributeFields:l}),n(Xt(a,s,l)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.error(e.t0),r({message:De(e.t0,ee.a.t("Could not load the user data. Please refresh the page."))});case 21:case"end":return e.stop()}},e,this,[[4,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.trashableLocalePromise.trash(),this.trashableAttributesPromise.trash()}},{key:"getLabelText",value:function(e,t,a){var r=this.props.inviteUser;return"ALWAYS_REQUIRED"===a||r&&"INVITE_REQUIRED"===a||"CREATE_REQUIRED"===a&&!t.id&&!r||"boolean"===typeof a&&a?"".concat(e," *"):e}},{key:"prepareGroupEditor",value:function(e,t,a,r){e.assignedItemsLabel=this.getLabelText(e.assignedItemsLabel,a,r),e.availableItemsQuery=hr[e.availableItemsQuery],e.initialValues=t.initialItemsSelector(a)}},{key:"exludeField",value:function(e){var t=this.props,a=t.user,r=t.inviteUser,n=t.externalAuthOnly;return!(this.context.d2.system.systemInfo.emailConfigured&&!a.id||e!==ia)||(!(!r&&!n||e!==oa&&e!==la)||!(!r||![sa,ua,ca].includes(e)))}},{key:"renderFields",value:function(e){var t=this,a=this.props.user;return e.reduce(function(e,r){var n=r.name,s=r.fieldRenderer,o=r.label,l=r.isRequiredField,u=r.isAttributeField,c=(r.shouldBeUnique,r.attributeId,r.fieldValidators),d=(r.valueType,Object(ye.a)(r,["name","fieldRenderer","label","isRequiredField","isAttributeField","shouldBeUnique","attributeId","fieldValidators","valueType"])),p=t.getLabelText(o,a,l);if(t.exludeField(n))return e;if(s===Ft)return e.push(Ft(r)),e;switch(s){case jt:d.hintText||(d.hintText=o),d.disabled=Boolean(n===na&&a.id);break;case Pt:d.initialValues=be(a[r.name]);break;case Nt:t.prepareGroupEditor(d,r,a,l);break;case Dt:d.options=r.optionsSelector?ve(r.optionsSelector,t.state):r.options}return d.validate=function(e,t,a,r,n){var i=[],s=Boolean(e.user.id),o=r&&a,l=oi[t],u=!r&&s?ci.has(t):e.inviteUser?ui.has(t):li.has(t);return l&&i.push(l),(o||u)&&i.push(qa),r&&n&&i.push.apply(i,Object(oe.a)(n)),i}(t.props,n,l,u,c),e.push(i.a.createElement(zr.a,Object.assign({name:n,key:n,component:s,label:p},d))),e},[])}},{key:"renderCreateOrInviteField",value:function(){return this.renderFields(Oa)}},{key:"renderAttributeFields",value:function(){return this.renderFields(this.state.attributeFields)}},{key:"renderBaseFields",value:function(){return this.renderFields(Aa)}},{key:"renderAdditionalFields",value:function(e){return e?i.a.createElement("div",{style:aa.additionalFieldsWrap},this.renderFields(Ta)):null}},{key:"renderToggler",value:function(e){var t=e?ee.a.t("Show fewer options"):ee.a.t("Show more options"),a=e?i.a.createElement(ni.a,null):i.a.createElement(si.a,null);return i.a.createElement("div",{style:aa.togglerWrap},i.a.createElement(ai.a,{onClick:this.toggleShowMore,label:t,style:aa.toggler,icon:a}))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.submitting,r=e.asyncValidating,n=e.pristine,s=e.valid,o=e.inviteUser,l=this.state,u=l.showMore,c=l.locales,d=Boolean(a||r||n||!s),p=!0===o?ee.a.t("Send invite"):ee.a.t("Save");return c?i.a.createElement("main",null,i.a.createElement("form",{onSubmit:t(this.handleSubmit)},this.renderCreateOrInviteField(),this.renderBaseFields(),this.renderAttributeFields(),this.renderAdditionalFields(u),this.renderToggler(u),i.a.createElement("div",null,i.a.createElement(Ze.a,{label:p,type:"submit",primary:!0,disabled:d,style:{marginRight:"8px"}}),i.a.createElement(Ze.a,{label:ee.a.t("Cancel"),onClick:this.backToList})))):i.a.createElement("div",{style:aa.loaderWrap},i.a.createElement(Ve.a,null))}}]),t}(n.Component);di.contextTypes={d2:G.a.object.isRequired};var pi=Object(ei.a)(ra),hi=Object(Kr.a)({form:ra,asyncValidate:Xr,asyncBlurFields:[na]})(di),mi=Object(o.b)(function(e){return{user:e.currentItem,fallbackOrgUnits:e.currentUser[ha],inviteUser:ta(e.form[ra]),externalAuthOnly:Boolean(pi(e,sa))}},{clearItem:Or,showSnackbar:Tr,getList:gr})(hi),fi={main:{width:"100%",paddingLeft:"2rem"},heading:{paddingBottom:"1rem"},paper:{padding:"2rem 5rem 4rem"}},gi=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id,a=e.item,r=e.getItem,n=e.initNewItem,i=e.entityType;!t||a&&a.id===t?t||n(i):r(i,t),this.formNotFoundErrorMsg=ee.a.t("There was an error getting the form:")}},{key:"renderForm",value:function(){switch(this.props.entityType){case Sa:return i.a.createElement(mi,null);case _a:return i.a.createElement(Xn,null);case Ra:return i.a.createElement(Zn,null);default:return i.a.createElement(je,{introText:this.formNotFoundErrorMsg,errorMessage:""})}}},{key:"renderHeader",value:function(){var e=this.props,t=e.match.params.id,a=e.item,r=e.shortItem,n=e.entityType,s=a&&a.id===t?a:r,o=s?s.modelDefinition.displayName:de.capitalize(n),l=s?s.displayName:"",u="".concat(ee.a.t("Update")," ").concat(o,": ").concat(l),c="".concat(ee.a.t("Create new")," ").concat(o),d=t?u:c,p=s?"/".concat(de.kebabCase(s.modelDefinition.plural)):null,h="".concat(ee.a.t("Back to")," ").concat(o,"s");return i.a.createElement(Ce.a,{style:fi.heading},i.a.createElement(qn,{to:p,tooltip:h,disabled:Boolean(p),icon:"arrow_back"}),d)}},{key:"renderContent",value:function(){var e=this.props,t=e.match.params.id,a=e.item;return"string"===typeof a?i.a.createElement(je,{introText:this.formNotFoundErrorMsg,errorMessage:a}):!a||a&&a.id!==t?i.a.createElement("div",{style:{textAlign:"center",paddingTop:"2rem"}},i.a.createElement(rt.b,null)):this.renderForm()}},{key:"render",value:function(){return i.a.createElement("main",{style:fi.main},this.renderHeader(),i.a.createElement(rt.c,{style:fi.paper},this.renderContent()))}}]),t}(n.Component),bi=Object(o.b)(function(e,t){return{item:e.currentItem,shortItem:Zt(t.match.params.id,e.list.items)}},{getItem:vr,initNewItem:function(e){var t=hr.getD2().models[e].create();return mr("INIT_NEW_ITEM",t)}})(gi),vi=function(e,t){var a=hr.getD2().currentUser.userSettings.settings.keyUiLocale,r=new Date(e),n={day:"numeric",month:"long",year:"numeric"},i=t?Object(b.a)({},n,{hour:"2-digit",minute:"2-digit"}):n;return new Intl.DateTimeFormat(a,i).format(r)},yi=a(579),Ei=a.n(yi),Oi=a(580),Ai=a.n(Oi),Ti={main:{width:"100%",paddingLeft:"2rem"},heading:{paddingBottom:"1rem"},raisedButton:{height:"36px",transform:"translateY(10px)",float:"right",marginLeft:"1rem"},paper:{padding:"1.4rem"},cell:{fontSize:"1rem",padding:"0.8rem",verticalAlign:"top"},valueCell:{textAlign:"right",color:"#757575"}},Si=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.baseName,a=e.routeId;(0,e.getItem)(t,a)}},{key:"renderSendMessageBtn",value:function(e){var t="".concat(hr.getContextPath(),"/dhis-web-messaging/#/PRIVATE/create/").concat(e);return i.a.createElement(Ze.a,{style:Ti.raisedButton,label:ee.a.t("Send message"),secondary:!0,containerElement:i.a.createElement("a",{href:t}," "),icon:i.a.createElement(Ai.a,null)})}},{key:"renderPropertyFields",value:function(){var e=this.props,t=e.summaryObject,a=e.config,r=Object(b.a)({},Ti.cell,Ti.valueCell);return a.map(function(e,a){var n=e.key,s=e.removeText,o=e.parseDate,l=e.parseDateTime,u=e.nestedPropselector,c=e.parseArrayAsCommaDelimitedString,d=e.count,p=e.label;p=ee.a.t(p);var h=t[n];return"undefined"===typeof h?h="":(u&&u.forEach(function(e){h=h[e]}),c&&("function"===typeof h.toArray&&(h=h.toArray()),h=h.map(function(e){return e[c]}).join(", ")),s&&(h=de.capitalize(h.replace(s,""))),(o||l)&&"string"===typeof h&&(h=vi(h,l)),d&&("number"===typeof h.size?h=h.size:"number"===typeof h.length&&(h=h.length))),i.a.createElement("tr",{key:a},i.a.createElement("td",{style:r},p),i.a.createElement("td",{style:Ti.cell},h))})}},{key:"render",value:function(){var e=this.props,t=e.summaryObject,a=e.baseName;if(null===t)return i.a.createElement(wr.a,null);if("string"===typeof t){var r=ee.a.t("There was an error fetching the ".concat(a));return i.a.createElement(je,{introText:r,errorMessage:t})}var n=t.id,s=t.displayName,o=t.access,l="".concat(a,"s"),u="/".concat(de.kebabCase(l)),c=ee.a.t("Back to ".concat(l)),d="".concat(u,"/edit/").concat(n),p=ee.a.t("Edit ".concat(a));return i.a.createElement("main",{style:Ti.main},i.a.createElement(Ce.a,{style:Ti.heading},i.a.createElement(qn,{to:u,tooltip:c,icon:"arrow_back"}),s,o.update?i.a.createElement(Ze.a,{style:Ti.raisedButton,label:p,primary:!0,containerElement:i.a.createElement(Gn.a,{to:d}),icon:i.a.createElement(Ei.a,null)}):null,a===Sa?this.renderSendMessageBtn(n):null),i.a.createElement(rt.c,{style:Ti.paper},i.a.createElement("table",null,i.a.createElement("tbody",null,this.renderPropertyFields()))))}}]),t}(n.Component),_i=Object(o.b)(function(e){return{summaryObject:e.currentItem}},{getItem:vr})(Si),Ri=[{key:"displayName",label:ee.a.t("Display name")},{key:"id",label:ee.a.t("ID")}],wi=[].concat(Ri,[{key:"userCredentials",nestedPropselector:["lastLogin"],label:ee.a.t("Last login"),parseDateTime:!0},{key:"created",label:ee.a.t("Created"),parseDate:!0},{key:"surname",label:ee.a.t("Surname")},{key:"firstName",label:ee.a.t("First name")},{key:"introduction",label:ee.a.t("Introduction")},{key:"jobTitle",label:ee.a.t("Job title")},{key:"employer",label:ee.a.t("Works at")},{key:"education",label:ee.a.t("Education")},{key:"interests",label:ee.a.t("Interests")},{key:"nationality",label:ee.a.t("Nationality")},{key:"birthday",label:ee.a.t("Birthday"),parseDate:!0},{key:"gender",label:ee.a.t("Gender"),removeText:"gender_"},{key:"languages",label:ee.a.t("Speaks")},{key:"email",label:ee.a.t("E-mail")},{key:"phoneNumber",label:ee.a.t("Mobile phone number")},{key:"organisationUnits",label:ee.a.t("Organisations units"),parseArrayAsCommaDelimitedString:"displayName"},{key:"userCredentials",label:ee.a.t("User roles"),nestedPropselector:["userRoles"],parseArrayAsCommaDelimitedString:"displayName"}]),ki=[].concat(Ri,[{key:"users",label:ee.a.t("Members"),count:!0}]),Ii=[].concat(Ri,[{key:"users",label:ee.a.t("Number of users"),count:!0}]),Ci=function(e){var t=e.match.params.id;return i.a.createElement(_i,{routeId:t,config:wi,baseName:Sa})},Ui={width:"100%",textAlign:"center",padding:"1.5rem 1.5rem 1rem"},ji=function(e){var t=e.location;return i.a.createElement("div",{style:Ui},i.a.createElement("h1",null,ee.a.t("Page not found.")),i.a.createElement("h3",null,ee.a.t("No match for"),i.a.createElement("code",null," ",t.pathname)),i.a.createElement(Gn.a,{to:"/"}," ",ee.a.t("Go back home")))},xi=a(339),Di=a.n(xi),Ni=a(184),Pi=a.n(Ni),Fi=a(185),Li=a.n(Fi),Mi=a(186),Gi=a.n(Mi),Vi=a(240),Bi=a.n(Vi),qi={padding:"0",margin:".5rem",marginTop:"1rem",float:"left",width:"230px"},Hi={padding:"1rem",height:"auto",borderBottom:"1px solid #ddd",cursor:"pointer",fontWeight:"bold"},Wi={height:"85px",padding:".5rem 1rem"},Yi={textAlign:"right"},Qi=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).renderCard=function(e,t){var r=a.context.d2,n=r.currentUser,s=r.models,o=n.canCreate(s[e.entityType]),l=n.canDelete(s[e.entityType]),u=o||l;return u?i.a.createElement(Di.a,{key:"card-".concat(t),style:qi},i.a.createElement(Pi.a,{onClick:function(){return Dr(e.path)},style:Hi,title:e.label}),i.a.createElement(Li.a,{style:Wi},e.description),i.a.createElement(Gi.a,{style:Yi},a.renderActionButtons(e,u,o))):null},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"renderActionButtons",value:function(e,t,a){var r=[],n="".concat(e.path,"/new");return a&&r.push(i.a.createElement(Bi.a,{key:"add",iconClassName:"material-icons",tooltip:ee.a.t("Add"),tooltipPosition:"top-center",onClick:function(){return Dr(n)}},"\ue145")),t&&r.push(i.a.createElement(Bi.a,{key:"list",iconClassName:"material-icons",tooltip:ee.a.t("list"),tooltipPosition:"top-center",onClick:function(){return Dr(e.path)}},"\ue8ef")),r}},{key:"render",value:function(){var e=ds.map(this.renderCard);return 0===e.length?i.a.createElement("div",null,ee.a.t("You do not have access to any section of the DHIS 2 User Management App")):e}}]),t}(n.Component);Qi.contextTypes={d2:G.a.object};var zi,Ki=Qi,Xi=function(e,t){if(!e)return!1;var a=e.access;switch(t){case"show_details":return a.read;case"sharing_settings":return a.manage;case"edit":return a.update;case"remove":return a.delete;default:return!0}},$i=(zi={},Object(g.a)(zi,"show_details","info"),Object(g.a)(zi,"sharing_settings","share"),Object(g.a)(zi,"edit","edit"),Object(g.a)(zi,"remove","delete"),zi),Ji=Vr.a.createActionsFromNames([["show_details"],["sharing_settings"],["edit"],["remove"]]);Ji.show_details.subscribe(function(e){var t=e.data.id;Dr("/user-roles/view/".concat(t))}),Ji.sharing_settings.subscribe(Qr),Ji.edit.subscribe(function(e){var t=e.data.id;Dr("/user-roles/edit/".concat(t))}),Ji.remove.subscribe(function(e){var t=e.data;Wr({model:t,entityType:_a})});var Zi,es=function(){return i.a.createElement(Gr,{entityType:_a,FilterComponent:Dn,columns:["displayName","description"],primaryAction:Ji.edit,contextMenuActions:Ji,contextMenuIcons:$i,isContextActionAllowed:Xi,sectionName:ee.a.t("User Role Management"),newItemPath:"/user-roles/new",className:"role-list"})},ts=function(e){var t=e.match.params.id;return i.a.createElement(_i,{routeId:t,config:ki,baseName:_a})},as=function(e,t){if(!e)return!1;var a=e.access;switch(t){case"show_details":return a.read;case"sharing_settings":return a.manage;case"edit":return a.update;case"join_group":return a.update&&!e.currentUserIsMember;case"leave_group":return a.update&&e.currentUserIsMember;case"remove":return a.delete;default:return!0}},rs=(Zi={},Object(g.a)(Zi,"show_details","info"),Object(g.a)(Zi,"sharing_settings","share"),Object(g.a)(Zi,"edit","edit"),Object(g.a)(Zi,"join_group","group_add"),Object(g.a)(Zi,"leave_group","exit_to_app"),Object(g.a)(Zi,"remove","delete"),Zi),ns=Vr.a.createActionsFromNames(["show_details","sharing_settings","edit","join_group","leave_group","remove"]),is=function(){var e=Object(se.a)(ie.a.mark(function e(t,a){var r,n,i;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.displayName,n=t.id,e.prev=1,e.next=4,hr.updateCurrentUserGroupMembership(n,a);case 4:i=a?ee.a.t("You left group"):ee.a.t("You joined group"),j.dispatch(Tr({message:"".concat(i," ").concat(r)})),j.dispatch(Er()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j.dispatch(Tr({message:De(e.t0,ee.a.t("There was a problem updating your group membership"))}));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}();ns.show_details.subscribe(function(e){var t=e.data.id;Dr("/user-groups/view/".concat(t))}),ns.sharing_settings.subscribe(Qr),ns.edit.subscribe(function(e){var t=e.data.id;Dr("/user-groups/edit/".concat(t))}),ns.join_group.subscribe(function(e){var t=e.data;is(t,!1)}),ns.leave_group.subscribe(function(e){var t=e.data;is(t,!0)}),ns.remove.subscribe(function(e){var t=e.data;Wr({model:t,entityType:Ra})});var ss=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return i.a.createElement(Gr,{entityType:Ra,FilterComponent:Dn,columns:["displayName","currentUserIsMember"],primaryAction:ns.edit,contextMenuActions:ns,contextMenuIcons:rs,isContextActionAllowed:as,sectionName:ee.a.t("User Group Management"),newItemPath:"/user-groups/new",className:"group-list"})}}]),t}(n.Component),os=Object(o.b)(function(e){return{groupMemberships:e.currentUser.userGroups}})(ss),ls={key:"user_section",label:"Users",icon:"person",path:"/users",description:"Create, modify, view and delete Users",component:Mn,entityType:Sa},us={key:"user_role_section",label:"User role",icon:"folder_shared",path:"/user-roles",description:"Create, modify, view and delete User Roles",component:es,entityType:_a},cs={key:"user_group_section",label:"User group",icon:"group",path:"/user-groups",description:"Create, modify, view and delete User Groups",component:os,entityType:Ra},ds=[ls,us,cs],ps=[{key:"user_new_view",path:"/users/new",render:function(e){return i.a.createElement(bi,Object.assign({entityType:Sa},e))},entityType:Sa},{key:"user_edit_view",path:"/users/edit/:id",render:function(e){return i.a.createElement(bi,Object.assign({entityType:Sa},e))},entityType:Sa},{key:"user_profile_view",path:"/users/view/:id",component:Ci,entityType:Sa},ls,{key:"user_role_new_view",path:"/user-roles/new",render:function(e){return i.a.createElement(bi,Object.assign({entityType:_a},e))},entityType:_a},{key:"user_role_edit_view",path:"/user-roles/edit/:id",render:function(e){return i.a.createElement(bi,Object.assign({entityType:_a},e))},entityType:_a},{key:"user_role_details_view",path:"/user-roles/view/:id",component:ts,entityType:_a},us,{key:"user_group_new_view",path:"/user-groups/new",render:function(e){return i.a.createElement(bi,Object.assign({entityType:Ra},e))},entityType:Ra},{key:"user_group_edit_view",path:"/user-groups/edit/:id",render:function(e){return i.a.createElement(bi,Object.assign({entityType:Ra},e))},entityType:Ra},{key:"user_group_details_view",path:"/user-groups/view/:id",component:function(e){var t=e.match.params.id;return i.a.createElement(_i,{routeId:t,config:Ii,baseName:Ra})},entityType:Ra},cs,{key:"landing_page",path:"/",component:Ki},{key:"not_found",component:ji}],hs=a(582),ms=a(581),fs={display:"flex",flex:"0 0 320px"},gs=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).changeSectionHandler=function(e){var t=a.props,r=t.sections,n=t.history,i=r.find(function(t){return t.key===e});n.push(i.path)},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sections,a=e.location.pathname,r=t.find(function(e){return e.path===a}),n="/"===a,s=r?r.key:null;return r||n?i.a.createElement("div",{style:fs},i.a.createElement(ms.a,{sections:t,onChangeSection:this.changeSectionHandler,currentSection:s})):null}}]),t}(n.Component),bs=Object(hs.a)(gs),vs={display:"flex",flex:"1 1 0%",paddingRight:"2rem",paddingTop:"1rem"},ys=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initCurrentUser,a=e.currentUser;a?this.setRouteConfig(a):t()}},{key:"componentWillReceiveProps",value:function(e){var t=e.currentUser,a=e.location.pathname;this.setRouteConfig(t),t&&t!==this.props.currentUser&&"/"!==a&&!this.pathHasAvailableSection(a)&&Dr("/")}},{key:"pathHasAvailableSection",value:function(e){if(!this.routeConfig)return!1;var t=this.routeConfig.sections;return Boolean(t&&t.find(function(t){return e.includes(t.path.split(":")[0])}))}},{key:"setRouteConfig",value:function(e){var t=this;this.routeConfig=e?ps.reduce(function(a,r){var n=a.routes,i=a.sections;return t.userHasAuthorities(r,e)&&(n.push(r),r.label&&i.push(r)),a},{routes:[],sections:[]}):null}},{key:"userHasAuthorities",value:function(e,t){var a=e.entityType;if(!a)return!0;var r=this.context.d2.models,n=t.canCreate(r[a]),i=t.canDelete(r[a]);return n||i}},{key:"renderRoutes",value:function(e){return e.map(function(e){return i.a.createElement(te.a,Object.assign({exact:!0,strict:!0},e))})}},{key:"renderContent",value:function(){var e=this.props.currentUser;if(!e)return i.a.createElement(wr.a,null);if("string"===typeof e){var t=ee.a.t("There was an error loading the current user");return i.a.createElement(je,{introText:t,errorMessage:e})}var a=this.routeConfig,r=a.routes,n=a.sections;if(n&&0===n.length){var s=ee.a.t("You do not have authorities to see users, user roles or user groups");return i.a.createElement(je,{introText:s,errorMessage:""})}return[i.a.createElement(bs,{key:"sidenav",sections:n}),i.a.createElement(ae.a,{key:"routeswitch"},this.renderRoutes(r))]}},{key:"render",value:function(){return i.a.createElement("main",{style:vs},this.renderContent())}}]),t}(n.Component);ys.contextTypes={d2:G.a.object};var Es=Object(re.a)(Object(o.b)(function(e){return{currentUser:e.currentUser}},{initCurrentUser:function(){return function(e){br(yr,hr.initCurrentUser(),e)}}})(ys)),Os=a(231),As=a.n(Os),Ts=Object(o.b)(function(e){return{open:e.popups.snackbar.show,snackbarProps:e.popups.snackbar.props}},{hideSnackbar:Sr})(function(e){var t=e.open,a=e.snackbarProps,r={autoHideDuration:6e3,onRequestClose:e.hideSnackbar,style:{whiteSpace:"nowrap"},bodyStyle:{maxWidth:"100%"},contentStyle:{display:"flex"}},n=Object(b.a)({},r,a);return i.a.createElement(As.a,Object.assign({open:t},n))}),Ss=a(136),_s=a.n(Ss),Rs=Object(o.b)(function(e){return{open:e.popups.dialog.show,dialogProps:e.popups.dialog.props,content:e.popups.dialog.content}})(function(e){var t=e.open,a=e.dialogProps,r=e.content;return i.a.createElement(_s.a,Object.assign({key:"dialog",open:t},a),r)}),ws=a(584),ks=a.n(ws),Is=Object(o.b)(function(e){return{open:e.popups.sharing.show,id:e.popups.sharing.id,type:e.popups.sharing.type}},{hideSharingDialog:function(){return mr("HIDE_SHARING_DIALOG")}})(function(e){var t=e.open,a=e.id,r=e.type,n=e.hideSharingDialog;return i.a.createElement(ks.a,{open:t,id:a,type:r,onRequestClose:n,d2:hr.getD2()})}),Cs=a(585),Us=a.n(Cs),js=(a(1290),a(1291),function(e){var t=e.d2;return i.a.createElement(o.a,{store:j},i.a.createElement($,{d2:t},i.a.createElement("div",null,i.a.createElement(Us.a,{appName:ee.a.t("User management")}),i.a.createElement(l.a,{history:c,hashType:"noslash"},i.a.createElement(Es,null)),i.a.createElement(Ts,null),i.a.createElement(Rs,null),i.a.createElement(Is,null))))}),xs=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ds(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ns=a(232),Ps=a.n(Ns),Fs=(a(1323),a(1324),a(586)),Ls=a(587),Ms=a(588);Ps.a.locale("en"),ee.a.addResources("ar","user-app",Fs),ee.a.addResources("en","user-app",Ls),ee.a.addResources("sv","user-app",Ms),ee.a.setDefaultNamespace("user-app"),ee.a.changeLanguage("en");var Gs=ee.a,Vs=function(e){var t=e.keyUiLocale,a=ue.config.i18n.sources;return"en"!==t&&a.add("i18n/i18n_module_".concat(t,".properties")),a.add("i18n/i18n_module_en.properties"),Gs.changeLanguage(t),ue.config};(function(){var e={baseUrl:"".concat("..","/api/"),schemas:["userRole","user","userGroup","userCredentials","organisationUnit"]};return Object(ue.getUserSettings)().then(Vs).then(function(){return Object(ue.init)(e)})})().then(function(e){var t=document.getElementById("root");Object(s.render)(i.a.createElement(js,{d2:e}),t)}),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");xs?(function(e,t){fetch(e).then(function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ds(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Ds(t,e)})}}()},586:function(e){e.exports={"Use database locale / no translation":"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062d\u0644\u064a\u0629 \u0644\u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a / \u0628\u062f\u0648\u0646 \u062a\u0631\u062c\u0645\u0629",Search:"\u0628\u062d\u062b","Enter search term":"\u0623\u062f\u062e\u0644 \u0639\u0628\u0627\u0631\u0629 \u0627\u0644\u0628\u062d\u062b","Please enter at least {{ minCharCount }} characters":"\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 {{ minCharCount }} \u0645\u062d\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644.","No matches found":"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0623\u064a \u062a\u0637\u0627\u0628\u0642",Authorities:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a","Selected authorities only":"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0645\u062d\u062f\u062f\u0629 \u0641\u0642\u0637",Add:"\u0625\u0636\u0627\u0641\u0629",list:"\u0639\u0631\u0636","Send message":"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629",Update:"\u062a\u062d\u062f\u064a\u062b","Create new":"\u0625\u0646\u0634\u0627\u0621 \u062c\u062f\u064a\u062f","Back to":"\u0627\u0644\u0631\u062c\u0648\u0639 \u0625\u0644\u0649","Select an organisation unit":"\u062d\u062f\u062f \u0648\u062d\u062f\u0629 \u062a\u0646\u0638\u064a\u0645\u064a\u0629","Organisation unit":"\u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Page not found.":"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629.","No match for":"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0637\u0627\u0628\u0642\u0627\u062a \u0644\u0640","Go back home":"\u0627\u0644\u0631\u062c\u0648\u0639 \u0644\u0644\u0631\u0626\u064a\u0633\u064a\u0629","This field is required":"\u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628","User replicated successfuly":"\u062a\u0645 \u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem replicating the user":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Validating...":"\u062c\u0627\u0631 \u0627\u0644\u062a\u062d\u0642\u0642...",Username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Username for new user":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f",Password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","Password for new user":"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f",Replicate:"\u062a\u0643\u0631\u0627\u0631",Cancel:"\u0625\u0644\u063a\u0627\u0621","Search by name":"\u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0627\u0633\u0645",Filter:"\u0639\u0627\u0645\u0644 \u062a\u0635\u0641\u064a\u0629","Filter available and selected items":"\u062a\u0635\u0641\u064a\u0629 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 \u0648\u0627\u0644\u0645\u062d\u062f\u062f\u0629",Apply:"\u062a\u0637\u0628\u064a\u0642","Clear all":"\u0645\u0633\u062d \u0627\u0644\u0643\u0644","User group saved successfully":"\u062a\u0645 \u062d\u0641\u0638 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0628\u0646\u062c\u0627\u062d","There was a problem saving the user group.":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0641\u0638 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646.",Details:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",Save:"\u062d\u0641\u0638",Name:"\u0627\u0644\u0627\u0633\u0645","Available users":"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0648\u0646","Group members":"\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629","Available user groups":"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629","Managed user groups":"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062f\u0627\u0631\u0629","You joined group":"\u0644\u0642\u062f \u0627\u0646\u0636\u0645\u0645\u062a \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629","You left group":"\u0644\u0642\u062f \u063a\u0627\u062f\u0631\u062a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629","There was a problem updating your group membership":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0639\u0636\u0648\u064a\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643","Are you sure you want to remove this user group?":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0632\u0627\u0644\u0629 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0647\u0630\u0647\u061f","User group removed succesfully":"\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u0629 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0628\u0646\u062c\u0627\u062d","There was a problem deleting the user group":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0630\u0641 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646","User Group Management":"\u0625\u062f\u0627\u0631\u0629 \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646","User role saved successfully":"\u062a\u0645 \u062d\u0641\u0638 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem saving the user role.":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0641\u0638 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645.",Description:"\u0627\u0644\u0648\u0635\u0641","Are you sure you want to remove this user role?":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0632\u0627\u0644\u0629 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0647\u0630\u0627\u061f","User role removed succesfully":"\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u0629 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem deleting the user role":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0630\u0641 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","User Role Management":"\u0625\u062f\u0627\u0631\u0629 \u0623\u062f\u0648\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Could not load the user data. Please refresh the page.":"\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645. \u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0641\u062d\u0629.","User saved successfully":"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem saving the user.":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645.","Show fewer options":"\u0625\u0638\u0647\u0627\u0631 \u062e\u064a\u0627\u0631\u0627\u062a \u0623\u0642\u0644","Show more options":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a","Username already taken":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0641\u0639\u0644","There was a problem whilst checking the availability of this username":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062a\u0648\u0641\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0647\u0630\u0627","Selecting an organisation unit provides access to all units in the sub-hierarchy":"\u064a\u0648\u0641\u0631 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0641\u064a \u0627\u0644\u062a\u0633\u0644\u0633\u0644 \u0627\u0644\u0647\u0631\u0645\u064a \u0627\u0644\u0641\u0631\u0639\u064a","External authentication only (OpenID or LDAP)":"\u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0627\u0644\u062e\u0627\u0631\u062c\u064a\u0629 \u0641\u0642\u0637 (OpenID or LDAP)","Retype password":"\u0623\u0639\u062f \u0643\u062a\u0627\u0628\u0629 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",Surname:"\u0627\u0644\u0643\u0646\u064a\u0629","First name":"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644","E-mail":"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",openID:"OpenID","LDAP Identifier":"\u0645\u0639\u0631\u0641 LDAP","Mobile phone number":"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0627\u0644\u062c\u0648\u0627\u0644","Interface language":"\u0644\u063a\u0629 \u0627\u0644\u0648\u0627\u062c\u0647\u0629","Database language":"\u0644\u063a\u0629 \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","Available roles":"\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629","Selected roles":"\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0627\u0644\u0645\u062d\u062f\u062f\u0629","Data capture and maintenance organisation units":"\u0627\u0644\u062a\u0642\u0627\u0637 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0636\u0628\u0637 \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Data output and analytic organisation units":"\u062e\u0631\u062c \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0627\u0644\u0648\u0627\u062d\u062f\u0627\u062a \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629 \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u064a\u0629","Search Organisation Units":"\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Selected user groups":"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062d\u062f\u062f\u0629","Available dimension restrictions for data analytics":"\u0642\u064a\u0648\u062f \u0627\u0644\u0623\u0628\u0639\u0627\u062f \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 \u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","Selected dimension restrictions for data analytics":"\u0642\u064a\u0648\u062f \u0627\u0644\u0623\u0628\u0639\u0627\u062f \u0627\u0644\u0645\u062d\u062f\u062f\u0629 \u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","A user should have at least one User Role":"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0645\u0644\u0643 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u062f\u0648\u0631 \u0645\u0633\u062a\u062e\u062f\u0645 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Passwords do not match":"\u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u0637\u0627\u0628\u0642\u0629","Please provide a valid email address":"\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u0639\u0637\u0627\u0621 \u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0635\u0627\u0644\u062d","Are you sure you want to remove this user?":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u061f","User removed succesfully":"\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem deleting the user":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Replicate user":"\u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","successfully enabled":"\u062a\u0645 \u0627\u0644\u062a\u0645\u0643\u064a\u0646 \u0628\u0646\u062c\u0627\u062d","sucessfully disabled":"\u062a\u0645 \u0627\u0644\u062a\u0639\u0637\u064a\u0644 \u0628\u0646\u062c\u0627\u062d","There was a problem updating the enabled state":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u062a\u0645\u0643\u064a\u0646",month:"\u0627\u0644\u0634\u0647\u0631",months:"\u0627\u0644\u0623\u0634\u0647\u0631","<No value>":"<\u0644\u0627 \u062a\u0648\u062c\u062f \u0642\u064a\u0645\u0629>",Inactivity:"\u0639\u062f\u0645 \u0627\u0644\u0646\u0634\u0627\u0637","All invitations":"\u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0639\u0648\u0627\u062a","Expired invitations":"\u0627\u0644\u062f\u0639\u0648\u0627\u062a \u0645\u0646\u062a\u0647\u064a\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629",Invitations:"\u0627\u0644\u062f\u0639\u0648\u0627\u062a","Self registrations":"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u0630\u0627\u062a\u064a\u0629","User Management":"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646","{{count}} selected_0":"{{count}} \u0645\u062d\u062f\u062f","{{count}} selected_1":"{{count}} \u0645\u062d\u062f\u062f","{{count}} selected_2":"","{{count}} selected_3":"","{{count}} selected_4":"","{{count}} selected_5":"","Name is already taken":"\u0627\u0644\u0627\u0633\u0645 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0641\u0639\u0644","Could not verify if this name is unique":"\u062a\u0639\u0630\u0631 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0645\u0627 \u0625\u0630\u0627 \u0643\u0627\u0646 \u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0641\u0631\u064a\u062f\u0627\u064b","Password should be at least 8 characters long":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0630\u0627\u062a \u0637\u0648\u0644 8 \u0645\u062d\u0627\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Password should be no longer than 34 characters":"\u064a\u062c\u0628 \u0623\u0644\u0627 \u062a\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0630\u0627\u062a \u0637\u0648\u0644 \u0623\u0643\u0628\u0631 \u0645\u0646 34 \u0645\u062d\u0631\u0641\u0627\u064b","Password should contain at least one UPPERCASE letter":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u062d\u0631\u0641\u0627\u064b \u0643\u0628\u064a\u0631\u0627\u064b \u0648\u0627\u062d\u062f\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Password should contain at least one number":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0631\u0642\u0645\u0627\u064b \u0648\u0627\u062d\u062f\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Password should have at least one special character":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u062d\u0631\u0641\u0627\u064b \u062e\u0627\u0635\u0627\u064b \u0648\u0627\u062d\u062f\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",Confirm:"\u062a\u0623\u0643\u064a\u062f"}},587:function(e){e.exports={"User management":"","Use database locale / no translation":"",Search:"","Enter search term":"","Please enter at least {{ minCharCount }} characters":"","No matches found":"","There was a problem retreiving your search results":"","There was a problem retreiving the available authorities.":"",Authorities:"","Selected authorities only":"","All (Full authority)":"","Analytics Table Hook":"",Attribute:"","Category Combo":"",Category:"","Category Option":"","Category Option Group":"","Category Option Group Set":"",Chart:"","Color Set":"",Constant:"",Dashboard:"","Data Element Group Sets":"","Data Element Groups":"","Data Element":"","Min/max rule":"","Data Set":"","Data Value":"",Document:"","Event Chart":"","Event Report":"","External Map Layer":"","Indicator Group Sets":"","Indicator Group":"","Indicator Type":"",Indicator:"","Legend Set":"",Map:"","Min-Max Data Element":"","Option Group Set":"","Option Group":"","Option Set":"","Organisation Unit":"","Organisation Unit Group Set":"","Organisation Unit Group":"",Predictor:"","Program Stage":"",Program:"","Program Indicator":"","Program Indicator Group":"","Program Rule":"","Program Tracked Entity Attribute Group":"","Push Analysis":"","Relationship Type":"","Report Table":"",Report:"",Section:"","SQL View":"","Tracked Entity":"","Tracked Entity Attribute":"","Tracked Entity Data Value":"","Tracked Entity Instance":"","User Group":"","User Role":"",User:"","Validation Rule Group":"","Validation Rule":"","Data predictor group":"","Skip data import audit":"",Apps:"",Tracker:"","Import-Export":"",System:"",Add:"",list:"","You do not have access to any section of the DHIS 2 User Management App":"","Send message":"",Update:"","Create new":"","Back to":"","You are not allowed to edit":"",Confirm:"","There was an error fetching the list":"","Select an organisation unit":"","Organisation unit":"","Page not found.":"","No match for":"","Go back home":"",'User "{{displayName}}" replicated successfuly':"","There was a problem replicating the user":"",Username:"","Username for new user":"",Password:"","Password for new user":"",Replicate:"",Cancel:"","Search by name":"","Could not load available items":"",Filter:"","Filter available and selected items":"","There was a problem displaying the GroupEditor":"",Apply:"","Clear all":"","There was an error loading the current user":"","You do not have authorities to see users, user roles or user groups":"","Display name":"",ID:"","Last login":"",Created:"",Surname:"","First name":"",Introduction:"","Job title":"","Works at":"",Education:"",Interests:"",Nationality:"",Birthday:"",Gender:"",Speaks:"","E-mail":"","Mobile phone number":"","Organisations units":"","User roles":"",Members:"","Number of users":"","Could not load the user group data. Please refresh the page.":"",'User group "{{displayName}}" saved successfully':"","There was a problem saving the user group.":"",Save:"",Name:"",Code:"","Available users":"","Group members":"","Available user groups":"","Managed user groups":"","You left group":"","You joined group":"","There was a problem updating your group membership":"","User Group Management":"",'User role "{{displayName}}" saved successfully':"","There was a problem saving the user role.":"",Description:"","User Role Management":"","Could not load the user data. Please refresh the page.":"",'User "{{displayName}}" saved successfully':"","There was a problem saving the user.":"","Show fewer options":"","Show more options":"","Send invite":"","Selecting an organisation unit provides access to all units in the sub-hierarchy":"","Create account or email invitation":"","External authentication only (OpenID or LDAP)":"","Retype password":"",OpenID:"","LDAP identifier":"",WhatsApp:"","Facebook Messenger":"",Skype:"",Telegram:"",Twitter:"","Interface language":"","Database language":"","Available roles":"","Selected roles":"","Data capture and maintenance organisation units":"","Data output and analytic organisation units":"","Search Organisation Units":"","Selected user groups":"","Available dimension restrictions for data analytics":"","Selected dimension restrictions for data analytics":"","Replicate user":"","Are you sure you want to disable two factor authentication for":"","Succesfully disabled two factor authentication for":"","There was a problem updating two factor authentication":"","Are you sure you want to disable":"","Are you sure you want to enable":"","sucessfully disabled":"","successfully enabled":"","There was a problem updating the enabled state":"",month:"",months:"","<No value>":"",Inactivity:"","All invitations":"","Expired invitations":"",Invitations:"","Self registrations":"","User Management":"","{{count}} selected":"","{{count}} selected_plural":"",Yes:"",No:"","Something went wrong when processing your request.":"","Validating...":"",'Are you sure you want to remove the {{type}} "{{displayName}}"?':"",'{{type}} "{{displayName}}" removed successfully':"",'There was a problem removing {{type}} "{{displayName}}"?':"","Exceeds maximum character limit of 50":"","Please enter a valid date with the following format yyyy-mm-dd":"","Please provide a valid email address":"","Value should be an integer":"","Value should be a nagative integer":"","Value should be a number":"","Value should be a positive integer":"","Passwords do not match":"","This field is required":"","This field is required. Please select at least one":"","A username should be at least 2 characters long":"","Username may not exceed 140 characters":"","Please provide a valid international phone number (+0123456789)":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Username already taken":"","There was a problem whilst checking the availability of this username":"","{{fieldDisplayName}} is already taken":"","Could not verify if this {{fieldDisplayName}} is unique":"","Attribute value needs to be unique, value already taken.":"","There was a problem checking if this attribute value is unique":""}},588:function(e){e.exports={"Use database locale / no translation":"Anv\xe4nd databaslokal / ingen \xf6vers\xe4ttning",Search:"S\xf6k","Enter search term":"Ange s\xf6kbegrepp","Please enter at least {{ minCharCount }} characters":"Ange minst {{minCharCount}} tecken","No matches found":"Inga tr\xe4ffar hittades",Authorities:"Beh\xf6righeter","Selected authorities only":"Endast valda beh\xf6righeter",Add:"L\xe4gg till",list:"list","Send message":"Skicka meddelande",Update:"Uppdatera","Create new":"Skapa ny","Back to":"Tillbaka till ","Select an organisation unit":"V\xe4lj en organisationsenhet","Organisation unit":"Organisationsenhet","Page not found.":"Sidan hittades inte","No match for":"Ingen tr\xe4ff hittades f\xf6r","Go back home":"G\xe5 tillbaka till hem","This field is required":"F\xe4ltet \xe4r n\xf6dv\xe4ndigt","User replicated successfuly":"Anv\xe4ndaren replikerades framg\xe5ngsrikt","There was a problem replicating the user":"Det gick inte att replikera anv\xe4ndaren","Validating...":"Validerar...",Username:"Anv\xe4ndarnamn","Username for new user":"Anv\xe4ndarnamn f\xf6r ny anv\xe4ndare",Password:"L\xf6senord","Password for new user":"L\xf6senord f\xf6r ny anv\xe4ndare",Replicate:"Replikera",Cancel:"Avbryt","Search by name":"S\xf6k p\xe5 namn",Filter:"Filtrera","Filter available and selected items":"Filtrera tillg\xe4ngliga och valda objekt",Apply:"Verkst\xe4ll","Clear all":"Rensa alla","User group saved successfully":"Anv\xe4ndargrupp sparad","There was a problem saving the user group.":"Det gick inte att spara anv\xe4ndargruppen.",Details:"Detaljer",Save:"Spara",Name:"Namn","Available users":"Tillg\xe4ngliga anv\xe4ndare","Group members":"Gruppmedlemmar","Available user groups":"Tillg\xe4ngliga anv\xe4ndargrupper","Managed user groups":"Hanterad usergrupper","You joined group":"Du gick med i gruppen","You left group":"Du l\xe4mnade gruppen","There was a problem updating your group membership":"Det gick inte att uppdatera ditt gruppmedlemskap","Are you sure you want to remove this user group?":"\xc4r du s\xe4ker p\xe5 att du vill ta bort den h\xe4r anv\xe4ndargruppen?","User group removed succesfully":"Anv\xe4ndargruppen har tagits bort","There was a problem deleting the user group":"Det gick inte att ta bort anv\xe4ndargruppen","User Group Management":"Anv\xe4ndargrupphantering","User role saved successfully":"Anv\xe4ndarroll sparats","There was a problem saving the user role.":"Det gick inte att spara anv\xe4ndarrollen.",Description:"Beskrivning","Are you sure you want to remove this user role?":"\xc4r du s\xe4ker p\xe5 att du vill ta bort den h\xe4r anv\xe4ndarrollen?","User role removed succesfully":"Anv\xe4ndarrollen har tagits bort","There was a problem deleting the user role":"Det gick inte att ta bort anv\xe4ndarrollen","User Role Management":"Anv\xe4ndarrollhantering","Could not load the user data. Please refresh the page.":"Det gick inte att ladda anv\xe4ndardata. Uppdatera sidan.","User saved successfully":"Anv\xe4ndaren har sparats","There was a problem saving the user.":"Det gick inte att spara anv\xe4ndaren.","Show fewer options":"Visa f\xe4rre alternativ","Show more options":"Visa fler alternativ","Username already taken":"Anv\xe4ndarnamn redan upptaget","There was a problem whilst checking the availability of this username":"Ett problem uppstod n\xe4r du kontrollerade tillg\xe4ngligheten f\xf6r det h\xe4r anv\xe4ndarnamnet","Selecting an organisation unit provides access to all units in the sub-hierarchy":"Val av en organisationsenhet ger tillg\xe5ng till alla enheter i underhierarkin","External authentication only (OpenID or LDAP)":"Endast extern autentisering (OpenID eller LDAP)","Retype password":"Skriv in l\xf6senord igen:",Surname:"F\xf6rnamn","First name":"F\xf6rnamn","E-mail":"E-post",openID:"openID","LDAP Identifier":"LDAP Identifierare","Mobile phone number":"Mobiltelefonnummer","Interface language":"Spr\xe5k f\xf6r anv\xe4ndargr\xe4nssnittet","Database language":"Database spr\xe5k","Available roles":"Tillg\xe4ngliga roller","Selected roles":"Valda roller","Data capture and maintenance organisation units":"Datainsamling och underh\xe5lls organisationsenheter","Data output and analytic organisation units":"Analytiska organisationsenheter","Search Organisation Units":"S\xf6k organisationsenheter","Selected user groups":"Valda anv\xe4ndargrupper","Available dimension restrictions for data analytics":"","Selected dimension restrictions for data analytics":"","A user should have at least one User Role":"Anv\xe4ndaren ska ha minst en anv\xe4ndarroll","Passwords do not match":"L\xf6senorden st\xe4mmer inte \xf6verens","Please provide a valid email address":"Ange en giltig epost adress","Are you sure you want to remove this user?":"\xc4r du s\xe4ker p\xe5 att du vill ta bort den h\xe4r anv\xe4ndaren?","User removed succesfully":"Anv\xe4ndaren har tagits bort","There was a problem deleting the user":"Det gick inte att ta bort anv\xe4ndaren","Replicate user":"Replikera anv\xe4ndaren","successfully enabled":"aktiverat","sucessfully disabled":"inaktiverad","There was a problem updating the enabled state":"",month:"m\xe5nad",months:"m\xe5nader","<No value>":"<Inget v\xe4rde>",Inactivity:"Inaktivitet","All invitations":"Alla inbjudningar","Expired invitations":"F\xf6rfallna inbjudningar",Invitations:"Inbjudningar","Self registrations":"Sj\xe4lvregistreringar","User Management":"Anv\xe4ndarhantering","{{count}} selected":"{{count}} vald","{{count}} selected_plural":"{{count}} valda","Name is already taken":"Namnet anv\xe4nds redan","Could not verify if this name is unique":"Det gick inte att verifiera om detta namn \xe4r unikt","Password should be at least 8 characters long":"L\xf6senordet m\xe5ste vara minst 8 tecken l\xe5ngt.","Password should be no longer than 34 characters":"L\xf6senord m\xe5ste vara kortare \xe4n 34 tecken","Password should contain at least one UPPERCASE letter":"L\xf6senordet ska inneh\xe5lla minst en versal bokstav","Password should contain at least one number":"L\xf6senordet m\xe5ste inneh\xe5lla minst en siffra","Password should have at least one special character":"L\xf6senordet ska ha minst ett specialtecken",Confirm:"Bekr\xe4fta"}},592:function(e,t,a){e.exports=a(1325)},601:function(e,t,a){}},[[592,1,2]]]);
//# sourceMappingURL=main.83765610.chunk.js.map
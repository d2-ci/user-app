(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1058:function(e,t,a){},1340:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"code",function(){return Ya}),a.d(r,"date",function(){return Qa}),a.d(r,"email",function(){return za}),a.d(r,"integer",function(){return Ka}),a.d(r,"negativeInteger",function(){return Xa}),a.d(r,"number",function(){return $a}),a.d(r,"password",function(){return Ja}),a.d(r,"positiveInteger",function(){return Za}),a.d(r,"repeatPassword",function(){return er}),a.d(r,"required",function(){return tr}),a.d(r,"requiredArray",function(){return ar}),a.d(r,"username",function(){return rr}),a.d(r,"whatsApp",function(){return nr});var n=a(14),i=a(0),s=a.n(i),o=a(32),l=a(25),u=a(99),c=a(74),d=Object(c.b)(),p=a(47),h=a(573),m=(a(612),a(1345)),f={type:null,items:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"LIST_REQUESTED":return{type:r,items:null};case"LIST_RECEIVED":return e.type===r.type?{type:r.type,items:r.items}:e;case"LIST_ERRORED":return{type:null,items:r.message};default:return e}},b=a(26),v={query:"",inactiveMonths:null,selfRegistered:!1,invitationStatus:null,organisationUnits:[]},y={show:!1,props:{message:""}},E={show:!1,props:{},content:null},O={show:!1,id:null,type:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"FILTER_UPDATED":var i=r.updateKey,s=r.updateValue;return Object(n.a)({},e,Object(b.a)({},i,s));case"FILTER_RESET":return Object(n.a)({},v);default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"PAGER_RESET":return null;case"LIST_RECEIVED":return r.items.pager;default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"CLEAR_ITEM":case"ITEM_REQUESTED":return null;case"INIT_NEW_ITEM":case"ITEM_RECEIVED":case"ITEM_ERRORED":return r;default:return e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"CURRENT_USER_REQUESTED":return null;case"CURRENT_USER_RECEIVED":case"CURRENT_USER_ERRORED":return r;default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SHOW_SNACKBAR":return{show:!0,props:r};case"HIDE_SNACKBAR":return Object(n.a)({},y);default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SHOW_DIALOG":return Object(n.a)({show:!0},r);case"HIDE_DIALOG":return Object(n.a)({},E);default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SHOW_SHARING_DIALOG":return Object(n.a)({show:!0},r);case"HIDE_SHARING_DIALOG":return Object(n.a)({},O);default:return e}},I=Object(p.c)({snackbar:R,dialog:w,sharing:k}),C=[h.a];var U=Object(p.c)({list:g,filter:A,pager:T,currentItem:S,currentUser:_,popups:I,form:m.a}),j=Object(p.d)(U,p.a.apply(void 0,C)),x=(a(613),a(20)),D=a(23),N=a(21),P=a(24),F=a(231),L=a.n(F),M=a(1),G=a.n(M),V=a(338),B=a.n(V),q=a(337),H=a.n(q),W=a(43),Y=a(90),Q={spacing:B.a,fontFamily:"Roboto, sans-serif",palette:{primary1Color:W.blue500,primary2Color:W.blue700,primary3Color:W.blue100,accent1Color:W.orange500,accent2Color:W.grey100,accent3Color:W.orangeA200,textColor:W.darkBlack,alternateTextColor:W.white,canvasColor:W.white,borderColor:W.grey400,disabledColor:Object(Y.fade)(W.darkBlack,.3)}},z=H()(Q),K=Object.assign({},z,{forms:{minWidth:350,maxWidth:750},formInput:{fontWeight:100}}),X=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).getChildContext=function(){return{d2:a.props.d2}},a.render=function(){return s.a.createElement(L.a,{muiTheme:K},a.props.children)},a}return Object(P.a)(t,e),t}(i.Component);X.childContextTypes={d2:G.a.object};var $=X,J=a(22),Z=a(2),ee=a.n(Z),te=a(16),ae=a.n(te),re=a(34),ne=a(44),ie=a(256),se=a(68),oe=a(196),le=a(575),ue=a.n(le),ce=a(244),de=a.n(ce),pe=["displayName","id","access","user[displayName,id]","publicAccess","userGroupAccesses"],he=[].concat(pe,["description"]),me={fields:["organisationUnits[id,path,displayName,children::isNotEmpty]","dataViewOrganisationUnits[id,path,displayName,children::isNotEmpty]","teiSearchOrganisationUnits[id,path,displayName,children::isNotEmpty]"]},fe={paging:!1,fields:["id","path","displayName","children::isNotEmpty","ancestors"]},ge={USER_LIST:["displayName","id","access","userCredentials[username,disabled,lastLogin,twoFA]","teiSearchOrganisationUnits[id,path]"],USER_GROUP_LIST:pe,USER_ROLE_LIST:he,USER_DETAILS:[":owner","access","displayName","userGroups","organisationUnits[id,displayName,path]","dataViewOrganisationUnits[id,displayName,path]","userCredentials[id,username,lastLogin,externalAuth,userRoles[id,displayName],cogsDimensionConstraints[id,displayName,dimensionType],catDimensionConstraints[id,displayName,dimensionType],openId,ldapId]","teiSearchOrganisationUnits[id,path]","whatsApp","facebookMessenger","skype","telegram","twitter"],USER_GROUP_DETAILS:["id","code","access","displayName","name","users","managedGroups","attributeValues"],USER_ROLE_DETAILS:["id","access","displayName","name","users","description","authorities"]},be=function(e){return e?"function"===typeof e.toArray?e.toArray():e:[]},ve=function(e,t){return e.split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},t)},ye=a(130),Ee=a.n(ye),Oe=a(100),Ae=a(125),Te=a.n(Ae),Se=a(339),_e=a.n(Se),Re=a(340),we=a.n(Re),ke=a(70),Ie=a.n(ke),Ce=a(576),Ue=a(347),je=a(66),xe={clear:"both",color:"#c33017",backgroundColor:"#ffe3de",padding:"1.5rem 1.5rem 1rem",fontSize:"1rem",width:"100%"},De=function(e){var t=e.introText,a=e.errorMessage;return s.a.createElement("div",{style:xe},t,s.a.createElement("pre",null,a))},Ne=ee.a.t("Something went wrong when processing your request."),Pe=function(e){var t=e.message,a=e.messages,r=e.httpStatusCode,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne,i=r&&r>=400&&r<500||!r&&a&&a.length>0;return!t&&a&&a.length>0&&(t=a.map(function(e){return e.message}).join(", ")),i?t:n},Fe={outerWrap:{paddingTop:0,paddingBottom:"2.5rem"},headerWrap:{display:"flex"},headerSpacer:{flex:"0 0 120px"},header:{flex:"1 0 120px",paddingBottom:0,fontSize:"1.2rem"},error:{color:W.red500},errorText:{fontSize:"0.8rem",marginLeft:"0.8rem"}},Le=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).availableItemsReceivedHandler=function(e){var t=a.props,r=t.initiallyAssignedItems,n=t.returnModelsOnUpdate,i=a.state,s=i.itemStore,o=i.assignedItemStore;n&&(a.modelLookup=new Map);var l=be(r).map(function(e){return e.id}),u=be(e).map(function(e){n&&a.modelLookup.set(e.id,e);var t=e.displayName||e.name;return{value:e.id,text:t}});s.setState(u),o.setState(l)},a.onAssignItems=function(e){var t=a.state.assignedItemStore.state.concat(e);return a.update(t)},a.onRemoveItems=function(e){var t=a.state.assignedItemStore.state.filter(function(t){return-1===e.indexOf(t)});return a.update(t)},a.updateFilterText=function(e){a.setState({filterText:e.target.value})},a.state={itemStore:Ue.a.create(),assignedItemStore:Ue.a.create(),filterText:"",fetchErrorMsg:null},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=Object(re.a)(ae.a.mark(function e(){var t,a;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.availableItemsQuery();case 3:t=e.sent,this.availableItemsReceivedHandler(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Pe(e.t0,ee.a.t("Could not load available items")),this.setState({fetchErrorMsg:a});case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var t=this,a=this.props,r=a.onChange,n=a.returnModelsOnUpdate,i=a.onBlur,s=this.state.assignedItemStore,o=n?e.map(function(e){return t.modelLookup.get(e)}):e;return s.setState(e),r(o),i&&i(),Promise.resolve()}},{key:"renderHeader",value:function(){var e=this.props,t=e.availableItemsHeader,a=e.assignedItemsHeader,r=e.errorText,i=r?Object(n.a)({},Fe.header,Fe.error):Fe.header;return s.a.createElement("div",{style:Fe.headerWrap},s.a.createElement(je.a,{level:4,style:Fe.header},t),s.a.createElement("div",{style:Fe.headerSpacer}),s.a.createElement(je.a,{level:4,style:i},a,r?s.a.createElement("span",{style:Fe.errorText},r):null))}},{key:"renderSearchInput",value:function(){return s.a.createElement(Te.a,{fullWidth:!0,type:"search",onChange:this.updateFilterText,value:this.state.filterText,floatingLabelText:ee.a.t("Filter"),hintText:ee.a.t("Filter available and selected items"),style:{marginTop:"-16px"}})}},{key:"renderGroupEditor",value:function(){var e=this.state,t=e.itemStore,a=e.assignedItemStore,r=e.filterText,n=e.fetchErrorMsg;if(n){var i=ee.a.t("There was a problem displaying the GroupEditor");return s.a.createElement(De,{introText:i,errorMessage:n})}return s.a.createElement(Ce.a,{itemStore:t,assignedItemStore:a,onAssignItems:this.onAssignItems,onRemoveItems:this.onRemoveItems,height:250,filterText:r})}},{key:"render",value:function(){return s.a.createElement("div",{style:Fe.outerWrap},this.renderHeader(),this.renderSearchInput(),this.renderGroupEditor())}}]),t}(i.Component),Me=a(603),Ge=a(56),Ve=a.n(Ge),Be=a(92),qe=a.n(Be),He=a(234),We=a.n(He),Ye=a(98),Qe=a.n(Ye),ze=a(150),Ke=a.n(ze),Xe={error:{info:{color:W.blue500},warning:{color:W.orange500},error:{color:W.red500}}},$e=[{text:"loading...",value:s.a.createElement(Ie.a,{style:{textAlign:"center"}},s.a.createElement(qe.a,{style:{marginTop:"12px"}}))}],Je={filteredItems:[],searchWarning:null,errorStyle:Xe.error.info},Ze={floatingLabelText:ee.a.t("Search"),hintText:ee.a.t("Enter search term"),fullWidth:!0,type:"search",filter:function(){return!0}},et=function(e){function t(e){var a;Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onAutoCompleteChange=function(e){a.setState({autoCompleteText:e}),a.getItems(e)},a.getItems=function(){var e=Object(re.a)(ae.a.mark(function e(t){var r,i,s,o,l,u,c;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props,i=r.minCharLength,s=r.query,o=r.queryParam,t&&!(t.length<i)){e.next=6;break}l=t?ee.a.t("Please enter at least {{ minCharCount }} characters",{minCharCount:i}):null,a.setState(Object(n.a)({},Je,{searchWarning:l})),e.next=19;break;case 6:return a.setState(Object(n.a)({},Je,{filteredItems:$e})),a.trashableQuery=Qe()(s(t,o)),e.prev=8,e.next=11,a.trashableQuery;case 11:u=e.sent,(u=be(u)).length>0?(c=u.map(function(e){return{text:e.displayName,value:e}}),a.setState(Object(n.a)({},Je,{filteredItems:c}))):a.setState(Object(n.a)({},Je,{errorStyle:Xe.error.warning,searchWarning:ee.a.t("No matches found")})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),a.setState(Object(n.a)({},Je,{errorStyle:Xe.error.warning,searchWarning:Pe(e.t0,ee.a.t("There was a problem retreiving your search results"))}));case 19:case"end":return e.stop()}},e,null,[[8,16]])}));return function(t){return e.apply(this,arguments)}}(),a.onItemSelect=function(e){var t=a.props.selectHandler;a.setState({autoCompleteText:""}),t(e)};var r=e.queryDebounceTime||375;return a.state=Object(n.a)({},Je),a.getItems=Ke()(a.getItems,r),a.trashableQuery=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentWillUnmount",value:function(){this.trashableQuery&&this.trashableQuery.trash()}},{key:"render",value:function(){var e=this.props.autoCompleteProps,t=Object(n.a)({},Ze,e),a=this.state,r=a.filteredItems,i=a.searchWarning,o=a.errorStyle,l=a.autoCompleteText,u=i?0:28,c=Object(n.a)({},t,{onUpdateInput:this.onAutoCompleteChange,onNewRequest:this.onItemSelect,searchText:l,dataSource:r,errorText:i,errorStyle:o,floatingLabelShrinkStyle:o,style:{marginBottom:u},menuStyle:{maxHeight:"600px"}});return s.a.createElement(We.a,c)}}]),t}(i.Component);et.defaultProps={queryDebounceTime:375,minCharLength:3};var tt=et,at=a(57),rt=a.n(at),nt=a(577),it=a.n(nt),st={wrapper:{minHeight:"300px",maxHeight:"60vh",position:"relative"},scrollBox:{position:"relative",marginTop:"-12px",maxHeight:"calc(60vh - 154px)",minHeight:"calc(300px - 154px)",overflowY:"auto",paddingTop:"8px",paddingBottom:"8px",borderRadius:"2px"},loader:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},buttonStrip:{paddingTop:"16px",height:"36px"},buttonMargin:{marginRight:"8px"},header:{paddingBottom:0,fontSize:"1.2rem",marginBottom:"-16px"}},ot=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).toggleSelectedOrgUnits=function(e,t){var r=a.state.selectedOrgUnits,n=a.getIndexOfOrgUnit(t),i=-1===n?[].concat(Object(ne.a)(r),[t]):[].concat(Object(ne.a)(r.slice(0,n)),Object(ne.a)(r.slice(n+1)));a.update(i,[])},a.selectAndShowFilteredOrgUnit=function(e){var t=e.value,r=a.state.selectedOrgUnits,n=[a.removeLastPathSegment(t)],i=[].concat(Object(ne.a)(r),[t]);a.update(i,n)},a.clearSelection=function(){a.update([]),it()(a.applySelection)},a.applySelection=function(){var e=a.state.selectedOrgUnits;(0,a.props.confirmSelection)(e)},a.state={roots:null,selectedOrgUnits:Object(ne.a)(e.selectedOrgUnits),orgUnitFilter:null,initiallyExpanded:a.getInitiallyExpandedItems(e.selectedOrgUnits)},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"getInitiallyExpandedItems",value:function(e){var t=this;return e.reduce(function(e,a){var r=t.removeLastPathSegment(a);return r&&e.push(r),e},[])}},{key:"getIndexOfOrgUnit",value:function(e){var t=this.state.selectedOrgUnits,a=t.find(function(t){return t.path===e.path});return t.indexOf(a)}},{key:"removeLastPathSegment",value:function(e){var t=e.path;return t.substr(0,t.lastIndexOf("/"))}},{key:"update",value:function(e,t){var a=this.props.onChange,r=t?{selectedOrgUnits:e,initiallyExpanded:t}:{selectedOrgUnits:e};a&&a(e.map(function(e){return e.id})),this.setState(r)}},{key:"render",value:function(){var e=this.state,t=e.selectedOrgUnits,a=e.initiallyExpanded,r=e.orgUnitFilter,i=this.props,o=i.roots,l=i.confirmSelection,u=i.cancel,c=i.orgUnitType,d=i.headerText,p=i.wrapperStyle,h=t.map(function(e){return e.path}),m={floatingLabelText:ee.a.t("Search"),hintText:ee.a.t("Enter search term"),fullWidth:!0};return s.a.createElement("div",{style:Object(n.a)({},st.wrapper,p)},d?s.a.createElement(je.a,{level:4,style:st.header},d):null,s.a.createElement(tt,{autoCompleteProps:m,query:_r.queryOrgUnits,queryParam:c,minCharLength:2,queryDebounceTime:375,selectHandler:this.selectAndShowFilteredOrgUnit}),s.a.createElement(Ve.a,{style:st.scrollBox},o?s.a.createElement(Me.a,{roots:o,onSelectClick:this.toggleSelectedOrgUnits,selected:h,initiallyExpanded:a,orgUnitsPathsToInclude:r}):s.a.createElement(qe.a,{style:st.loader})),l?s.a.createElement("div",{style:st.buttonStrip},s.a.createElement(rt.a,{label:ee.a.t("Apply"),primary:!0,style:st.buttonMargin,onClick:this.applySelection,disabled:!o}),s.a.createElement(rt.a,{label:ee.a.t("Clear all"),secondary:!0,style:st.buttonMargin,onClick:this.clearSelection,disabled:!o}),s.a.createElement(rt.a,{onClick:u,label:ee.a.t("Cancel")})):null)}}]),t}(i.Component),lt=Object(l.b)(function(e,t){return{roots:pa(t.orgUnitType,e.currentUser)}})(ot),ut=(a(1058),a(58)),ct=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onSelectedOnlyChange=function(e,t){a.setState({selectedOnly:t}),a.props.onFilterChange(a.state.searchStr,t)},a.onSearchStrChange=function(e){var t=e.target.value;a.setState({searchStr:t}),a.props.onFilterChange(t,a.state.selectedOnly)},a.state={searchStr:"",selectedOnly:!1},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"authority-editor__filterbar"},s.a.createElement(ut.e,{className:"authority-editor__filter-text-input search-input",floatingLabelText:ee.a.t("Search"),onChange:this.onSearchStrChange,type:"search"}),s.a.createElement(ut.a,{className:"authority-editor__filter-checkbox",label:ee.a.t("Selected authorities only"),checked:this.state.selectedOnly,onCheck:this.onSelectedOnlyChange,style:{width:"300px"}}))}}]),t}(i.Component),dt=function(e,t,a,r){return a||r?Object.keys(e).reduce(function(i,s){var o=e[s],l=o.items.filter(function(e){var n=function(e,t){if(!t)return!0;var a=e.name.toLowerCase();return t.some(function(e){return!(e.length<=1&&t.length>1)&&a.indexOf(e)>-1})}(e,a),i=function(e,t,a){return!t||(e.items&&e.items.length?e.items.some(function(e){return a.get(e.id)}):Boolean(a.get(e.id)))}(e,r,t);return n&&i});return i[s]=Object(n.a)({},o,{items:l}),i},{}):e},pt=a(161),ht=a.n(pt),mt=a(578),ft=a.n(mt),gt=function(e){var t=e.text,a=e.searchChunks;return a?s.a.createElement(ft.a,{highlightClassName:"authority-editor__search-highlight",searchWords:a,autoEscape:!0,textToHighlight:t}):t},bt=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onChecked=function(e,t){var r=a.props,n=r.authSubject.id,i=r.onCheckedCallBack;a.setState({selected:t}),i(n,t)},a.state={selected:e.selected},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.selected!==this.state.selected&&this.setState({selected:e.selected})}},{key:"render",value:function(){var e=this.props,t=e.authSubject,a=e.withLabel,r=e.disabled,n=this.context.searchChunks,i=t.name,o=t.empty,l=t.implicit,u=a?"authority-editor__auth-checkbox":"".concat("authority-editor__auth-checkbox","--without-label"),c=a?s.a.createElement(gt,{text:i,searchChunks:n}):"";return s.a.createElement("td",null,o?s.a.createElement("div",{className:"authority-editor__empty-cell"}):s.a.createElement(ut.a,{onCheck:this.onChecked,label:c,className:u,checked:this.state.selected||Boolean(l),disabled:l||r}))}}]),t}(i.Component);bt.contextTypes={searchChunks:G.a.array};var vt=bt,yt=a(579),Et=a.n(yt),Ot=a(580),At=a.n(Ot),Tt=new Map([["ALL",ee.a.t("All (Full authority)")],["F_ANALYTICSTABLEHOOK",ee.a.t("Analytics Table Hook")],["F_ATTRIBUTE",ee.a.t("Attribute")],["F_CATEGORY_COMBO",ee.a.t("Category Combo")],["F_CATEGORY",ee.a.t("Category")],["F_CATEGORY_OPTION",ee.a.t("Category Option")],["F_CATEGORY_OPTION_GROUP",ee.a.t("Category Option Group")],["F_CATEGORY_OPTION_GROUP_SET",ee.a.t("Category Option Group Set")],["F_CHART",ee.a.t("Chart")],["F_COLOR_SET",ee.a.t("Color Set")],["F_CONSTANT",ee.a.t("Constant")],["F_DASHBOARD",ee.a.t("Dashboard")],["F_DATAELEMENTGROUPSET",ee.a.t("Data Element Group Sets")],["F_DATAELEMENTGROUP",ee.a.t("Data Element Groups")],["F_DATAELEMENT",ee.a.t("Data Element")],["F_DATAELEMENT_MINMAX",ee.a.t("Min/max rule")],["F_DATASET",ee.a.t("Data Set")],["F_DATAVALUE",ee.a.t("Data Value")],["F_DOCUMENT",ee.a.t("Document")],["F_EVENTCHART",ee.a.t("Event Chart")],["F_EVENTREPORT",ee.a.t("Event Report")],["F_EXTERNAL_MAP_LAYER",ee.a.t("External Map Layer")],["F_INDICATORGROUPSET",ee.a.t("Indicator Group Sets")],["F_INDICATORGROUP",ee.a.t("Indicator Group")],["F_INDICATORTYPE",ee.a.t("Indicator Type")],["F_INDICATOR",ee.a.t("Indicator")],["F_LEGEND_SET",ee.a.t("Legend Set")],["F_MAP",ee.a.t("Map")],["F_MINMAX_DATAELEMENT",ee.a.t("Min-Max Data Element")],["F_OPTIONGROUPSET",ee.a.t("Option Group Set")],["F_OPTIONGROUP",ee.a.t("Option Group")],["F_OPTIONSET",ee.a.t("Option Set")],["F_ORGANISATIONUNIT",ee.a.t("Organisation Unit")],["F_ORGUNITGROUPSET",ee.a.t("Organisation Unit Group Set")],["F_ORGUNITGROUP",ee.a.t("Organisation Unit Group")],["F_PREDICTOR",ee.a.t("Predictor")],["F_PROGRAMSTAGE",ee.a.t("Program Stage")],["F_PROGRAM",ee.a.t("Program")],["F_PROGRAM_INDICATOR",ee.a.t("Program Indicator")],["F_PROGRAM_INDICATOR_GROUP",ee.a.t("Program Indicator Group")],["F_PROGRAM_RULE",ee.a.t("Program Rule")],["F_PROGRAM_TRACKED_ENTITY_ATTRIBUTE_GROUP",ee.a.t("Program Tracked Entity Attribute Group")],["F_PUSH_ANALYSIS",ee.a.t("Push Analysis")],["F_RELATIONSHIPTYPE",ee.a.t("Relationship Type")],["F_REPORTTABLE",ee.a.t("Report Table")],["F_REPORT",ee.a.t("Report")],["F_SECTION",ee.a.t("Section")],["F_SQLVIEW",ee.a.t("SQL View")],["F_TRACKED_ENTITY",ee.a.t("Tracked Entity")],["F_TRACKED_ENTITY_ATTRIBUTE",ee.a.t("Tracked Entity Attribute")],["F_TRACKED_ENTITY_DATAVALUE",ee.a.t("Tracked Entity Data Value")],["F_TRACKED_ENTITY_INSTANCE",ee.a.t("Tracked Entity Instance")],["F_USERGROUP",ee.a.t("User Group")],["F_USERROLE",ee.a.t("User Role")],["F_USER",ee.a.t("User")],["F_VALIDATIONRULEGROUP",ee.a.t("Validation Rule Group")],["F_VALIDATIONRULE",ee.a.t("Validation Rule")],["F_PREDICTORGROUP",ee.a.t("Data predictor group")],["F_SKIP_DATA_IMPORT_AUDIT",ee.a.t("Skip data import audit")]]),St={metadata:{name:"Metadata",items:null,headers:["Name","Add/Update Public","Add/Update Private","Delete","External access"]},apps:{name:ee.a.t("Apps"),items:null,headers:["Name"]},tracker:{name:ee.a.t("Tracker"),items:null,headers:["Name"]},importExport:{name:ee.a.t("Import-Export"),items:null,headers:["Name"]},system:{name:ee.a.t("System"),items:null,headers:["Name"]}},_t=["_PUBLIC_ADD","_PRIVATE_ADD","_ADD","_DELETE","_EXTERNAL"],Rt={id:null,empty:!0},wt={implicit:!0},kt=new Set(["F_CHART_PUBLIC_ADD","F_DASHBOARD_PUBLIC_ADD","F_EVENTCHART_PUBLIC_ADD","F_EVENTREPORT_PUBLIC_ADD","F_MAP_PUBLIC_ADD","F_REPORTTABLE_PUBLIC_ADD"]),It={tracker:new Set(["F_PROGRAM_DASHBOARD_CONFIG_ADMIN","F_PROGRAM_ENROLLMENT","F_PROGRAM_ENROLLMENT_READ","F_PROGRAM_UNENROLLMENT","F_TEI_CASCADE_DELETE","F_TRACKED_ENTITY_DATAVALUE_READ","F_TRACKED_ENTITY_INSTANCE_SEARCH","F_TRACKED_ENTITY_INSTANCE_SEARCH_IN_ALL_ORGUNITS","F_TRACKED_ENTITY_UPDATE","F_UNCOMPLETE_EVENT","F_VIEW_EVENT_ANALYTICS","F_PROGRAM_RULE_MANAGEMENT","F_ENROLLMENT_CASCADE_DELETE"]),importExport:new Set(["F_EXPORT_DATA","F_EXPORT_EVENTS","F_IMPORT_DATA","F_IMPORT_EVENTS","F_IMPORT_GML","F_METADATA_EXPORT","F_METADATA_IMPORT","F_METADATA_MANAGE","F_SKIP_DATA_IMPORT_AUDIT"]),system:new Set(["ALL","F_APPROVE_DATA","F_APPROVE_DATA_LOWER_LEVELS","F_ACCEPT_DATA_LOWER_LEVELS","F_VIEW_UNAPPROVED_DATA","F_ORGANISATIONUNIT_MOVE","F_ORGANISATIONUNITLEVEL_UPDATE","F_RUN_VALIDATION","F_REPLICATE_USER","F_USER_VIEW","F_USERGROUP_MANAGING_RELATIONSHIPS_ADD","F_USERGROUP_MANAGING_RELATIONSHIPS_VIEW","F_PERFORM_MAINTENANCE","F_SCHEDULING_ADMIN","F_GENERATE_MIN_MAX_VALUES","F_PREDICTOR_RUN","F_INSERT_CUSTOM_JS_CSS","F_SYSTEM_SETTING","F_SEND_EMAIL","F_MOBILE_SETTINGS","F_MOBILE_SENDSMS","F_OAUTH2_CLIENT_MANAGE"])},Ct=function(e){return Object.keys(e).forEach(function(t){var a=e[t];a.items=At()(a.items,"name")}),e},Ut=function(e){return!_t.some(function(t){return ht()(e.id,t)})},jt=function(e,t){if(!t.get(e.id))return null;var a=_t.find(function(t){return ht()(e.id,t)}),r=e.id.replace(a,""),n=t.get(r+"_ADD"),i=t.get(r+"_EXTERNAL"),s=kt.has(r+"_PUBLIC_ADD"),o=n||t.get(r+"_PUBLIC_ADD"),l=n?Rt:s?wt:t.get(r+"_PRIVATE_ADD"),u=s?wt:t.get(r+"_DELETE"),c=i||Rt;return o&&l&&u?(_t.forEach(function(e){return t.delete(r+e)}),{name:Tt.get(r)||r,items:[o,l,u,c]}):null},xt=function(e,t,a){var r=Object.keys(It).find(function(t){return It[t].has(e.id)})||"system";"ALL"===e.id&&(e.name=Tt.get(e.id)),t[r].items.push(e),a.delete(e.id)},Dt=function(e){var t=e.reduce(function(e,t){return e.set(t.id,t),e},new Map),a=Object.keys(St).reduce(function(e,t){return e[t]=Object(n.a)({},St[t],{items:[]}),e},{}),r=e.reduce(function(e,a){if(Et()(a.id,"M_"))e.apps.items.push(a),t.delete(a.id);else if(Ut(a))xt(a,e,t);else{var r=jt(a,t);r?e.metadata.items.push(r):t.get(a.id)&&xt(a,e,t)}return e},a);return Ct(r)},Nt=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).onAuthGroupChanged=function(e,t){a.context.onAuthChange(e,t),a.isPublicAdd(e)&&a.forceUpdate()},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"isPublicAdd",value:function(e){return ht()(e,"_PUBLIC_ADD")}},{key:"isPrivateAdd",value:function(e){return ht()(e,"_PRIVATE_ADD")}},{key:"render",value:function(){var e,t=this,a=this.props,r=a.name,n=a.items,i=this.context,o=i.shouldSelect,l=i.searchChunks;return n.reduce(function(a,r,n){var i=t.isPublicAdd(r.id),l=t.isPrivateAdd(r.id),u=Boolean(e&&l),c=o(r.id)||u;return i&&(e=c),a.push(s.a.createElement(vt,{key:"authitem-".concat(n),authSubject:r,withLabel:!1,selected:c,disabled:u,onCheckedCallBack:t.onAuthGroupChanged})),a},[s.a.createElement("td",{key:"group-label"},s.a.createElement(gt,{text:r,searchChunks:l}))])}}]),t}(i.Component);Nt.contextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired,searchChunks:G.a.array};var Pt=Nt,Ft=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).renderAuthRow=function(e,t){var r=a.context,n=r.shouldSelect,i=r.onAuthChange;return s.a.createElement("tr",{key:"row-".concat(t)},e.items?s.a.createElement(Pt,{items:e.items,name:e.name}):s.a.createElement(vt,{authSubject:e,withLabel:!0,selected:n(e.id),onCheckedCallBack:i}))},a.state={renderedItems:null},a.appendInterval=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.authSection.items.length&&(this.setState({renderedItems:null}),this.createBatchedRenderInterval(e.authSection.items))}},{key:"componentWillUnmount",value:function(){clearInterval(this.appendInterval)}},{key:"createBatchedRenderInterval",value:function(e){var t=this,a=0;this.appendInterval=setInterval(function(){var r=t.state.renderedItems||[],n=a+7>e.length?e.length:a+7,i=e.slice(a,n),s=[].concat(Object(ne.a)(r),Object(ne.a)(i));a=n,s.length===e.length&&clearInterval(t.appendInterval),t.setState({renderedItems:s})},10)}},{key:"renderLoaderRow",value:function(){return s.a.createElement("tr",null,s.a.createElement("td",{className:"authority-editor__placeholder-cell"},s.a.createElement(ut.b,{size:24})))}},{key:"renderInfoRow",value:function(e){var t="authority-editor__placeholder-cell",a=ee.a.t("No matches found");return e&&(t+="--error",a=e),s.a.createElement("tr",null,s.a.createElement("td",{className:t},a))}},{key:"renderContent",value:function(e){var t=this.state.renderedItems;return e.items&&t?"string"===typeof e.items?this.renderInfoRow(e.items):0===e.items.length?this.renderInfoRow():this.state.renderedItems.map(this.renderAuthRow):this.renderLoaderRow()}},{key:"renderTableHead",value:function(e){var t=e.headers;return s.a.createElement("thead",null,s.a.createElement("tr",null,t.map(function(e,t){return s.a.createElement("th",{key:"header-".concat(t)},e)})))}},{key:"render",value:function(){var e=this.props,t=e.sectionKey,a=e.authSection,r="authority-editor__auth-group ".concat(t);a.items&&a.items.length>11&&(r+=" scrollable");var n="authority-editor__auth-group-table";return n+=" columns-".concat(a.headers.length),s.a.createElement(ut.c,{className:r},s.a.createElement(je.a,{level:6,className:"authority-editor__auth-group-header"},a.name),s.a.createElement("table",{className:n},this.renderTableHead(a),s.a.createElement("tbody",null,this.renderContent(a))))}}]),t}(i.Component);Ft.contextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired};var Lt=Ft,Mt=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).state={filteredAuthorities:e.allGroupedAuthorities,searchChunks:null},a.updateFilter=Ke()(a.updateFilter,375),a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"getChildContext",value:function(){return{searchChunks:this.state.searchChunks}}},{key:"componentWillReceiveProps",value:function(e){this.updateFilteredAuthorities(e.allGroupedAuthorities,null,null)}},{key:"updateFilter",value:function(e,t){var a=this.props.allGroupedAuthorities;this.updateFilteredAuthorities(a,e,t)}},{key:"updateFilteredAuthorities",value:function(e,t,a){var r=this.context.selectedItemsLookup,n=t?t.toLowerCase().split(" "):null;this.setState({filteredAuthorities:dt(e,r,n,a),searchChunks:n})}},{key:"render",value:function(){var e=this.state.filteredAuthorities;return s.a.createElement("div",{className:"authority-editor__auth-group-wrap"},Object.keys(e).map(function(t){return s.a.createElement(Lt,{key:t,sectionKey:t,authSection:e[t]})}))}}]),t}(i.Component);Mt.contextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired,selectedItemsLookup:G.a.object.isRequired},Mt.childContextTypes={searchChunks:G.a.array};var Gt=Mt,Vt=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).onFilterChange=function(e,t){a.filteredAuthSections.updateFilter(e,t)},a.onAuthChange=function(e,t){var r=a.props,n=r.reduxFormOnBlur,i=r.reduxFormOnChange,s=[];a.selectedItemsLookup.set(e,t),a.selectedItemsLookup.forEach(function(e,t){e&&s.push(t)}),i&&i(s),n&&n()},a.shouldSelect=function(e){return Boolean(a.selectedItemsLookup.get(e))},a.state={allGroupedAuthorities:St},a.selectedItemsLookup=e.initiallySelected.reduce(function(e,t){return e.set(t,!0)},new Map),a.groupedAuthoritiesPromise=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"getChildContext",value:function(){return{shouldSelect:this.shouldSelect,onAuthChange:this.onAuthChange,selectedItemsLookup:this.selectedItemsLookup}}},{key:"componentDidMount",value:function(){var e=Object(re.a)(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.groupedAuthoritiesPromise=Qe()(_r.getGroupedAuthorities()),e.prev=1,e.next=4,this.groupedAuthoritiesPromise;case 4:t=e.sent,this.setState({allGroupedAuthorities:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.handleAuthorityFetchError(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.groupedAuthoritiesPromise.trash()}},{key:"handleAuthorityFetchError",value:function(e){var t=Pe(e,ee.a.t("There was a problem retreiving the available authorities.")),a=Object.keys(St).reduce(function(e,a){return e[a]=Object(n.a)({},St[a],{items:t}),e},{});this.setState({allGroupedAuthorities:a})}},{key:"getChangedProperties",value:function(e,t){return Object.keys(e).reduce(function(a,r){return e[r]!==t[r]&&a.push(r),a},[])}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.getChangedProperties(e,this.props),r=this.getChangedProperties(t,this.state),n=[].concat(Object(ne.a)(a),Object(ne.a)(r));return n.length>0&&n.includes("allGroupedAuthorities")}},{key:"render",value:function(){var e=this,t=this.state.allGroupedAuthorities;return s.a.createElement("div",{className:"authority-editor"},s.a.createElement(je.a,{level:4,className:"authority-editor__header"},ee.a.t("Authorities")),s.a.createElement(ct,{onFilterChange:this.onFilterChange}),s.a.createElement(Gt,{ref:function(t){e.filteredAuthSections=t},allGroupedAuthorities:t}))}}]),t}(i.Component);Vt.defaultProps={initiallySelected:[]},Vt.childContextTypes={shouldSelect:G.a.func.isRequired,onAuthChange:G.a.func.isRequired,selectedItemsLookup:G.a.object.isRequired};var Bt=Vt,qt={checkbox:{marginTop:"32px",fontSize:"16px"},warning:{color:W.orange500}},Ht=function(e){var t=e.input,a=e.label,r=e.meta,n=r.touched,i=r.error,o=r.asyncValidating,l=Object(Oe.a)(e,["input","label","meta"]),u=o?ee.a.t("Validating..."):n&&i;return o&&(l.errorStyle=qt.warning),s.a.createElement(Te.a,Object.assign({floatingLabelText:a,hintText:a,fullWidth:!0,errorText:u},l,t))},Wt=function(e){var t=e.input,a=e.label;return s.a.createElement(_e.a,Object.assign({checked:Boolean(t.value),onCheck:t.onChange,label:a},t,{style:qt.checkbox}))},Yt=function(e){var t=e.input,a=e.label,r=e.meta,n=r.touched,i=r.error,o=r.asyncValidating,l=e.options,u=e.style,c=o?ee.a.t("Validating..."):n&&i,d=o?qt.warning:void 0;return s.a.createElement(we.a,Object.assign({floatingLabelText:a,fullWidth:!0},t,{onChange:function(e,a,r){t.onChange(r),setTimeout(function(){return t.onBlur(r)},1)},style:u,errorText:c,errorStyle:d}),l.map(function(e,t){var a=e.id,r=e.label;return s.a.createElement(Ie.a,{key:"option_".concat(t),value:a,primaryText:r})}))},Qt=function(e){var t=e.input,a=e.meta,r=a.touched,n=a.error,i=e.availableItemsQuery,o=e.availableItemsLabel,l=e.assignedItemsLabel,u=e.initialValues,c=Object(Oe.a)(e,["input","meta","availableItemsQuery","availableItemsLabel","assignedItemsLabel","initialValues"]);return s.a.createElement(Le,Object.assign({initiallyAssignedItems:u,onChange:t.onChange,onBlur:t.onBlur,availableItemsQuery:i,availableItemsHeader:o,assignedItemsHeader:l,errorText:r&&n},c))},zt=function(e){var t=e.input,a=e.label,r=e.wrapperStyle,n=e.initialValues,i=e.orgUnitType;return s.a.createElement(lt,{selectedOrgUnits:n,onChange:t.onChange,wrapperStyle:r,headerText:a,orgUnitType:i})},Kt=function(e){var t=e.name,a=e.label,r=e.style;return s.a.createElement("p",{key:t,style:r},a)},Xt="groupForm",$t="name",Jt="users",Zt="code",ea="managedGroups",ta={loaderWrap:{paddingTop:"2rem",textAlign:"center"}},aa=[{name:$t,label:ee.a.t("Name"),fieldRenderer:Ht,isRequiredField:!0},{name:Zt,label:ee.a.t("Code"),fieldRenderer:Ht},{name:Jt,fieldRenderer:Qt,isRequiredField:!0,initialItemsSelector:function(e){return be(e[Jt])},availableItemsQuery:"getManagedUsers",availableItemsLabel:ee.a.t("Available users"),assignedItemsLabel:ee.a.t("Group members")},{name:ea,fieldRenderer:Qt,initialItemsSelector:function(e){return be(e[ea])},availableItemsQuery:"getAvailableUserGroups",availableItemsLabel:ee.a.t("Available user groups"),assignedItemsLabel:ee.a.t("Managed user groups")}],ra=Ee()(function(e){if(null===e)return e;var t=e.total,a=e.pageCount,r=e.page,n=e.query.pageSize,i=t-(t-(a-(a-r))*n),s=1+i-n,o=i;return e.currentlyShown="".concat(s," - ").concat(o>t?t:o),e}),na=function(e,t){if(!e||"string"===typeof e)return e;var a=e.modelDefinition.name;return e.toArray().map(function(e){return ia[a](e,t)})},ia={user:function(e){return e.userName=e.userCredentials.username,e.disabled=e.userCredentials.disabled,e.lastLogin=e.userCredentials.lastLogin,e},userRole:function(e){return e},userGroup:function(e,t){return e.currentUserIsMember=Boolean(t.get(e.id)),e}},sa=Ee()(function(e){return e.length<3?e.map(function(e){return e.displayName}).join(", "):ee.a.t("{{count}} selected",{count:e.length})}),oa=function(e,t,a){a===Ra?t[a]=[].concat(Object(ne.a)(e.catDimensionConstraints),Object(ne.a)(e.cogsDimensionConstraints)):e[a]&&!de()(e[a].size)||Array.isArray(e[a])?t[a]=be(e[a]).map(function(e){return e.id}):t[a]=e[a]},la=Ee()(function(e,t,a){var r=Object(b.a)({},ba,Ca);return e.id&&(wa.forEach(function(t){oa(e,r,t)}),ka.forEach(function(t){oa(e.userCredentials,r,t)}),a.forEach(function(e){return r[e.name]=e.value})),r[Ta]=t.ui.selected||"en",r[Sa]=t.db.selected,r}),ua=Ee()(function(e,t){var a={};return aa.forEach(function(t){oa(e,a,t.name)}),t.forEach(function(e){return a[e.name]=e.value}),a}),ca=Ee()(function(e){var t=be(ve("userCredentials.catDimensionConstraints",e)),a=be(ve("userCredentials.cogsDimensionConstraints",e));return[].concat(Object(ne.a)(t),Object(ne.a)(a))}),da=Ee()(function(e,t){return t&&e?t.get(e):null}),pa=function(e,t){var a=t.systemOrganisationUnitRoots,r=t[e],n=t[_a],i=null;return t.authorities.has("ALL")?i=a:0===r.size?i=n.toArray():n.size>0&&(i=n.toArray()),i},ha=function(e){var t=e&&e.registeredFields,a=e&&e.values;return(Boolean(t&&t[ba])&&a&&a[ba])===Ua},ma={loaderWrap:{paddingTop:"2rem",textAlign:"center"},toggler:{color:W.blue600},orgUnitTree:{width:"calc(50% - 60px)",float:"left",minHeight:"100px",maxHeight:"1200px"},togglerWrap:{clear:"both",paddingTop:"1.2rem",marginBottom:"1.5rem"},additionalFieldsWrap:{clear:"both",paddingTop:"1.5rem"}},fa="userForm",ga="username",ba="inviteUser",va="externalAuth",ya="password",Ea="repeatPassword",Oa="openId",Aa="ldapId",Ta="interfaceLanguage",Sa="databaseLanguage",_a="organisationUnits",Ra="catCogsDimensionConstraints",wa=["surname","firstName","email","phoneNumber","whatsApp","facebookMessenger","skype","telegram","twitter",_a,"dataViewOrganisationUnits","userGroups","teiSearchOrganisationUnits"],ka=[ga,va,ya,Oa,Aa,"userRoles",Ra],Ia="use_db_locale",Ca="SET_PASSWORD",Ua="INVITE_USER",ja={label:ee.a.t("Selecting an organisation unit provides access to all units in the sub-hierarchy"),fieldRenderer:Kt,style:{clear:"both",paddingTop:"0.8rem",fontStyle:"italic",fontSize:"0.9rem"}},xa=[{name:ba,label:ee.a.t("Create account or email invitation"),fieldRenderer:Yt,options:[{id:Ca,label:"Create account with user details"},{id:Ua,label:"Email invitation to create account"}],props:{style:{}}}],Da=[{name:ga,label:ee.a.t("Username"),fieldRenderer:Ht,isRequiredField:"CREATE_REQUIRED"},{name:"email",label:ee.a.t("E-mail"),fieldRenderer:Ht,isRequiredField:"INVITE_REQUIRED"},{name:va,label:ee.a.t("External authentication only (OpenID or LDAP)"),fieldRenderer:Wt},{name:ya,label:ee.a.t("Password"),fieldRenderer:Ht,isRequiredField:"CREATE_REQUIRED",props:{type:"password"}},{name:Ea,label:ee.a.t("Retype password"),fieldRenderer:Ht,isRequiredField:"CREATE_REQUIRED",props:{type:"password"}},{name:"surname",label:ee.a.t("Surname"),isRequiredField:"ALWAYS_REQUIRED",fieldRenderer:Ht},{name:"firstName",label:ee.a.t("First name"),isRequiredField:"ALWAYS_REQUIRED",fieldRenderer:Ht},{name:Oa,label:ee.a.t("OpenID"),fieldRenderer:Ht},{name:Aa,label:ee.a.t("LDAP identifier"),fieldRenderer:Ht},{name:"phoneNumber",label:ee.a.t("Mobile phone number"),fieldRenderer:Ht},{name:"whatsApp",label:ee.a.t("WhatsApp"),fieldRenderer:Ht},{name:"facebookMessenger",label:ee.a.t("Facebook Messenger"),fieldRenderer:Ht},{name:"skype",label:ee.a.t("Skype"),fieldRenderer:Ht},{name:"telegram",label:ee.a.t("Telegram"),fieldRenderer:Ht},{name:"twitter",label:ee.a.t("Twitter"),fieldRenderer:Ht},{name:Ta,label:ee.a.t("Interface language"),fieldRenderer:Yt,optionsSelector:"locales.ui.available"},{name:Sa,label:ee.a.t("Database language"),fieldRenderer:Yt,optionsSelector:"locales.db.available"},{name:"userRoles",fieldRenderer:Qt,isRequiredField:"ALWAYS_REQUIRED",initialItemsSelector:function(e){return be(ve("userCredentials.userRoles",e)||[])},availableItemsQuery:"getAvailableUserRoles",availableItemsLabel:ee.a.t("Available roles"),assignedItemsLabel:ee.a.t("Selected roles")},{name:_a,label:ee.a.t("Data capture and maintenance organisation units"),orgUnitType:_a,fieldRenderer:zt,wrapperStyle:Object(n.a)({},ma.orgUnitTree,{paddingRight:"60px"})},{name:"dataViewOrganisationUnits",label:ee.a.t("Data output and analytic organisation units"),orgUnitType:"dataViewOrganisationUnits",fieldRenderer:zt,wrapperStyle:Object(n.a)({},ma.orgUnitTree,{paddingLeft:"60px"})},Object(n.a)({},ja,{name:"org_unit_info_1"})],Na=[{name:"teiSearchOrganisationUnits",label:ee.a.t("Search Organisation Units"),orgUnitType:"teiSearchOrganisationUnits",fieldRenderer:zt,wrapperStyle:Object(n.a)({},ma.orgUnitTree,{paddingRight:"60px"})},Object(n.a)({},ja,{name:"org_unit_info_2"}),{name:"userGroups",fieldRenderer:Qt,initialItemsSelector:function(e){return be(e.userGroups)||[]},availableItemsQuery:"getAvailableUserGroups",availableItemsLabel:ee.a.t("Available user groups"),assignedItemsLabel:ee.a.t("Selected user groups")},{name:Ra,fieldRenderer:Qt,initialItemsSelector:function(e){return ca(e)},availableItemsQuery:"getAvailableDataAnalyticsDimensionRestrictions",availableItemsLabel:ee.a.t("Available dimension restrictions for data analytics"),assignedItemsLabel:ee.a.t("Selected dimension restrictions for data analytics"),returnModelsOnUpdate:!0}],Pa="user",Fa="userRole",La="userGroup",Ma=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,Ga=/^\+(?:[0-9].?){4,14}[0-9]$/,Va=/[0-9]{4}-[0-9]{2}-[0-9]{2}/,Ba=/^(?=.*[a-z]).+$/,qa=/^(?=.*[A-Z]).+$/,Ha=/^(?=.*[0-9]).+$/,Wa=/[^a-zA-Z0-9]/;function Ya(e){if(sr(e)&&e.length>50)return ee.a.t("Exceeds maximum character limit of 50")}function Qa(e){if(sr(e)&&!Va.test(e))return ee.a.t("Please enter a valid date with the following format yyyy-mm-dd")}function za(e){if(sr(e)&&!Ma.test(e.toLowerCase()))return ee.a.t("Please provide a valid email address")}function Ka(e){if(sr(e)&&!ir(e))return ee.a.t("Value should be an integer")}function Xa(e){if(sr(e)&&(!ir(e)||parseInt(e,10)>=0))return ee.a.t("Value should be a nagative integer")}function $a(e){if(sr(e)&&isNaN(e))return ee.a.t("Value should be a number")}function Ja(e,t,a){if(function(e,t){if(t.inviteUser)return!1;return!(Boolean(t.user.id)&&!e[ya]&&!e[Ea])}(t,a)){var r=function(e){if(!sr(e))return ee.a.t("This field is required");if(e.length<8)return ee.a.t("Password should be at least 8 characters long");if(e.length>35)return ee.a.t("Password should be no longer than 34 characters");if(!Ba.test(e))return ee.a.t("Password should contain at least one lowercase letter");if(!qa.test(e))return ee.a.t("Password should contain at least one UPPERCASE letter");if(!Ha.test(e))return ee.a.t("Password should contain at least one number");if(!Wa.test(e))return ee.a.t("Password should have at least one special character");return null}(t[ya]);return r||void 0}}function Za(e){if(sr(e)&&(!ir(e)||parseInt(e,10)<=0))return ee.a.t("Value should be a positive integer")}function er(e,t){if(t[Ea]!==t[ya])return ee.a.t("Passwords do not match")}function tr(e){return sr(e)?void 0:ee.a.t("This field is required")}function ar(e){if(!(Array.isArray(e)&&e.length>0))return ee.a.t("This field is required. Please select at least one")}function rr(e){return sr(e)&&e.length<2?ee.a.t("A username should be at least 2 characters long"):sr(e)&&e.length>140?ee.a.t("Username may not exceed 140 characters"):void 0}function nr(e){if(sr(e)&&!Ga.test(e))return ee.a.t("Please provide a valid international phone number (+0123456789)")}function ir(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t}function sr(e){return"undefined"!==typeof e&&null!==e&&""!==e}var or,lr="not-a-date";var ur="userAttibute_",cr="no_value";function dr(e,t){return e.map(function(e){return function(e,t){var a=e.id,r=e.valueType,i=e.displayName,s=e.mandatory,o=e.unique,l=e.optionSet,u=t&&t.find(function(e){return e.attribute.id===a}),c=function(e,t,a){var r=t?Object(n.a)({},mr.OPTION_SET,{props:{options:t.options.map(function(e){return{id:e.id,label:e.displayName}})}}):mr[e]||mr.TEXT;r.fieldRenderer!==Yt||a||r.props.options[0].id===cr||(r.props.options=[{id:cr,label:ee.a.t("<No value>")}].concat(Object(ne.a)(r.props.options)));return r}(r,l,s);return Object(n.a)({name:ur+a,isAttributeField:!0,label:i,isRequiredField:s,shouldBeUnique:o,attributeId:a,value:u&&u.value||null,valueType:r},c)}(e,t)})}function pr(e,t){e.forEach(function(e){var a=e.shouldBeUnique,r=e.name;a&&t.push(r)})}function hr(e,t){var a=t.reduce(function(e,t){var a=t.attributeId,r=t.valueType;return e[a]=r,e},{});return Object.keys(e).reduce(function(t,r){if(-1!==r.indexOf(ur)){var n=r.replace(ur,""),i=e[r];"TRUE_ONLY"===a[n]&&!i||i===cr||t.push({value:i,attribute:{id:n}})}return t},[])}var mr={OPTION_SET:{fieldRenderer:Yt},TEXT:{fieldRenderer:Ht},LONG_TEXT:{fieldRenderer:Ht,props:{multiLine:!0,rows:3,rowsMax:6}},DATE:{fieldRenderer:Ht,props:{type:"date",floatingLabelFixed:function(){if("undefined"!==typeof or)return or;var e=document.createElement("input");return e.setAttribute("type","date"),e.setAttribute("value",lr),or=e.value!==lr,e=null,or}(),hintText:null},fieldValidators:[Qa]},BOOLEAN:{fieldRenderer:Yt,props:{options:[{id:"true",label:ee.a.t("Yes")},{id:"false",label:ee.a.t("No")}]}},TRUE_ONLY:{fieldRenderer:Wt},NUMBER:{fieldRenderer:Ht,fieldValidators:[$a]},INTEGER:{fieldRenderer:Ht,fieldValidators:[Ka]},INTEGER_POSITIVE:{fieldRenderer:Ht,fieldValidators:[Za]},INTEGER_NEGATIVE:{fieldRenderer:Ht,fieldValidators:[Xa]}};var fr=function(e,t){var a=ue()(e).toUpperCase(),r="".concat(a,t?"_DETAILS":"_LIST");return ge[r]},gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,i=t.query,s=t.inactiveMonths,o=t.selfRegistered,l=t.invitationStatus,u=t.organisationUnits,c={pageSize:50,fields:a,page:e,order:r===Pa?["firstName:asc","surname:asc"]:"name:asc"};if(r!==Pa||br(n)||(c.userOrgUnits=!0,c.includeChildren=!0),i&&(c.query=i),s&&(c.inactiveMonths=s),o&&(c.selfRegistered=o),l&&(c.invitationStatus=l),u.length){var d=u.map(function(e){return e.id}).join();c.filter="organisationUnits.id:in:[".concat(d,"]")}return c},br=function(e){return e.authorities.has("ALL")},vr=function(e,t,a){de()(t)||(e[a]=Array.isArray(t)?t.map(function(e){return{id:e}}):t)},yr=function(e,t,a,r){var n=!t.id,i=t.id||Object(oe.generateUid)(),s=t.userCredentials&&t.userCredentials.id||Object(oe.generateUid)(),o=t.modelDefinition.getOwnedPropertyNames(),l={id:i,userCredentials:{id:s,userInfo:{id:i},cogsDimensionConstraints:[],catDimensionConstraints:[]}},u=l.userCredentials;if(Array.isArray(e.catCogsDimensionConstraints)&&e.catCogsDimensionConstraints.forEach(function(e){"CATEGORY_OPTION_GROUP_SET"===e.dimensionType?u.cogsDimensionConstraints.push({id:e.id}):u.catDimensionConstraints.push({id:e.id})}),wa.forEach(function(t){return vr(l,e[t],t)}),ka.forEach(function(t){return vr(u,e[t],t)}),l.attributeValues=hr(e,r),delete u[Ra],(a||e[va])&&(delete u[ya],delete u[Ea]),!n){var c=!0,d=!1,p=void 0;try{for(var h,m=o[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var f=h.value;t[f]&&!l[f]&&(l[f]=t[f])}}catch(g){d=!0,p=g}finally{try{c||null==m.return||m.return()}finally{if(d)throw p}}}return l},Er=function(e,t,a){return"/userSettings/key".concat(e,"Locale?user=").concat(t,"&value=").concat(a)},Or=function(e){return{id:e.locale,label:e.name}},Ar=function(e,t){var a=j.getState().currentUser;if(a.authorities.has("ALL"))return e.toArray();var r=a[t].size>0?a[t]:a[_a];return e.toArray().filter(function(e){var t=Boolean(r.get(e.id)),a=!t&&e.ancestors.toArray().some(function(e){return Boolean(r.get(e.id))});return t||a})},Tr=function(e){return e.forEach(function(e){e.displayName+=" (".concat(e.userCredentials.username,")")}),e},Sr=function(e){var t=[],a=!0,r=!1,n=void 0;try{for(var i,s=e.typeReports[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var o=i.value,l=!0,u=!1,c=void 0;try{for(var d,p=o.objectReports[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var h=d.value,m=!0,f=!1,g=void 0;try{for(var b,v=h.errorReports[Symbol.iterator]();!(m=(b=v.next()).done);m=!0){var y=b.value;t.push({message:y.message})}}catch(E){f=!0,g=E}finally{try{m||null==v.return||v.return()}finally{if(f)throw g}}}}catch(E){u=!0,c=E}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}catch(E){r=!0,n=E}finally{try{a||null==s.return||s.return()}finally{if(r)throw n}}return{messages:t}},_r=new(function(){function e(){var t=this;Object(x.a)(this,e),this.getD2=function(){return t.d2},this.getContextPath=function(){return t.d2.system.systemInfo.contextPath},this.getList=function(e,a,r){var n=fr(e),i=gr(a,r,n,e,t.getCurrentUser());return t.d2.models[e].list(i)},this.getItem=function(e,a){var r={fields:fr(e,!0)};return t.d2.models[e].get(a,r)},this.genericFind=function(e,a,r){return t.d2.models[e].filter().on(a).equals(r).list({fields:["id"]})},this.replicateUser=function(e,a,r){var n="/users/".concat(e,"/replica"),i={username:a,password:r};return t.d2Api.post(n,i)},this.queryOrgUnits=function(e,a){var r=Object(n.a)({},fe,{query:e});return t.d2.models.organisationUnits.list(r).then(function(e){return Ar(e,a)})},this.getAvailableUserRoles=function(){return t.d2.models.userRoles.list({canIssue:!0,fields:["id","displayName"],paging:!1})},this.getAvailableDataAnalyticsDimensionRestrictions=function(){return t.d2Api.get("/dimensions/constraints",{fields:["id","name","dimensionType"],paging:!1}).then(function(e){return e.dimensions})},this.updateDisabledState=function(e,a){var r="/users/".concat(e),n={userCredentials:{disabled:a}};return t.d2Api.patch(r,n)},this.disable2FA=function(e){var a="/users/".concat(e);return t.d2Api.patch(a,{userCredentials:{twoFA:!1}})},this.getSelectedAndAvailableLocales=function(e){e=e?encodeURIComponent(e):null;var a={id:Ia,label:ee.a.t("Use database locale / no translation")},r=t.d2Api.get("/locales/db"),n=t.d2Api.get("/locales/ui"),i=e?t.d2Api.get("/userSettings/keyUiLocale?user=".concat(e)):t.d2.system.settings.get("keyUiLocale"),s=e?t.d2Api.get("/userSettings/keyDbLocale?user=".concat(e)):Promise.resolve(Ia);return Promise.all([r,n,s,i]).then(function(e){var t=Object(ie.a)(e,4),r=t[0],n=t[1],i=t[2],s=t[3];return{db:{available:[a].concat(Object(ne.a)(r.map(Or))),selected:i||Ia},ui:{available:n.map(Or),selected:s}}})},this.saveOrInviteUser=function(e,a,r,n,i,s){var o=yr(e,a,r,s),l=r?"/users/invite":"/users";return(a.id?t.d2Api.update("/users/".concat(a.id),o):t.d2Api.post(l,o)).then(function(a){if("ERROR"===a.status)return Promise.reject(Sr(a));var r=[],s=encodeURIComponent(e.username),o=e[Ta];o!==n&&r.push(t.d2Api.post(Er("Ui",s,o)));var l=e[Sa];if(l!==i){var u=l===Ia?t.d2Api.delete("/userSettings/keyDbLocale?user=".concat(s)):t.d2Api.post(Er("Db",s,l));r.push(u)}return 0===r.length&&r.push(Promise.resolve("No locale changes detected")),Promise.all(r)})},this.getManagedUsers=function(){return t.d2.models.user.list({fields:["id","displayName","userCredentials[username]"],paging:!1}).then(Tr)},this.getAvailableUserGroups=function(){return t.d2.models.userGroups.list({fields:["id","displayName"],paging:!1})},this.getGroupedAuthorities=function(){if(t.groupedAuths)return Promise.resolve(t.groupedAuths);var e="".concat(t.getContextPath(),"/dhis-web-commons/security/getSystemAuthorities.action");return t.d2Api.request("GET",e).then(function(e){var a=e.systemAuthorities;return t.groupedAuths=Dt(a)})},this.getCurrentUser=function(){return t.d2.currentUser},this.initCurrentUser=function(){return Promise.all([t.d2.currentUser.getUserGroups(),t.d2.currentUser.getUserRoles(),t.getCurrentUserOrgUnits(),t.getSystemOrgUnitRoots()]).then(function(e){var a=Object(ie.a)(e,4),r=a[0],n=a[1],i=a[2],s=i.organisationUnits,o=i.dataViewOrganisationUnits,l=i.teiSearchOrganisationUnits,u=a[3];return Object.assign(t.d2.currentUser,{userGroups:r,userRoles:n,organisationUnits:s,dataViewOrganisationUnits:o,teiSearchOrganisationUnits:l,systemOrganisationUnitRoots:u})})},this.refreshCurrentUser=function(){var e=Object.getPrototypeOf(t.d2.currentUser).constructor,a=t.d2.models;return Promise.all([t.d2Api.get("me",{fields:[":all","organisationUnits[id]","userGroups[id]","userCredentials[:all,!user,userRoles[id]"]}),t.d2Api.get("me/authorization"),t.d2Api.get("userSettings")]).then(function(r){var n=Object(ie.a)(r,3),i=n[0],s=n[1],o=n[2];return t.d2.currentUser=e.create(i,s,a,o),t.initCurrentUser()})},this.getCurrentUserOrgUnits=function(){return t.d2.models.users.get(t.d2.currentUser.id,me)},this.getSystemOrgUnitRoots=function(){return t.d2.models.organisationUnits.list({paging:!1,level:1,fields:"id,path,displayName,children::isNotEmpty"}).then(function(e){return e.toArray()})},this.updateCurrentUserGroupMembership=function(e,a){var r=a?"delete":"post",n="/users/".concat(t.d2.currentUser.id,"/userGroups/").concat(e);return t.d2Api[r](n)},Object(se.getInstance)().then(function(e){t.d2=e,t.d2Api=e.Api.getApi()})}return Object(J.a)(e,[{key:"getAttributes",value:function(e){return this.d2Api.get("attributes",{fields:["id","displayName","mandatory","unique","valueType","optionSet[options[id,displayName]]"],filter:"".concat(e,"Attribute:eq:true"),paging:!1}).then(function(e){return e.attributes})}},{key:"isAttributeUnique",value:function(e,t,a,r){return this.d2.models[e].filter().on("id").notEqual(t).filter().on("attributeValues.attribute.id").equals(a).filter().on("attributeValues.value").equals(r).list({paging:!1,fields:["id","attributeValues[value, attribute[id]]"]}).then(function(e){return 0===e.size||0===function(e,t,a){return e.toArray().reduce(function(e,r){return e.concat(r.attributeValues.filter(function(e){return t===e.value&&a===e.attribute.id}))},[])}(e,r,a).length})}},{key:"saveRole",value:function(e){return e.id?this.d2Api.update("/userRoles/".concat(e.id),e):this.d2Api.post("/userRoles/",e)}}]),e}()),Rr=function(e,t){return{type:e,payload:t}},wr=function(){var e=Object(re.a)(ae.a.mark(function e(t,a,r,n){var i;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n||t(Rr("LIST_REQUESTED",r)),e.prev=1,e.next=4,a;case 4:i=e.sent,t(Rr("LIST_RECEIVED",{type:r,items:i})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Rr("LIST_ERRORED",{type:r,error:e.t0}));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a,r,n){return e.apply(this,arguments)}}(),kr=function(e,t){return function(a,r){var n=r(),i=n.filter,s=n.pager,o=s?s.page:1,l=_r.getList(e,o,i);wr(a,l,e,t)}},Ir=function(){var e=Object(re.a)(ae.a.mark(function e(t,a,r){var n;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(Rr(t.requested)),e.prev=1,e.next=4,a;case 4:n=e.sent,r(Rr(t.received,n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(Rr(t.errored,e.t0));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a,r){return e.apply(this,arguments)}}(),Cr=function(e,t){return function(a){Ir({requested:"ITEM_REQUESTED",received:"ITEM_RECEIVED",errored:"ITEM_ERRORED"},_r.getItem(e,t),a)}},Ur={requested:"CURRENT_USER_REQUESTED",received:"CURRENT_USER_RECEIVED",errored:"CURRENT_USER_ERRORED"},jr=function(){return function(e){Ir(Ur,_r.refreshCurrentUser(),e)}},xr=function(){return Rr("CLEAR_ITEM")},Dr=function(e,t){return Rr("FILTER_UPDATED",{updateKey:e,updateValue:t})},Nr=function(e){return Rr("SHOW_SNACKBAR",e)},Pr=function(){return Rr("HIDE_SNACKBAR")},Fr=function(e,t){return Rr("SHOW_DIALOG",{content:e,props:t})},Lr=function(){return Rr("HIDE_DIALOG")},Mr=a(151),Gr=a(235),Vr=a.n(Gr),Br=a(581),qr=a.n(Br),Hr=a(602),Wr=a(586),Yr=(a(1122),a(1123),function(e){d.push(e)}),Qr=a(341),zr=a.n(Qr),Kr=a(248);Object(Kr.a)(function(e){return"boolean"===typeof e.value},function(e){return e.value?s.a.createElement("div",{style:{width:"40px"}},s.a.createElement(zr.a,null)):null});var Xr={dataTableWrap:{flex:1},clearBoth:{clear:"both"},filterBar:{display:"table",marginBottom:"1rem",width:"100%"},headerBarPagination:{float:"right",marginTop:"14px"},headerBarFilterWrap:{display:"table",marginRight:"230px"},pagination:{userSelect:"none"}},$r=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).executeEditIfAllowed=function(e){var t=a.props,r=t.isContextActionAllowed,n=t.primaryAction,i=t.showSnackbar,s=t.hideSnackbar;r(e,"edit")?n(e):i({message:"".concat(ee.a.t("You are not allowed to edit")," ").concat(e.displayName),action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:s})},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.items,a=e.getList,r=e.resetFilter,n=e.resetPager,i=e.entityType,s=e.listType;null!==t&&s===i||(s!==i&&(r(),n()),a(i))}},{key:"getPagerConfig",value:function(e){return e||{page:null,pageCount:null,total:null,currentlyShown:null}}},{key:"renderPagination",value:function(){var e=this.props,t=e.pager,a=e.items,r=e.incrementPage,i=e.decrementPage,o=this.getPagerConfig(t),l=o.page,u=o.pageCount,c=o.total,d=o.currentlyShown,p=!a||0===a.length||"string"===typeof a?Object(n.a)({},Xr.pagination,{visibility:"hidden"}):Xr.pagination,h={hasNextPage:function(){return l&&a&&a.length&&l<u},hasPreviousPage:function(){return l&&a&&a.length&&l>1},onNextPageClick:function(){r(t)},onPreviousPageClick:function(){i(t)},total:c,currentlyShown:d,style:p};return s.a.createElement("div",{style:p},s.a.createElement(Wr.a,h))}},{key:"renderHeaderBar",value:function(){var e=this.props,t=e.FilterComponent,a=e.entityType;return s.a.createElement("div",{className:"data-table__filter-bar",style:Xr.filterBar},s.a.createElement("div",{style:Xr.headerBarPagination},this.renderPagination()),s.a.createElement("div",{style:Xr.headerBarFilterWrap},s.a.createElement(t,{entityType:a})))}},{key:"renderDataTable",value:function(){var e=this.props,t=e.items,a=e.columns,r=e.contextMenuActions,n=e.contextMenuIcons,i=e.isContextActionAllowed;if("string"===typeof t){var o=ee.a.t("There was an error fetching the list");return s.a.createElement(De,{introText:o,errorMessage:t})}return null===t?s.a.createElement(Mr.a,null):0===t.length?s.a.createElement("div",{style:Xr.clearBoth},"No results found."):s.a.createElement(Hr.a,{rows:t,columns:a,primaryAction:this.executeEditIfAllowed,contextMenuActions:r,contextMenuIcons:n,isContextActionAllowed:i})}},{key:"render",value:function(){var e=this.props,t=e.sectionName,a=e.newItemPath,r=e.className;return s.a.createElement("div",{style:Xr.dataTableWrap,className:r},s.a.createElement(je.a,null,t),this.renderHeaderBar(),this.renderDataTable(),this.renderPagination(),s.a.createElement(Vr.a,{className:"entity-list__add-new-entity",onClick:function(){return Yr(a)}},s.a.createElement(qr.a,null)))}}]),t}(i.Component);$r.defaultProps={className:"paged-filterable-data-table"};var Jr=Object(l.b)(function(e){return{listType:e.list.type,items:na(e.list.items,e.currentUser.userGroups),pager:ra(e.pager)}},{getList:kr,resetFilter:function(){return Rr("FILTER_RESET")},resetPager:function(){return Rr("PAGER_RESET")},incrementPage:function(e){return function(t,a){var r=a().list.type;wr(t,e.getNextPage(),r)}},decrementPage:function(e){return function(t,a){var r=a().list.type;wr(t,e.getPreviousPage(),r)}},showSnackbar:Nr,hideSnackbar:Pr})($r),Zr=a(152),en=function(){j.dispatch(jr())},tn=function(){var e=_r.getContextPath()+"/dhis-web-commons-security/logout.action";window.location.assign(e)},an=function(e,t){var a=j.getState().currentUser,r=e.modelDefinition.name;r===Pa&&e.id===a.id&&(t?tn():en()),r===Fa&&a.userRoles.get(e.id)&&en(),r===La&&a.userGroups.get(e.id)&&en()},rn=function(e){var t=e.model,a=e.entityType,r={type:t.modelDefinition.displayName,displayName:t.displayName},n=ee.a.t('Are you sure you want to remove the {{type}} "{{displayName}}"?',r),i=ee.a.t('{{type}} "{{displayName}}" removed successfully',r),s=ee.a.t('There was a problem removing {{type}} "{{displayName}}"?',r),o={message:n,action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:function(){return nn(t,i,s,a)}};j.dispatch(Nr(o))},nn=function(){var e=Object(re.a)(ae.a.mark(function e(t,a,r,n){var i;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j.dispatch(Pr()),e.prev=1,e.next=4,t.delete();case 4:j.dispatch(Nr({message:a})),j.dispatch(kr(n)),an(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),i=Pe(e.t0,r),j.dispatch(Nr({message:i}));case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a,r,n){return e.apply(this,arguments)}}(),sn=function(e){var t,a,r=e.data;j.dispatch((t=r.id,a=r.modelDefinition.name,Rr("SHOW_SHARING_DIALOG",{id:t,type:a})))},on=a(1344),ln=a(1343),un=a(153),cn=a.n(un);function dn(e,t,a,r){return pn.apply(this,arguments)}function pn(){return(pn=Object(re.a)(ae.a.mark(function e(t,a,r,i){var s,o,l;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.asyncErrors,i||s){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if(r.form!==fa||i!==ga){e.next=9;break}return e.next=6,bn(t,r);case 6:o=e.sent,e.next=18;break;case 9:if(r.form!==Xt||i!==Zt&&i!==$t){e.next=15;break}return e.next=12,yn(t,r,i);case 12:o=e.sent,e.next=18;break;case 15:return e.next=17,On(t,r,i);case 17:o=e.sent;case 18:if(!(l=s||o?Object(n.a)({},s,o):void 0)){e.next=23;break}throw l;case 23:return e.abrupt("return",Promise.resolve());case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hn(){return(hn=Object(re.a)(ae.a.mark(function e(t,a,r,n){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,r,n,bn));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mn(){return(mn=Object(re.a)(ae.a.mark(function e(t,a,r,n){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fn(t,r,n,yn));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fn(e,t,a,r){return gn.apply(this,arguments)}function gn(){return(gn=Object(re.a)(ae.a.mark(function e(t,a,r,n){var i;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.next=4,n(t,a,r);case 4:if(!(i=e.sent)){e.next=9;break}throw i;case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(re.a)(ae.a.mark(function e(t,a){var r,n;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[ga],n=a.form!==Sn&&a.user&&a.user.id,r&&!n){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.prev=4,e.next=7,_r.genericFind("users","userCredentials.username",r);case 7:if(!(e.sent.size>0)){e.next=10;break}return e.abrupt("return",Object(b.a)({},ga,ee.a.t("Username already taken")));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",Object(b.a)({},ga,ee.a.t("There was a problem whilst checking the availability of this username")));case 15:case"end":return e.stop()}},e,null,[[4,12]])}))).apply(this,arguments)}function yn(e,t,a){return En.apply(this,arguments)}function En(){return(En=Object(re.a)(ae.a.mark(function e(t,a,r){var n,i,s,o,l,u,c,d;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.group,i=a.role,o=(s=i||n).modelDefinition.name,l=t[r],u=cn()(r),l){e.next=7;break}return e.abrupt("return",Promise.resolve());case 7:return e.prev=7,e.next=10,_r.genericFind(o,r,l);case 10:if(!((c=e.sent).size>0)){e.next=15;break}if(c.values().next().value.id===s.id){e.next=15;break}return e.abrupt("return",Object(b.a)({},r,ee.a.t("{{fieldDisplayName}} is already taken",{fieldDisplayName:u})));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(7),d=ee.a.t("Could not verify if this {{fieldDisplayName}} is unique",{fieldDisplayName:u}),e.abrupt("return",Object(b.a)({},r,Pe(e.t0,d)));case 21:case"end":return e.stop()}},e,null,[[7,17]])}))).apply(this,arguments)}function On(e,t,a){return An.apply(this,arguments)}function An(){return(An=Object(re.a)(ae.a.mark(function e(t,a,r){var n,i,s,o;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r]){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return i=a.form===fa?Pa:La,s=i===Pa?a.user.id||"_":a.group.id||"_",o=r.replace(ur,""),e.prev=6,e.next=9,_r.isAttributeUnique(i,s,o,n);case 9:if(e.sent){e.next=12;break}return e.abrupt("return",Object(b.a)({},r,ee.a.t("Attribute value needs to be unique, value already taken.")));case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",Object(b.a)({},r,ee.a.t("There was a problem checking if this attribute value is unique")));case 17:case"end":return e.stop()}},e,null,[[6,14]])}))).apply(this,arguments)}var Tn,Sn="replicateUserForm",_n=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).replicateUser=function(){var e=Object(re.a)(ae.a.mark(function e(t){var r,n,i,s,o;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,n=r.user,i=r.hideDialog,s=t.username,o=t.password,e.prev=2,e.next=5,_r.replicateUser(n.id,s,o);case 5:a.replicateSuccesHandler(n.displayName),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.replicateErrorHandler(e.t0);case 11:i();case 12:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.replicateSuccesHandler=function(e){var t=a.props,r=t.getList;(0,t.showSnackbar)({message:ee.a.t('User "{{displayName}}" replicated successfuly',{displayName:e})}),r(Pa,!0)},a.replicateErrorHandler=function(e){(0,a.props.showSnackbar)({message:Pe(e,ee.a.t("There was a problem replicating the user"))})},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.submitting,a=e.pristine,r=e.valid,n=e.handleSubmit,i=e.hideDialog,o=e.asyncValidating,l=Boolean(t||o||a||!r);return s.a.createElement("form",{onSubmit:n(this.replicateUser)},s.a.createElement(on.a,{name:ga,component:Ht,label:ee.a.t("Username"),hintText:ee.a.t("Username for new user"),validate:[rr]}),s.a.createElement(on.a,{name:ya,component:Ht,label:ee.a.t("Password"),hintText:ee.a.t("Password for new user"),validate:[Ja],type:"password"}),s.a.createElement("div",{style:{marginTop:16}},s.a.createElement(ut.d,{label:ee.a.t("Replicate"),type:"submit",disabled:l,primary:!0}),s.a.createElement(ut.d,{label:ee.a.t("Cancel"),onClick:i,style:{marginLeft:8}})))}}]),t}(i.Component),Rn=Object(ln.a)({form:Sn,asyncValidate:function(e,t,a,r){return hn.apply(this,arguments)},asyncBlurFields:[ga]})(_n),wn=Object(l.b)(function(e){return{formState:e.form[Sn]}},{getList:kr,hideDialog:Lr,showSnackbar:Nr,hideSnackbar:Pr})(Rn),kn=function(e,t){var a=j.getState().currentUser;if(!e)return!1;var r=e.access,n=e.userCredentials,i=n.disabled,s=n.twoFA;switch(t){case"profile":return r.read;case"edit":return r.update;case"remove":return a.id!==e.id&&r.delete;case"replicate":return r.update&&a.authorities.has("F_REPLICATE_USER");case"disable":return r.update&&!i;case"enable":return r.update&&i;case"disable_2fa":return r.update&&s;default:return!0}},In=(Tn={},Object(b.a)(Tn,"profile","account_circle"),Object(b.a)(Tn,"edit","edit"),Object(b.a)(Tn,"remove","delete"),Object(b.a)(Tn,"replicate","content_copy"),Object(b.a)(Tn,"disable","block"),Object(b.a)(Tn,"enable","playlist_add_check"),Object(b.a)(Tn,"disable_2fa","phonelink_erase"),Tn),Cn=Zr.a.createActionsFromNames(["profile","edit","remove","replicate","disable","enable","disable_2fa"]);Cn.profile.subscribe(function(e){var t=e.data.id;Yr("/users/view/".concat(t))}),Cn.edit.subscribe(function(e){var t=e.data.id;Yr("/users/edit/".concat(t))}),Cn.remove.subscribe(function(e){var t=e.data;rn({model:t,entityType:Pa})}),Cn.replicate.subscribe(function(e){var t=e.data,a=s.a.createElement(wn,{user:t}),r={onRequestClose:function(){return j.dispatch(Lr())},title:ee.a.t("Replicate user")};j.dispatch(Fr(a,r))}),Cn.disable.subscribe(function(e){var t=e.data;xn(t,!0)}),Cn.enable.subscribe(function(e){var t=e.data;xn(t,!1)}),Cn.disable_2fa.subscribe(function(e){var t=e.data;Un(t)});var Un=function(e){var t=ee.a.t("Are you sure you want to disable two factor authentication for"),a={message:"".concat(t," ").concat(e.displayName),action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:function(){return jn(e)}};j.dispatch(Nr(a))},jn=function(){var e=Object(re.a)(ae.a.mark(function e(t){var a,r,n;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j.dispatch(Pr()),a=t.displayName,r=t.id,e.prev=2,e.next=5,_r.disable2FA(r);case 5:n=ee.a.t("Succesfully disabled two factor authentication for"),j.dispatch(Nr({message:"".concat(n," ").concat(a)})),j.dispatch(kr(Pa)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),j.dispatch(Nr({message:Pe(e.t0,ee.a.t("There was a problem updating two factor authentication"))}));case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),xn=function(e,t){var a=t?ee.a.t("Are you sure you want to disable"):ee.a.t("Are you sure you want to enable"),r={message:"".concat(a," ").concat(e.displayName),action:ee.a.t("Confirm"),autoHideDuration:null,onActionClick:function(){return Dn(e,t)}};j.dispatch(Nr(r))},Dn=function(){var e=Object(re.a)(ae.a.mark(function e(t,a){var r,n,i;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j.dispatch(Pr()),r=t.displayName,n=t.id,e.prev=2,e.next=5,_r.updateDisabledState(n,a);case 5:i=a?ee.a.t("sucessfully disabled"):ee.a.t("successfully enabled"),j.dispatch(Nr({message:"".concat(r," ").concat(i)})),j.dispatch(kr(Pa)),a&&an(t,!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j.dispatch(Nr({message:Pe(e.t0,ee.a.t("There was a problem updating the enabled state"))}));case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t,a){return e.apply(this,arguments)}}(),Nn=a(588),Pn=a(91),Fn=a.n(Pn),Ln=a(589),Mn=a.n(Ln),Gn=a(590),Vn=a.n(Gn),Bn=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).applyFilter=function(e){var t=a.props,r=t.updateFilter,n=t.hideDialog,i=t.getList,s=t.selectedOrgUnits;Vn()(e,s)||(r("organisationUnits",e),i(Pa)),n()},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedOrgUnits,a=e.hideDialog;return s.a.createElement(lt,{orgUnitType:"teiSearchOrganisationUnits",selectedOrgUnits:t,confirmSelection:this.applyFilter,cancel:a})}}]),t}(i.Component),qn=Object(l.b)(function(e){return{selectedOrgUnits:e.filter.organisationUnits,fallbackOrgUnits:e.currentUser[_a]}},{updateFilter:Dr,hideDialog:Lr,getList:kr})(Bn),Hn={wrap:{position:"relative",lineHeight:"24px",height:"72px",cursor:"pointer",float:"left",marginRight:"1rem"},icon:{position:"absolute",right:0,top:38,width:20,height:20,color:"rgba(0, 0, 0, 0.3)",cursor:"pointer"},textField:{cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"152px"},input:{width:"calc(100% - 20px)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},Wn=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).focusOrgUnitInput=function(){a.refs.orgUnitInput.focus()},a.showOrgTreeInDialog=function(){var e=a.props,t=e.showDialog,r=e.hideDialog;t(s.a.createElement(qn,null),{onRequestClose:r,title:ee.a.t("Select an organisation unit"),contentStyle:{minHeight:"100vh"}})},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props.organisationUnits;return s.a.createElement("div",{style:Hn.wrap,onClick:this.focusOrgUnitInput},s.a.createElement(Mn.a,{style:Hn.icon}),s.a.createElement(Fn.a,{ref:"orgUnitInput",style:Hn.textField,floatingLabelText:ee.a.t("Organisation unit"),onFocus:this.showOrgTreeInDialog,value:e,inputStyle:Hn.input}))}}]),t}(i.Component),Yn=Object(l.b)(function(e){return{organisationUnits:sa(e.filter.organisationUnits)}},{showDialog:Fr,hideDialog:Lr})(Wn),Qn="query",zn={float:"left",marginRight:"1rem",width:"236px"},Kn=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).updateSearchFilter=function(e){var t=a.props,r=t.getList,n=t.entityType;(0,t.updateFilter)(Qn,e),r(n)},a.onQueryStrChange=function(e){var t=e.target.value;a.setState({localQueryStr:t}),a.updateSearchFilter(t)},a.state={localQueryStr:e.filter.query},a.updateSearchFilter=Ke()(a.updateSearchFilter,375),a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.state.localQueryStr;return s.a.createElement(Te.a,{className:"search-input",floatingLabelText:ee.a.t("Search by name"),style:zn,hintText:"",value:e,type:"search",onChange:this.onQueryStrChange})}}]),t}(i.Component),Xn=Object(l.b)(function(e){return{filter:e.filter}},{getList:kr,updateFilter:Dr})(Kn),$n={float:"left",marginRight:"1rem"},Jn=Object(n.a)({},$n,{display:"inline-block",float:"left",width:"182px",paddingTop:"37px",height:"35px"}),Zn=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).onFilterChange=function(e,t){var r=a.props,n=r.getList,i=r.entityType,s=r.updateFilter;r.filter[e]!==t&&(s(e,t),n(i))},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"createInactiveMonthsOptions",value:function(){var e=ee.a.t("month"),t=ee.a.t("months");return Array(12).fill().map(function(a,r){var n=r+1;return{id:n,displayName:1===n?"".concat(n," ").concat(e):"".concat(n," ").concat(t)}})}},{key:"renderDropDown",value:function(e){var t=Object(n.a)({},e,{includeEmpty:!0,emptyLabel:ee.a.t("<No value>")});return s.a.createElement(Nn.a,t)}},{key:"renderInactiveMonthsFilter",value:function(){var e=this,t={menuItems:this.createInactiveMonthsOptions(),floatingLabelText:ee.a.t("Inactivity"),value:this.props.filter.inactiveMonths,onChange:function(t){return e.onFilterChange("inactiveMonths",t.target.value)},style:Object(n.a)({},$n,{width:"132px"})};return this.renderDropDown(t)}},{key:"renderInvitationStatusFilter",value:function(){var e=this,t={menuItems:[{id:"all",displayName:ee.a.t("All invitations")},{id:"expired",displayName:ee.a.t("Expired invitations")}],floatingLabelText:ee.a.t("Invitations"),value:this.props.filter.invitationStatus,onChange:function(t){return e.onFilterChange("invitationStatus",t.target.value)},style:Object(n.a)({},$n,{width:"172px"})};return this.renderDropDown(t)}},{key:"renderSelfRegisteredFilter",value:function(){var e=this,t=this.props.filter.selfRegistered,a="".concat("data-table__filter-bar__checkbox","--checked");return s.a.createElement(ut.a,{value:t,onCheck:function(t,a){return e.onFilterChange("selfRegistered",a)},label:ee.a.t("Self registrations"),className:t?a:"data-table__filter-bar__checkbox",style:Jn})}},{key:"render",value:function(){var e=this.props.entityType;return s.a.createElement("div",null,s.a.createElement(Xn,{entityType:e}),s.a.createElement(Yn,null),this.renderInactiveMonthsFilter(),this.renderInvitationStatusFilter(),this.renderSelfRegisteredFilter())}}]),t}(i.Component),ei=Object(l.b)(function(e){return{filter:e.filter}},{updateFilter:Dr,getList:kr})(Zn),ti=function(){return s.a.createElement(Jr,{entityType:Pa,columns:["displayName","userName","lastLogin","disabled"],FilterComponent:ei,primaryAction:Cn.edit,contextMenuActions:Cn,contextMenuIcons:In,isContextActionAllowed:kn,sectionName:ee.a.t("User Management"),newItemPath:"/users/new",className:"user-list"})},ai=a(108),ri=a(76),ni=a.n(ri),ii=function(e){var t=e.to,a=e.tooltip,r=e.icon,n=s.a.createElement(ni.a,{iconClassName:"material-icons",tooltip:a},r);return t?s.a.createElement(ai.a,{to:t},n):n},si=a(250),oi=a.n(si),li="name",ui="description",ci="authorities",di=[{name:li,label:ee.a.t("Name"),fieldRenderer:Ht,isRequiredField:!0},{name:ui,label:ee.a.t("Description"),fieldRenderer:Ht},{name:ci,label:ee.a.t("Authorities"),fieldRenderer:function(e){var t=e.input,a=""===t.value?[]:t.value;return s.a.createElement(Bt,{initiallySelected:a,reduxFormOnChange:t.onChange,reduxFormOnBlur:t.onBlur})}}],pi=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).saveRole=function(){var e=Object(re.a)(ae.a.mark(function e(t,r,i){var s,o,l,u,c,d,p;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.role,l=i.showSnackbar,u=i.clearItem,c=i.getList,d=Object(n.a)({},o.toJSON(),(s={},Object(b.a)(s,li,t[li]),Object(b.a)(s,ui,t[ui]),Object(b.a)(s,ci,t[ci]),s)),e.prev=2,e.next=5,_r.saveRole(d);case 5:p=ee.a.t('User role "{{displayName}}" saved successfully',{displayName:d[li]}),l({message:p}),u(),c(Fa),a.backToList(),an(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),l({message:Pe(e.t0,ee.a.t("There was a problem saving the user role."))});case 16:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.backToList=function(){Yr("/user-roles")},a.render=function(){var e=a.props,t=e.handleSubmit,r=e.submitting,n=e.asyncValidating,i=e.pristine,o=e.valid,l=Boolean(r||n||i||!o);return s.a.createElement("main",null,s.a.createElement("form",{onSubmit:t(a.saveRole)},a.renderFields(),s.a.createElement("div",{style:{marginTop:"2rem"}},s.a.createElement(rt.a,{label:ee.a.t("Save"),type:"submit",primary:!0,disabled:l,style:{marginRight:"8px"}}),s.a.createElement(rt.a,{label:ee.a.t("Cancel"),onClick:a.backToList}))))},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"renderFields",value:function(){return di.map(function(e){var t=e.name,a=e.fieldRenderer,r=e.label,n=e.isRequiredField,i=Object(Oe.a)(e,["name","fieldRenderer","label","isRequiredField"]),o=r+(n?" *":""),l=t===li?[tr]:[];return s.a.createElement(on.a,Object.assign({name:t,key:t,component:a,label:o,validate:l},i))})}}]),t}(i.Component),hi=Object(ln.a)({form:"roleForm",asyncValidate:function(e,t,a,r){return mn.apply(this,arguments)},asyncBlurFields:[li]})(pi),mi=Object(l.b)(function(e){var t;return{role:e.currentItem,initialValues:(t={},Object(b.a)(t,li,e.currentItem[li]),Object(b.a)(t,ui,e.currentItem[ui]),Object(b.a)(t,ci,e.currentItem[ci]||[]),t)}},{clearItem:xr,showSnackbar:Nr,getList:kr})(hi);var fi=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).saveGroup=function(){var e=Object(re.a)(ae.a.mark(function e(t,r,n){var i,s,o,l,u;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.group,s=n.showSnackbar,o=n.clearItem,l=n.getList,i[$t]=t[$t],i[Zt]=t[Zt],i[Jt]=t[Jt].map(a.createIdValueObject),i[ea]=t[ea].map(a.createIdValueObject),i.attributeValues=hr(t,a.state.attributeFields),e.prev=6,e.next=9,i.save();case 9:u=ee.a.t('User group "{{displayName}}" saved successfully',{displayName:i.name}),s({message:u}),o(),l(La),a.backToList(),an(i),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),s({message:Pe(e.t0,ee.a.t("There was a problem saving the user group."))});case 20:case"end":return e.stop()}},e,null,[[6,17]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.backToList=function(){Yr("/user-groups")},a.state={attributeFields:null},a.trashableAttributesPromise=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=Object(re.a)(ae.a.mark(function e(){var t,a,r,n,i,s;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.group,r=t.showSnackbar,n=t.initialize,this.trashableAttributesPromise=Qe()(_r.getAttributes(La)),e.prev=2,e.next=5,this.trashableAttributesPromise;case 5:i=e.sent,pr(s=dr(i,a.attributeValues),this.props.asyncBlurFields),this.setState({attributeFields:s}),n(ua(a,s)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),r({message:Pe(e.t0,ee.a.t("Could not load the user group data. Please refresh the page."))});case 16:case"end":return e.stop()}},e,this,[[2,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"createIdValueObject",value:function(e){return{id:"string"===typeof e?e:e.id}}},{key:"renderFields",value:function(e){var t=this,a=this.props.group;return e.map(function(e){var r=e.name,n=e.fieldRenderer,i=e.label,o=e.isRequiredField,l=e.isAttributeField,u=(e.shouldBeUnique,e.attributeId,e.fieldValidators),c=(e.valueType,Object(Oe.a)(e,["name","fieldRenderer","label","isRequiredField","isAttributeField","shouldBeUnique","attributeId","fieldValidators","valueType"])),d=i+(o?" *":"");return n===Qt&&(c.availableItemsQuery=_r[c.availableItemsQuery],o&&(c.assignedItemsLabel+=" *"),c.initialValues=e.initialItemsSelector(a)),c.validate=function(e,t,a,r,n){var i=[],s=r&&a;return t===$t&&i.push(tr),t===Jt&&i.push(ar),t===Zt&&i.push(Ya),s&&i.push(tr),r&&n&&i.push.apply(i,Object(ne.a)(n)),i}(t.props,r,o,l,u),s.a.createElement(on.a,Object.assign({name:r,key:r,component:n,label:d,validate:[]},c))})}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.submitting,r=e.asyncValidating,n=e.pristine,i=e.valid,o=this.state.attributeFields,l=Boolean(a||r||n||!i);return o?s.a.createElement("main",null,s.a.createElement("form",{onSubmit:t(this.saveGroup)},this.renderFields(aa),this.renderFields(o),s.a.createElement("div",{style:{marginTop:"2rem"}},s.a.createElement(rt.a,{label:ee.a.t("Save"),type:"submit",primary:!0,disabled:l,style:{marginRight:"8px"}}),s.a.createElement(rt.a,{label:ee.a.t("Cancel"),onClick:this.backToList})))):s.a.createElement("div",{style:ta.loaderWrap},s.a.createElement(qe.a,null))}}]),t}(i.Component),gi=Object(ln.a)({form:Xt,asyncValidate:dn,asyncBlurFields:[$t,Zt]})(fi),bi=Object(l.b)(function(e){return{group:e.currentItem}},{clearItem:xr,showSnackbar:Nr,getList:kr})(gi),vi=a(1346),yi=a(124),Ei=a.n(yi),Oi=a(344),Ai=a.n(Oi),Ti=a(345),Si=a.n(Ti),_i=Object(n.a)({},r,{userRoles:ar}),Ri=new Set([ga,ya,Ea,"surname","firstName"]),wi=new Set(["email","surname","firstName"]),ki=new Set(["surname","firstName"]);var Ii=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(D.a)(this,Object(N.a)(t).call(this,e))).toggleShowMore=function(){a.setState({showMore:!a.state.showMore})},a.handleSubmit=function(){var e=Object(re.a)(ae.a.mark(function e(t,r,n){var i,s,o,l,u,c,d,p;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.user,s=n.inviteUser,o=n.showSnackbar,l=n.clearItem,u=n.getList,c=a.state.locales.ui.selected,d=a.state.locales.db.selected,e.prev=3,e.next=6,_r.saveOrInviteUser(t,i,s,c,d,a.state.attributeFields);case 6:p=ee.a.t('User "{{displayName}}" saved successfully',{displayName:"".concat(t.firstName," ").concat(t.surname)}),o({message:p}),l(),u(Pa),a.backToList(),an(i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0),o({message:Pe(e.t0,ee.a.t("There was a problem saving the user."))});case 18:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t,a,r){return e.apply(this,arguments)}}(),a.backToList=function(){Yr("/users")},a.state={showMore:!1,locales:null,attributeFields:null},a.trashableAttributesPromise=null,a.trashableLocalePromise=null,a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=Object(re.a)(ae.a.mark(function e(){var t,a,r,n,i,s,o,l;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.user,r=t.showSnackbar,n=t.initialize,i=a.id?a.userCredentials.username:null,this.trashableLocalePromise=Qe()(_r.getSelectedAndAvailableLocales(i)),this.trashableAttributesPromise=Qe()(_r.getAttributes(Pa)),e.prev=4,e.next=7,this.trashableLocalePromise;case 7:return s=e.sent,e.next=10,this.trashableAttributesPromise;case 10:o=e.sent,pr(l=dr(o,a.attributeValues),this.props.asyncBlurFields),this.setState({locales:s,attributeFields:l}),n(la(a,s,l)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.error(e.t0),r({message:Pe(e.t0,ee.a.t("Could not load the user data. Please refresh the page."))});case 21:case"end":return e.stop()}},e,this,[[4,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.trashableLocalePromise.trash(),this.trashableAttributesPromise.trash()}},{key:"getLabelText",value:function(e,t,a){var r=this.props.inviteUser;return"ALWAYS_REQUIRED"===a||r&&"INVITE_REQUIRED"===a||"CREATE_REQUIRED"===a&&!t.id&&!r||"boolean"===typeof a&&a?"".concat(e," *"):e}},{key:"prepareGroupEditor",value:function(e,t,a,r){e.assignedItemsLabel=this.getLabelText(e.assignedItemsLabel,a,r),e.availableItemsQuery=_r[e.availableItemsQuery],e.initialValues=t.initialItemsSelector(a)}},{key:"exludeField",value:function(e){var t=this.props,a=t.user,r=t.inviteUser,n=t.externalAuthOnly;return!(this.context.d2.system.systemInfo.emailConfigured&&!a.id||e!==ba)||(!(!r&&!n||e!==ya&&e!==Ea)||!(!r||![va,Oa,Aa].includes(e)))}},{key:"renderFields",value:function(e){var t=this,a=this.props.user;return e.reduce(function(e,r){var n=r.name,i=r.fieldRenderer,o=r.label,l=r.isRequiredField,u=r.isAttributeField,c=(r.shouldBeUnique,r.attributeId,r.fieldValidators),d=(r.valueType,Object(Oe.a)(r,["name","fieldRenderer","label","isRequiredField","isAttributeField","shouldBeUnique","attributeId","fieldValidators","valueType"])),p=t.getLabelText(o,a,l);if(t.exludeField(n))return e;if(i===Kt)return e.push(Kt(r)),e;switch(i){case Ht:d.hintText||(d.hintText=o),d.disabled=Boolean(n===ga&&a.id);break;case zt:d.initialValues=be(a[r.name]);break;case Qt:t.prepareGroupEditor(d,r,a,l);break;case Yt:d.options=r.optionsSelector?ve(r.optionsSelector,t.state):r.options}return d.validate=function(e,t,a,r,n){var i=[],s=Boolean(e.user.id),o=r&&a,l=_i[t],u=!r&&s?ki.has(t):e.inviteUser?wi.has(t):Ri.has(t);return l&&i.push(l),(o||u)&&i.push(tr),r&&n&&i.push.apply(i,Object(ne.a)(n)),i}(t.props,n,l,u,c),e.push(s.a.createElement(on.a,Object.assign({name:n,key:n,component:i,label:p},d))),e},[])}},{key:"renderCreateOrInviteField",value:function(){return this.renderFields(xa)}},{key:"renderAttributeFields",value:function(){return this.renderFields(this.state.attributeFields)}},{key:"renderBaseFields",value:function(){return this.renderFields(Da)}},{key:"renderAdditionalFields",value:function(e){return e?s.a.createElement("div",{style:ma.additionalFieldsWrap},this.renderFields(Na)):null}},{key:"renderToggler",value:function(e){var t=e?ee.a.t("Show fewer options"):ee.a.t("Show more options"),a=e?s.a.createElement(Ai.a,null):s.a.createElement(Si.a,null);return s.a.createElement("div",{style:ma.togglerWrap},s.a.createElement(Ei.a,{onClick:this.toggleShowMore,label:t,style:ma.toggler,icon:a}))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.submitting,r=e.asyncValidating,n=e.pristine,i=e.valid,o=e.inviteUser,l=this.state,u=l.showMore,c=l.locales,d=Boolean(a||r||n||!i),p=!0===o?ee.a.t("Send invite"):ee.a.t("Save");return c?s.a.createElement("main",null,s.a.createElement("form",{onSubmit:t(this.handleSubmit)},this.renderCreateOrInviteField(),this.renderBaseFields(),this.renderAttributeFields(),this.renderAdditionalFields(u),this.renderToggler(u),s.a.createElement("div",null,s.a.createElement(rt.a,{label:p,type:"submit",primary:!0,disabled:d,style:{marginRight:"8px"}}),s.a.createElement(rt.a,{label:ee.a.t("Cancel"),onClick:this.backToList})))):s.a.createElement("div",{style:ma.loaderWrap},s.a.createElement(qe.a,null))}}]),t}(i.Component);Ii.contextTypes={d2:G.a.object.isRequired};var Ci=Object(vi.a)(fa),Ui=Object(ln.a)({form:fa,asyncValidate:dn,asyncBlurFields:[ga]})(Ii),ji=Object(l.b)(function(e){return{user:e.currentItem,fallbackOrgUnits:e.currentUser[_a],inviteUser:ha(e.form[fa]),externalAuthOnly:Boolean(Ci(e,va))}},{clearItem:xr,showSnackbar:Nr,getList:kr})(Ui),xi={main:{width:"100%",paddingLeft:"2rem"},heading:{paddingBottom:"1rem"},paper:{padding:"2rem 5rem 4rem"}},Di=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params.id,a=e.item,r=e.getItem,n=e.initNewItem,i=e.entityType;!t||a&&a.id===t?t||n(i):r(i,t),this.formNotFoundErrorMsg=ee.a.t("There was an error getting the form:")}},{key:"renderForm",value:function(){switch(this.props.entityType){case Pa:return s.a.createElement(ji,null);case Fa:return s.a.createElement(mi,null);case La:return s.a.createElement(bi,null);default:return s.a.createElement(De,{introText:this.formNotFoundErrorMsg,errorMessage:""})}}},{key:"renderHeader",value:function(){var e=this.props,t=e.match.params.id,a=e.item,r=e.shortItem,n=e.entityType,i=a&&a.id===t?a:r,o=i?i.modelDefinition.displayName:cn()(n),l=i?i.displayName:"",u="".concat(ee.a.t("Update")," ").concat(o,": ").concat(l),c="".concat(ee.a.t("Create new")," ").concat(o),d=t?u:c,p=i?"/".concat(oi()(i.modelDefinition.plural)):null,h="".concat(ee.a.t("Back to")," ").concat(o,"s");return s.a.createElement(je.a,{style:xi.heading},s.a.createElement(ii,{to:p,tooltip:h,disabled:Boolean(p),icon:"arrow_back"}),d)}},{key:"renderContent",value:function(){var e=this.props,t=e.match.params.id,a=e.item;return"string"===typeof a?s.a.createElement(De,{introText:this.formNotFoundErrorMsg,errorMessage:a}):!a||a&&a.id!==t?s.a.createElement("div",{style:{textAlign:"center",paddingTop:"2rem"}},s.a.createElement(ut.b,null)):this.renderForm()}},{key:"render",value:function(){return s.a.createElement("main",{style:xi.main},this.renderHeader(),s.a.createElement(ut.c,{style:xi.paper},this.renderContent()))}}]),t}(i.Component),Ni=Object(l.b)(function(e,t){return{item:e.currentItem,shortItem:da(t.match.params.id,e.list.items)}},{getItem:Cr,initNewItem:function(e){var t=_r.getD2().models[e].create();return Rr("INIT_NEW_ITEM",t)}})(Di),Pi=function(e,t){var a=_r.getD2().currentUser.userSettings.settings.keyUiLocale,r=new Date(e),i={day:"numeric",month:"long",year:"numeric"},s=t?Object(n.a)({},i,{hour:"2-digit",minute:"2-digit"}):i;return new Intl.DateTimeFormat(a,s).format(r)},Fi=a(593),Li=a.n(Fi),Mi=a(594),Gi=a.n(Mi),Vi={main:{width:"100%",paddingLeft:"2rem"},heading:{paddingBottom:"1rem"},raisedButton:{height:"36px",transform:"translateY(10px)",float:"right",marginLeft:"1rem"},paper:{padding:"1.4rem"},cell:{fontSize:"1rem",padding:"0.8rem",verticalAlign:"top"},valueCell:{textAlign:"right",color:"#757575"}},Bi=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.baseName,a=e.routeId;(0,e.getItem)(t,a)}},{key:"renderSendMessageBtn",value:function(e){var t="".concat(_r.getContextPath(),"/dhis-web-messaging/#/PRIVATE/create/").concat(e);return s.a.createElement(rt.a,{style:Vi.raisedButton,label:ee.a.t("Send message"),secondary:!0,containerElement:s.a.createElement("a",{href:t}," "),icon:s.a.createElement(Gi.a,null)})}},{key:"renderPropertyFields",value:function(){var e=this.props,t=e.summaryObject,a=e.config,r=Object(n.a)({},Vi.cell,Vi.valueCell);return a.map(function(e,a){var n=e.key,i=e.removeText,o=e.parseDate,l=e.parseDateTime,u=e.nestedPropselector,c=e.parseArrayAsCommaDelimitedString,d=e.count,p=e.label;p=ee.a.t(p);var h=t[n];return"undefined"===typeof h?h="":(u&&u.forEach(function(e){h=h[e]}),c&&("function"===typeof h.toArray&&(h=h.toArray()),h=h.map(function(e){return e[c]}).join(", ")),i&&(h=cn()(h.replace(i,""))),(o||l)&&"string"===typeof h&&(h=Pi(h,l)),d&&("number"===typeof h.size?h=h.size:"number"===typeof h.length&&(h=h.length))),s.a.createElement("tr",{key:a},s.a.createElement("td",{style:r},p),s.a.createElement("td",{style:Vi.cell},h))})}},{key:"render",value:function(){var e=this.props,t=e.summaryObject,a=e.baseName;if(null===t)return s.a.createElement(Mr.a,null);if("string"===typeof t){var r=ee.a.t("There was an error fetching the ".concat(a));return s.a.createElement(De,{introText:r,errorMessage:t})}var n=t.id,i=t.displayName,o=t.access,l="".concat(a,"s"),u="/".concat(oi()(l)),c=ee.a.t("Back to ".concat(l)),d="".concat(u,"/edit/").concat(n),p=ee.a.t("Edit ".concat(a));return s.a.createElement("main",{style:Vi.main},s.a.createElement(je.a,{style:Vi.heading},s.a.createElement(ii,{to:u,tooltip:c,icon:"arrow_back"}),i,o.update?s.a.createElement(rt.a,{style:Vi.raisedButton,label:p,primary:!0,containerElement:s.a.createElement(ai.a,{to:d}),icon:s.a.createElement(Li.a,null)}):null,a===Pa?this.renderSendMessageBtn(n):null),s.a.createElement(ut.c,{style:Vi.paper},s.a.createElement("table",null,s.a.createElement("tbody",null,this.renderPropertyFields()))))}}]),t}(i.Component),qi=Object(l.b)(function(e){return{summaryObject:e.currentItem}},{getItem:Cr})(Bi),Hi=[{key:"displayName",label:ee.a.t("Display name")},{key:"id",label:ee.a.t("ID")}],Wi=[].concat(Hi,[{key:"userCredentials",nestedPropselector:["lastLogin"],label:ee.a.t("Last login"),parseDateTime:!0},{key:"created",label:ee.a.t("Created"),parseDate:!0},{key:"surname",label:ee.a.t("Surname")},{key:"firstName",label:ee.a.t("First name")},{key:"introduction",label:ee.a.t("Introduction")},{key:"jobTitle",label:ee.a.t("Job title")},{key:"employer",label:ee.a.t("Works at")},{key:"education",label:ee.a.t("Education")},{key:"interests",label:ee.a.t("Interests")},{key:"nationality",label:ee.a.t("Nationality")},{key:"birthday",label:ee.a.t("Birthday"),parseDate:!0},{key:"gender",label:ee.a.t("Gender"),removeText:"gender_"},{key:"languages",label:ee.a.t("Speaks")},{key:"email",label:ee.a.t("E-mail")},{key:"phoneNumber",label:ee.a.t("Mobile phone number")},{key:"organisationUnits",label:ee.a.t("Organisations units"),parseArrayAsCommaDelimitedString:"displayName"},{key:"userCredentials",label:ee.a.t("User roles"),nestedPropselector:["userRoles"],parseArrayAsCommaDelimitedString:"displayName"}]),Yi=[].concat(Hi,[{key:"users",label:ee.a.t("Members"),count:!0}]),Qi=[].concat(Hi,[{key:"users",label:ee.a.t("Number of users"),count:!0}]),zi=function(e){var t=e.match.params.id;return s.a.createElement(qi,{routeId:t,config:Wi,baseName:Pa})},Ki={width:"100%",textAlign:"center",padding:"1.5rem 1.5rem 1rem"},Xi=function(e){var t=e.location;return s.a.createElement("div",{style:Ki},s.a.createElement("h1",null,ee.a.t("Page not found.")),s.a.createElement("h3",null,ee.a.t("No match for"),s.a.createElement("code",null," ",t.pathname)),s.a.createElement(ai.a,{to:"/"}," ",ee.a.t("Go back home")))},$i=a(343),Ji=a.n($i),Zi=a(193),es=a.n(Zi),ts=a(194),as=a.n(ts),rs=a(195),ns=a.n(rs),is=a(246),ss=a.n(is),os={padding:"0",margin:".5rem",marginTop:"1rem",float:"left",width:"230px"},ls={padding:"1rem",height:"auto",borderBottom:"1px solid #ddd",cursor:"pointer",fontWeight:"bold"},us={height:"85px",padding:".5rem 1rem"},cs={textAlign:"right"},ds=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).renderCard=function(e,t){var r=a.context.d2,n=r.currentUser,i=r.models,o=n.canCreate(i[e.entityType]),l=n.canDelete(i[e.entityType]),u=o||l;return u?s.a.createElement(Ji.a,{key:"card-".concat(t),style:os},s.a.createElement(es.a,{onClick:function(){return Yr(e.path)},style:ls,title:e.label}),s.a.createElement(as.a,{style:us},e.description),s.a.createElement(ns.a,{style:cs},a.renderActionButtons(e,u,o))):null},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"renderActionButtons",value:function(e,t,a){var r=[],n="".concat(e.path,"/new");return a&&r.push(s.a.createElement(ss.a,{key:"add",iconClassName:"material-icons",tooltip:ee.a.t("Add"),tooltipPosition:"top-center",onClick:function(){return Yr(n)}},"\ue145")),t&&r.push(s.a.createElement(ss.a,{key:"list",iconClassName:"material-icons",tooltip:ee.a.t("list"),tooltipPosition:"top-center",onClick:function(){return Yr(e.path)}},"\ue8ef")),r}},{key:"render",value:function(){var e=Is.map(this.renderCard);return 0===e.length?s.a.createElement("div",null,ee.a.t("You do not have access to any section of the DHIS 2 User Management App")):e}}]),t}(i.Component);ds.contextTypes={d2:G.a.object};var ps,hs=ds,ms=function(e,t){if(!e)return!1;var a=e.access;switch(t){case"show_details":return a.read;case"sharing_settings":return a.manage;case"edit":return a.update;case"remove":return a.delete;default:return!0}},fs=(ps={},Object(b.a)(ps,"show_details","info"),Object(b.a)(ps,"sharing_settings","share"),Object(b.a)(ps,"edit","edit"),Object(b.a)(ps,"remove","delete"),ps),gs=Zr.a.createActionsFromNames([["show_details"],["sharing_settings"],["edit"],["remove"]]);gs.show_details.subscribe(function(e){var t=e.data.id;Yr("/user-roles/view/".concat(t))}),gs.sharing_settings.subscribe(sn),gs.edit.subscribe(function(e){var t=e.data.id;Yr("/user-roles/edit/".concat(t))}),gs.remove.subscribe(function(e){var t=e.data;rn({model:t,entityType:Fa})});var bs,vs=function(){return s.a.createElement(Jr,{entityType:Fa,FilterComponent:Xn,columns:["displayName","description"],primaryAction:gs.edit,contextMenuActions:gs,contextMenuIcons:fs,isContextActionAllowed:ms,sectionName:ee.a.t("User Role Management"),newItemPath:"/user-roles/new",className:"role-list"})},ys=function(e){var t=e.match.params.id;return s.a.createElement(qi,{routeId:t,config:Yi,baseName:Fa})},Es=function(e,t){if(!e)return!1;var a=e.access;switch(t){case"show_details":return a.read;case"sharing_settings":return a.manage;case"edit":return a.update;case"join_group":return a.update&&!e.currentUserIsMember;case"leave_group":return a.update&&e.currentUserIsMember;case"remove":return a.delete;default:return!0}},Os=(bs={},Object(b.a)(bs,"show_details","info"),Object(b.a)(bs,"sharing_settings","share"),Object(b.a)(bs,"edit","edit"),Object(b.a)(bs,"join_group","group_add"),Object(b.a)(bs,"leave_group","exit_to_app"),Object(b.a)(bs,"remove","delete"),bs),As=Zr.a.createActionsFromNames(["show_details","sharing_settings","edit","join_group","leave_group","remove"]),Ts=function(){var e=Object(re.a)(ae.a.mark(function e(t,a){var r,n,i;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.displayName,n=t.id,e.prev=1,e.next=4,_r.updateCurrentUserGroupMembership(n,a);case 4:i=a?ee.a.t("You left group"):ee.a.t("You joined group"),j.dispatch(Nr({message:"".concat(i," ").concat(r)})),j.dispatch(jr()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j.dispatch(Nr({message:Pe(e.t0,ee.a.t("There was a problem updating your group membership"))}));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t,a){return e.apply(this,arguments)}}();As.show_details.subscribe(function(e){var t=e.data.id;Yr("/user-groups/view/".concat(t))}),As.sharing_settings.subscribe(sn),As.edit.subscribe(function(e){var t=e.data.id;Yr("/user-groups/edit/".concat(t))}),As.join_group.subscribe(function(e){var t=e.data;Ts(t,!1)}),As.leave_group.subscribe(function(e){var t=e.data;Ts(t,!0)}),As.remove.subscribe(function(e){var t=e.data;rn({model:t,entityType:La})});var Ss=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return s.a.createElement(Jr,{entityType:La,FilterComponent:Xn,columns:["displayName","currentUserIsMember"],primaryAction:As.edit,contextMenuActions:As,contextMenuIcons:Os,isContextActionAllowed:Es,sectionName:ee.a.t("User Group Management"),newItemPath:"/user-groups/new",className:"group-list"})}}]),t}(i.Component),_s=Object(l.b)(function(e){return{groupMemberships:e.currentUser.userGroups}})(Ss),Rs={key:"user_section",label:"Users",icon:"person",path:"/users",description:"Create, modify, view and delete Users",component:ti,entityType:Pa},ws={key:"user_role_section",label:"User role",icon:"folder_shared",path:"/user-roles",description:"Create, modify, view and delete User Roles",component:vs,entityType:Fa},ks={key:"user_group_section",label:"User group",icon:"group",path:"/user-groups",description:"Create, modify, view and delete User Groups",component:_s,entityType:La},Is=[Rs,ws,ks],Cs=[{key:"user_new_view",path:"/users/new",render:function(e){return s.a.createElement(Ni,Object.assign({entityType:Pa},e))},entityType:Pa},{key:"user_edit_view",path:"/users/edit/:id",render:function(e){return s.a.createElement(Ni,Object.assign({entityType:Pa},e))},entityType:Pa},{key:"user_profile_view",path:"/users/view/:id",component:zi,entityType:Pa},Rs,{key:"user_role_new_view",path:"/user-roles/new",render:function(e){return s.a.createElement(Ni,Object.assign({entityType:Fa},e))},entityType:Fa},{key:"user_role_edit_view",path:"/user-roles/edit/:id",render:function(e){return s.a.createElement(Ni,Object.assign({entityType:Fa},e))},entityType:Fa},{key:"user_role_details_view",path:"/user-roles/view/:id",component:ys,entityType:Fa},ws,{key:"user_group_new_view",path:"/user-groups/new",render:function(e){return s.a.createElement(Ni,Object.assign({entityType:La},e))},entityType:La},{key:"user_group_edit_view",path:"/user-groups/edit/:id",render:function(e){return s.a.createElement(Ni,Object.assign({entityType:La},e))},entityType:La},{key:"user_group_details_view",path:"/user-groups/view/:id",component:function(e){var t=e.match.params.id;return s.a.createElement(qi,{routeId:t,config:Qi,baseName:La})},entityType:La},ks,{key:"landing_page",path:"/",component:hs},{key:"not_found",component:Xi}],Us=a(595),js={display:"flex",flex:"0 0 320px"},xs=function(e){function t(){var e,a;Object(x.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(n)))).changeSectionHandler=function(e){var t=a.props,r=t.sections,n=t.history,i=r.find(function(t){return t.key===e});n.push(i.path)},a}return Object(P.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sections,a=e.location.pathname,r=t.find(function(e){return e.path===a}),n="/"===a,i=r?r.key:null;return r||n?s.a.createElement("div",{style:js},s.a.createElement(Us.a,{sections:t,onChangeSection:this.changeSectionHandler,currentSection:i})):null}}]),t}(i.Component),Ds=Object(u.e)(xs),Ns={display:"flex",flex:"1 1 0%",paddingRight:"2rem",paddingTop:"1rem"},Ps=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initCurrentUser,a=e.currentUser;a?this.setRouteConfig(a):t()}},{key:"componentWillReceiveProps",value:function(e){var t=e.currentUser,a=e.location.pathname;this.setRouteConfig(t),t&&t!==this.props.currentUser&&"/"!==a&&!this.pathHasAvailableSection(a)&&Yr("/")}},{key:"pathHasAvailableSection",value:function(e){if(!this.routeConfig)return!1;var t=this.routeConfig.sections;return Boolean(t&&t.find(function(t){return e.includes(t.path.split(":")[0])}))}},{key:"setRouteConfig",value:function(e){var t=this;this.routeConfig=e?Cs.reduce(function(a,r){var n=a.routes,i=a.sections;return t.userHasAuthorities(r,e)&&(n.push(r),r.label&&i.push(r)),a},{routes:[],sections:[]}):null}},{key:"userHasAuthorities",value:function(e,t){var a=e.entityType;if(!a)return!0;var r=this.context.d2.models,n=t.canCreate(r[a]),i=t.canDelete(r[a]);return n||i}},{key:"renderRoutes",value:function(e){return e.map(function(e){return s.a.createElement(u.a,Object.assign({exact:!0,strict:!0},e))})}},{key:"renderContent",value:function(){var e=this.props.currentUser;if(!e)return s.a.createElement(Mr.a,null);if("string"===typeof e){var t=ee.a.t("There was an error loading the current user");return s.a.createElement(De,{introText:t,errorMessage:e})}var a=this.routeConfig,r=a.routes,n=a.sections;if(n&&0===n.length){var i=ee.a.t("You do not have authorities to see users, user roles or user groups");return s.a.createElement(De,{introText:i,errorMessage:""})}return[s.a.createElement(Ds,{key:"sidenav",sections:n}),s.a.createElement(u.c,{key:"routeswitch"},this.renderRoutes(r))]}},{key:"render",value:function(){return s.a.createElement("main",{style:Ns},this.renderContent())}}]),t}(i.Component);Ps.contextTypes={d2:G.a.object};var Fs=Object(u.e)(Object(l.b)(function(e){return{currentUser:e.currentUser}},{initCurrentUser:function(){return function(e){Ir(Ur,_r.initCurrentUser(),e)}}})(Ps)),Ls=a(237),Ms=a.n(Ls),Gs=Object(l.b)(function(e){return{open:e.popups.snackbar.show,snackbarProps:e.popups.snackbar.props}},{hideSnackbar:Pr})(function(e){var t=e.open,a=e.snackbarProps,r={autoHideDuration:6e3,onRequestClose:e.hideSnackbar,style:{whiteSpace:"nowrap"},bodyStyle:{maxWidth:"100%"},contentStyle:{display:"flex"}},i=Object(n.a)({},r,a);return s.a.createElement(Ms.a,Object.assign({open:t},i))}),Vs=a(144),Bs=a.n(Vs),qs=Object(l.b)(function(e){return{open:e.popups.dialog.show,dialogProps:e.popups.dialog.props,content:e.popups.dialog.content}})(function(e){var t=e.open,a=e.dialogProps,r=e.content;return s.a.createElement(Bs.a,Object.assign({key:"dialog",open:t},a),r)}),Hs=a(596),Ws=a.n(Hs),Ys=Object(l.b)(function(e){return{open:e.popups.sharing.show,id:e.popups.sharing.id,type:e.popups.sharing.type}},{hideSharingDialog:function(){return Rr("HIDE_SHARING_DIALOG")}})(function(e){var t=e.open,a=e.id,r=e.type,n=e.hideSharingDialog;return s.a.createElement(Ws.a,{open:t,id:a,type:r,onRequestClose:n,d2:_r.getD2()})}),Qs=a(597),zs=a.n(Qs),Ks=(a(1305),a(1306),function(e){var t=e.d2;return s.a.createElement(l.a,{store:j},s.a.createElement($,{d2:t},s.a.createElement("div",null,s.a.createElement(zs.a,{appName:ee.a.t("User management")}),s.a.createElement(u.b,{history:d,hashType:"noslash"},s.a.createElement(Fs,null)),s.a.createElement(Gs,null),s.a.createElement(qs,null),s.a.createElement(Ys,null))))}),Xs=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $s(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Js=a(238),Zs=a.n(Js),eo=(a(1338),a(1339),a(598)),to=a(599),ao=a(600);Zs.a.locale("en"),ee.a.addResources("ar","user-app",eo),ee.a.addResources("en","user-app",to),ee.a.addResources("sv","user-app",ao),ee.a.setDefaultNamespace("user-app"),ee.a.changeLanguage("en");var ro=ee.a,no=function(e){var t=e.keyUiLocale,a=se.config.i18n.sources;return"en"!==t&&a.add("i18n/i18n_module_".concat(t,".properties")),a.add("i18n/i18n_module_en.properties"),ro.changeLanguage(t),se.config};(function(){var e="".concat("..","/api/"),t={baseUrl:e,schemas:["userRole","user","userGroup","userCredentials","organisationUnit"]};return se.config.baseUrl=e,Object(se.getUserSettings)().then(no).then(function(e){var a=e.i18n;return Object(se.init)(Object(n.a)({},t,{i18n:a}))})})().then(function(e){var t=document.getElementById("root");Object(o.render)(s.a.createElement(Ks,{d2:e}),t)}),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");Xs?(function(e,t){fetch(e).then(function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$s(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):$s(t,e)})}}()},598:function(e){e.exports={"Use database locale / no translation":"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062d\u0644\u064a\u0629 \u0644\u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a / \u0628\u062f\u0648\u0646 \u062a\u0631\u062c\u0645\u0629",Search:"\u0628\u062d\u062b","Enter search term":"\u0623\u062f\u062e\u0644 \u0639\u0628\u0627\u0631\u0629 \u0627\u0644\u0628\u062d\u062b","Please enter at least {{ minCharCount }} characters":"\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 {{ minCharCount }} \u0645\u062d\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644.","No matches found":"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0623\u064a \u062a\u0637\u0627\u0628\u0642",Authorities:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a","Selected authorities only":"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u0645\u062d\u062f\u062f\u0629 \u0641\u0642\u0637",Add:"\u0625\u0636\u0627\u0641\u0629",list:"\u0639\u0631\u0636","Send message":"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629",Update:"\u062a\u062d\u062f\u064a\u062b","Create new":"\u0625\u0646\u0634\u0627\u0621 \u062c\u062f\u064a\u062f","Back to":"\u0627\u0644\u0631\u062c\u0648\u0639 \u0625\u0644\u0649","Select an organisation unit":"\u062d\u062f\u062f \u0648\u062d\u062f\u0629 \u062a\u0646\u0638\u064a\u0645\u064a\u0629","Organisation unit":"\u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Page not found.":"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629.","No match for":"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0637\u0627\u0628\u0642\u0627\u062a \u0644\u0640","Go back home":"\u0627\u0644\u0631\u062c\u0648\u0639 \u0644\u0644\u0631\u0626\u064a\u0633\u064a\u0629","This field is required":"\u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628","User replicated successfuly":"\u062a\u0645 \u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem replicating the user":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Validating...":"\u062c\u0627\u0631 \u0627\u0644\u062a\u062d\u0642\u0642...",Username:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Username for new user":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f",Password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","Password for new user":"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062c\u062f\u064a\u062f",Replicate:"\u062a\u0643\u0631\u0627\u0631",Cancel:"\u0625\u0644\u063a\u0627\u0621","Search by name":"\u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0627\u0633\u0645",Filter:"\u0639\u0627\u0645\u0644 \u062a\u0635\u0641\u064a\u0629","Filter available and selected items":"\u062a\u0635\u0641\u064a\u0629 \u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 \u0648\u0627\u0644\u0645\u062d\u062f\u062f\u0629",Apply:"\u062a\u0637\u0628\u064a\u0642","Clear all":"\u0645\u0633\u062d \u0627\u0644\u0643\u0644","User group saved successfully":"\u062a\u0645 \u062d\u0641\u0638 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0628\u0646\u062c\u0627\u062d","There was a problem saving the user group.":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0641\u0638 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646.",Details:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",Save:"\u062d\u0641\u0638",Name:"\u0627\u0644\u0627\u0633\u0645","Available users":"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0648\u0646","Group members":"\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629","Available user groups":"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629","Managed user groups":"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062f\u0627\u0631\u0629","You joined group":"\u0644\u0642\u062f \u0627\u0646\u0636\u0645\u0645\u062a \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629","You left group":"\u0644\u0642\u062f \u063a\u0627\u062f\u0631\u062a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629","There was a problem updating your group membership":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0639\u0636\u0648\u064a\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643","Are you sure you want to remove this user group?":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0632\u0627\u0644\u0629 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0647\u0630\u0647\u061f","User group removed succesfully":"\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u0629 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0628\u0646\u062c\u0627\u062d","There was a problem deleting the user group":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0630\u0641 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646","User Group Management":"\u0625\u062f\u0627\u0631\u0629 \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646","User role saved successfully":"\u062a\u0645 \u062d\u0641\u0638 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem saving the user role.":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0641\u0638 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645.",Description:"\u0627\u0644\u0648\u0635\u0641","Are you sure you want to remove this user role?":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0632\u0627\u0644\u0629 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0647\u0630\u0627\u061f","User role removed succesfully":"\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u0629 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem deleting the user role":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0630\u0641 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","User Role Management":"\u0625\u062f\u0627\u0631\u0629 \u0623\u062f\u0648\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Could not load the user data. Please refresh the page.":"\u062a\u0639\u0630\u0631 \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645. \u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0635\u0641\u062d\u0629.","User saved successfully":"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem saving the user.":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645.","Show fewer options":"\u0625\u0638\u0647\u0627\u0631 \u062e\u064a\u0627\u0631\u0627\u062a \u0623\u0642\u0644","Show more options":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a","Username already taken":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0641\u0639\u0644","There was a problem whilst checking the availability of this username":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062a\u0648\u0641\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0647\u0630\u0627","Selecting an organisation unit provides access to all units in the sub-hierarchy":"\u064a\u0648\u0641\u0631 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0641\u064a \u0627\u0644\u062a\u0633\u0644\u0633\u0644 \u0627\u0644\u0647\u0631\u0645\u064a \u0627\u0644\u0641\u0631\u0639\u064a","External authentication only (OpenID or LDAP)":"\u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0627\u0644\u062e\u0627\u0631\u062c\u064a\u0629 \u0641\u0642\u0637 (OpenID or LDAP)","Retype password":"\u0623\u0639\u062f \u0643\u062a\u0627\u0628\u0629 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",Surname:"\u0627\u0644\u0643\u0646\u064a\u0629","First name":"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644","E-mail":"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",openID:"OpenID","LDAP Identifier":"\u0645\u0639\u0631\u0641 LDAP","Mobile phone number":"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0627\u0644\u062c\u0648\u0627\u0644","Interface language":"\u0644\u063a\u0629 \u0627\u0644\u0648\u0627\u062c\u0647\u0629","Database language":"\u0644\u063a\u0629 \u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","Available roles":"\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629","Selected roles":"\u0627\u0644\u0623\u062f\u0648\u0627\u0631 \u0627\u0644\u0645\u062d\u062f\u062f\u0629","Data capture and maintenance organisation units":"\u0627\u0644\u062a\u0642\u0627\u0637 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0636\u0628\u0637 \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Data output and analytic organisation units":"\u062e\u0631\u062c \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0627\u0644\u0648\u0627\u062d\u062f\u0627\u062a \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629 \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u064a\u0629","Search Organisation Units":"\u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0648\u062d\u062f\u0627\u062a \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629","Selected user groups":"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062d\u062f\u062f\u0629","Available dimension restrictions for data analytics":"\u0642\u064a\u0648\u062f \u0627\u0644\u0623\u0628\u0639\u0627\u062f \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629 \u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","Selected dimension restrictions for data analytics":"\u0642\u064a\u0648\u062f \u0627\u0644\u0623\u0628\u0639\u0627\u062f \u0627\u0644\u0645\u062d\u062f\u062f\u0629 \u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","A user should have at least one User Role":"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0645\u0644\u0643 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u062f\u0648\u0631 \u0645\u0633\u062a\u062e\u062f\u0645 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Passwords do not match":"\u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u0637\u0627\u0628\u0642\u0629","Please provide a valid email address":"\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u0639\u0637\u0627\u0621 \u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0635\u0627\u0644\u062d","Are you sure you want to remove this user?":"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u0625\u0632\u0627\u0644\u0629 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u061f","User removed succesfully":"\u062a\u0645\u062a \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d","There was a problem deleting the user":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","Replicate user":"\u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","successfully enabled":"\u062a\u0645 \u0627\u0644\u062a\u0645\u0643\u064a\u0646 \u0628\u0646\u062c\u0627\u062d","sucessfully disabled":"\u062a\u0645 \u0627\u0644\u062a\u0639\u0637\u064a\u0644 \u0628\u0646\u062c\u0627\u062d","There was a problem updating the enabled state":"\u062d\u062f\u062b\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u062a\u0645\u0643\u064a\u0646",month:"\u0627\u0644\u0634\u0647\u0631",months:"\u0627\u0644\u0623\u0634\u0647\u0631","<No value>":"<\u0644\u0627 \u062a\u0648\u062c\u062f \u0642\u064a\u0645\u0629>",Inactivity:"\u0639\u062f\u0645 \u0627\u0644\u0646\u0634\u0627\u0637","All invitations":"\u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0639\u0648\u0627\u062a","Expired invitations":"\u0627\u0644\u062f\u0639\u0648\u0627\u062a \u0645\u0646\u062a\u0647\u064a\u0629 \u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629",Invitations:"\u0627\u0644\u062f\u0639\u0648\u0627\u062a","Self registrations":"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u0630\u0627\u062a\u064a\u0629","User Management":"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646","{{count}} selected_0":"{{count}} \u0645\u062d\u062f\u062f","{{count}} selected_1":"{{count}} \u0645\u062d\u062f\u062f","{{count}} selected_2":"","{{count}} selected_3":"","{{count}} selected_4":"","{{count}} selected_5":"","Name is already taken":"\u0627\u0644\u0627\u0633\u0645 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0641\u0639\u0644","Could not verify if this name is unique":"\u062a\u0639\u0630\u0631 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0645\u0627 \u0625\u0630\u0627 \u0643\u0627\u0646 \u0647\u0630\u0627 \u0627\u0644\u0627\u0633\u0645 \u0641\u0631\u064a\u062f\u0627\u064b","Password should be at least 8 characters long":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0630\u0627\u062a \u0637\u0648\u0644 8 \u0645\u062d\u0627\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Password should be no longer than 34 characters":"\u064a\u062c\u0628 \u0623\u0644\u0627 \u062a\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0630\u0627\u062a \u0637\u0648\u0644 \u0623\u0643\u0628\u0631 \u0645\u0646 34 \u0645\u062d\u0631\u0641\u0627\u064b","Password should contain at least one UPPERCASE letter":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u062d\u0631\u0641\u0627\u064b \u0643\u0628\u064a\u0631\u0627\u064b \u0648\u0627\u062d\u062f\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Password should contain at least one number":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0631\u0642\u0645\u0627\u064b \u0648\u0627\u062d\u062f\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644","Password should have at least one special character":"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u062d\u0631\u0641\u0627\u064b \u062e\u0627\u0635\u0627\u064b \u0648\u0627\u062d\u062f\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",Confirm:"\u062a\u0623\u0643\u064a\u062f"}},599:function(e){e.exports={"User management":"","Use database locale / no translation":"",Search:"","Enter search term":"","Please enter at least {{ minCharCount }} characters":"","No matches found":"","There was a problem retreiving your search results":"","There was a problem retreiving the available authorities.":"",Authorities:"","Selected authorities only":"","All (Full authority)":"","Analytics Table Hook":"",Attribute:"","Category Combo":"",Category:"","Category Option":"","Category Option Group":"","Category Option Group Set":"",Chart:"","Color Set":"",Constant:"",Dashboard:"","Data Element Group Sets":"","Data Element Groups":"","Data Element":"","Min/max rule":"","Data Set":"","Data Value":"",Document:"","Event Chart":"","Event Report":"","External Map Layer":"","Indicator Group Sets":"","Indicator Group":"","Indicator Type":"",Indicator:"","Legend Set":"",Map:"","Min-Max Data Element":"","Option Group Set":"","Option Group":"","Option Set":"","Organisation Unit":"","Organisation Unit Group Set":"","Organisation Unit Group":"",Predictor:"","Program Stage":"",Program:"","Program Indicator":"","Program Indicator Group":"","Program Rule":"","Program Tracked Entity Attribute Group":"","Push Analysis":"","Relationship Type":"","Report Table":"",Report:"",Section:"","SQL View":"","Tracked Entity":"","Tracked Entity Attribute":"","Tracked Entity Data Value":"","Tracked Entity Instance":"","User Group":"","User Role":"",User:"","Validation Rule Group":"","Validation Rule":"","Data predictor group":"","Skip data import audit":"",Apps:"",Tracker:"","Import-Export":"",System:"",Add:"",list:"","You do not have access to any section of the DHIS 2 User Management App":"","Send message":"",Update:"","Create new":"","Back to":"","You are not allowed to edit":"",Confirm:"","There was an error fetching the list":"","Select an organisation unit":"","Organisation unit":"","Page not found.":"","No match for":"","Go back home":"",'User "{{displayName}}" replicated successfuly':"","There was a problem replicating the user":"",Username:"","Username for new user":"",Password:"","Password for new user":"",Replicate:"",Cancel:"","Search by name":"","Could not load available items":"",Filter:"","Filter available and selected items":"","There was a problem displaying the GroupEditor":"",Apply:"","Clear all":"","There was an error loading the current user":"","You do not have authorities to see users, user roles or user groups":"","Display name":"",ID:"","Last login":"",Created:"",Surname:"","First name":"",Introduction:"","Job title":"","Works at":"",Education:"",Interests:"",Nationality:"",Birthday:"",Gender:"",Speaks:"","E-mail":"","Mobile phone number":"","Organisations units":"","User roles":"",Members:"","Number of users":"","Could not load the user group data. Please refresh the page.":"",'User group "{{displayName}}" saved successfully':"","There was a problem saving the user group.":"",Save:"",Name:"",Code:"","Available users":"","Group members":"","Available user groups":"","Managed user groups":"","You left group":"","You joined group":"","There was a problem updating your group membership":"","User Group Management":"",'User role "{{displayName}}" saved successfully':"","There was a problem saving the user role.":"",Description:"","User Role Management":"","Could not load the user data. Please refresh the page.":"",'User "{{displayName}}" saved successfully':"","There was a problem saving the user.":"","Show fewer options":"","Show more options":"","Send invite":"","Selecting an organisation unit provides access to all units in the sub-hierarchy":"","Create account or email invitation":"","External authentication only (OpenID or LDAP)":"","Retype password":"",OpenID:"","LDAP identifier":"",WhatsApp:"","Facebook Messenger":"",Skype:"",Telegram:"",Twitter:"","Interface language":"","Database language":"","Available roles":"","Selected roles":"","Data capture and maintenance organisation units":"","Data output and analytic organisation units":"","Search Organisation Units":"","Selected user groups":"","Available dimension restrictions for data analytics":"","Selected dimension restrictions for data analytics":"","Replicate user":"","Are you sure you want to disable two factor authentication for":"","Succesfully disabled two factor authentication for":"","There was a problem updating two factor authentication":"","Are you sure you want to disable":"","Are you sure you want to enable":"","sucessfully disabled":"","successfully enabled":"","There was a problem updating the enabled state":"",month:"",months:"","<No value>":"",Inactivity:"","All invitations":"","Expired invitations":"",Invitations:"","Self registrations":"","User Management":"","{{count}} selected":"","{{count}} selected_plural":"",Yes:"",No:"","Something went wrong when processing your request.":"","Validating...":"",'Are you sure you want to remove the {{type}} "{{displayName}}"?':"",'{{type}} "{{displayName}}" removed successfully':"",'There was a problem removing {{type}} "{{displayName}}"?':"","Exceeds maximum character limit of 50":"","Please enter a valid date with the following format yyyy-mm-dd":"","Please provide a valid email address":"","Value should be an integer":"","Value should be a nagative integer":"","Value should be a number":"","Value should be a positive integer":"","Passwords do not match":"","This field is required":"","This field is required. Please select at least one":"","A username should be at least 2 characters long":"","Username may not exceed 140 characters":"","Please provide a valid international phone number (+0123456789)":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Username already taken":"","There was a problem whilst checking the availability of this username":"","{{fieldDisplayName}} is already taken":"","Could not verify if this {{fieldDisplayName}} is unique":"","Attribute value needs to be unique, value already taken.":"","There was a problem checking if this attribute value is unique":""}},600:function(e){e.exports={"Use database locale / no translation":"Anv\xe4nd databaslokal / ingen \xf6vers\xe4ttning",Search:"S\xf6k","Enter search term":"Ange s\xf6kbegrepp","Please enter at least {{ minCharCount }} characters":"Ange minst {{minCharCount}} tecken","No matches found":"Inga tr\xe4ffar hittades",Authorities:"Beh\xf6righeter","Selected authorities only":"Endast valda beh\xf6righeter",Add:"L\xe4gg till",list:"list","Send message":"Skicka meddelande",Update:"Uppdatera","Create new":"Skapa ny","Back to":"Tillbaka till ","Select an organisation unit":"V\xe4lj en organisationsenhet","Organisation unit":"Organisationsenhet","Page not found.":"Sidan hittades inte","No match for":"Ingen tr\xe4ff hittades f\xf6r","Go back home":"G\xe5 tillbaka till hem","This field is required":"F\xe4ltet \xe4r n\xf6dv\xe4ndigt","User replicated successfuly":"Anv\xe4ndaren replikerades framg\xe5ngsrikt","There was a problem replicating the user":"Det gick inte att replikera anv\xe4ndaren","Validating...":"Validerar...",Username:"Anv\xe4ndarnamn","Username for new user":"Anv\xe4ndarnamn f\xf6r ny anv\xe4ndare",Password:"L\xf6senord","Password for new user":"L\xf6senord f\xf6r ny anv\xe4ndare",Replicate:"Replikera",Cancel:"Avbryt","Search by name":"S\xf6k p\xe5 namn",Filter:"Filtrera","Filter available and selected items":"Filtrera tillg\xe4ngliga och valda objekt",Apply:"Verkst\xe4ll","Clear all":"Rensa alla","User group saved successfully":"Anv\xe4ndargrupp sparad","There was a problem saving the user group.":"Det gick inte att spara anv\xe4ndargruppen.",Details:"Detaljer",Save:"Spara",Name:"Namn","Available users":"Tillg\xe4ngliga anv\xe4ndare","Group members":"Gruppmedlemmar","Available user groups":"Tillg\xe4ngliga anv\xe4ndargrupper","Managed user groups":"Hanterad usergrupper","You joined group":"Du gick med i gruppen","You left group":"Du l\xe4mnade gruppen","There was a problem updating your group membership":"Det gick inte att uppdatera ditt gruppmedlemskap","Are you sure you want to remove this user group?":"\xc4r du s\xe4ker p\xe5 att du vill ta bort den h\xe4r anv\xe4ndargruppen?","User group removed succesfully":"Anv\xe4ndargruppen har tagits bort","There was a problem deleting the user group":"Det gick inte att ta bort anv\xe4ndargruppen","User Group Management":"Anv\xe4ndargrupphantering","User role saved successfully":"Anv\xe4ndarroll sparats","There was a problem saving the user role.":"Det gick inte att spara anv\xe4ndarrollen.",Description:"Beskrivning","Are you sure you want to remove this user role?":"\xc4r du s\xe4ker p\xe5 att du vill ta bort den h\xe4r anv\xe4ndarrollen?","User role removed succesfully":"Anv\xe4ndarrollen har tagits bort","There was a problem deleting the user role":"Det gick inte att ta bort anv\xe4ndarrollen","User Role Management":"Anv\xe4ndarrollhantering","Could not load the user data. Please refresh the page.":"Det gick inte att ladda anv\xe4ndardata. Uppdatera sidan.","User saved successfully":"Anv\xe4ndaren har sparats","There was a problem saving the user.":"Det gick inte att spara anv\xe4ndaren.","Show fewer options":"Visa f\xe4rre alternativ","Show more options":"Visa fler alternativ","Username already taken":"Anv\xe4ndarnamn redan upptaget","There was a problem whilst checking the availability of this username":"Ett problem uppstod n\xe4r du kontrollerade tillg\xe4ngligheten f\xf6r det h\xe4r anv\xe4ndarnamnet","Selecting an organisation unit provides access to all units in the sub-hierarchy":"Val av en organisationsenhet ger tillg\xe5ng till alla enheter i underhierarkin","External authentication only (OpenID or LDAP)":"Endast extern autentisering (OpenID eller LDAP)","Retype password":"Skriv in l\xf6senord igen:",Surname:"F\xf6rnamn","First name":"F\xf6rnamn","E-mail":"E-post",openID:"openID","LDAP Identifier":"LDAP Identifierare","Mobile phone number":"Mobiltelefonnummer","Interface language":"Spr\xe5k f\xf6r anv\xe4ndargr\xe4nssnittet","Database language":"Database spr\xe5k","Available roles":"Tillg\xe4ngliga roller","Selected roles":"Valda roller","Data capture and maintenance organisation units":"Datainsamling och underh\xe5lls organisationsenheter","Data output and analytic organisation units":"Analytiska organisationsenheter","Search Organisation Units":"S\xf6k organisationsenheter","Selected user groups":"Valda anv\xe4ndargrupper","Available dimension restrictions for data analytics":"","Selected dimension restrictions for data analytics":"","A user should have at least one User Role":"Anv\xe4ndaren ska ha minst en anv\xe4ndarroll","Passwords do not match":"L\xf6senorden st\xe4mmer inte \xf6verens","Please provide a valid email address":"Ange en giltig epost adress","Are you sure you want to remove this user?":"\xc4r du s\xe4ker p\xe5 att du vill ta bort den h\xe4r anv\xe4ndaren?","User removed succesfully":"Anv\xe4ndaren har tagits bort","There was a problem deleting the user":"Det gick inte att ta bort anv\xe4ndaren","Replicate user":"Replikera anv\xe4ndaren","successfully enabled":"aktiverat","sucessfully disabled":"inaktiverad","There was a problem updating the enabled state":"",month:"m\xe5nad",months:"m\xe5nader","<No value>":"<Inget v\xe4rde>",Inactivity:"Inaktivitet","All invitations":"Alla inbjudningar","Expired invitations":"F\xf6rfallna inbjudningar",Invitations:"Inbjudningar","Self registrations":"Sj\xe4lvregistreringar","User Management":"Anv\xe4ndarhantering","{{count}} selected":"{{count}} vald","{{count}} selected_plural":"{{count}} valda","Name is already taken":"Namnet anv\xe4nds redan","Could not verify if this name is unique":"Det gick inte att verifiera om detta namn \xe4r unikt","Password should be at least 8 characters long":"L\xf6senordet m\xe5ste vara minst 8 tecken l\xe5ngt.","Password should be no longer than 34 characters":"L\xf6senord m\xe5ste vara kortare \xe4n 34 tecken","Password should contain at least one UPPERCASE letter":"L\xf6senordet ska inneh\xe5lla minst en versal bokstav","Password should contain at least one number":"L\xf6senordet m\xe5ste inneh\xe5lla minst en siffra","Password should have at least one special character":"L\xf6senordet ska ha minst ett specialtecken",Confirm:"Bekr\xe4fta"}},604:function(e,t,a){e.exports=a(1340)},613:function(e,t,a){}},[[604,1,2]]]);
//# sourceMappingURL=main.25d5c3b7.chunk.js.map